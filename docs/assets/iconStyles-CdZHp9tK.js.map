{"version":3,"file":"iconStyles-CdZHp9tK.js","sources":["../../src/layers/iconStyles.ts"],"sourcesContent":["import { Style, Icon } from 'ol/style'\nimport type { FeatureLike } from 'ol/Feature'\n\n// Lucide icon SVG paths (24x24 viewBox)\nexport const LUCIDE_ICONS = {\n  // Fishing / Water related\n  anchor: 'M12 22V8M5 12H2a10 10 0 0 0 20 0h-3M12 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6z',\n  ship: 'M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6M12 10v4',\n  fish: 'M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.46-3.44 6-7 6-3.56 0-7.56-2.54-8.5-6ZM18 12v.5M2 12c.94-3.46 4.94-6 8.5-6',\n  waves: 'M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2s2.4 2 5 2c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2s2.4 2 5 2c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1',\n  mapPin: 'M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0ZM12 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z',\n  star: 'M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z',\n  heart: 'M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z',\n\n  // Boat ramp / Slipway - custom triangle pointing down into water\n  slipway: 'M4 8h16l-8 12L4 8zM4 8V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2M2 20h20',\n\n  // Default\n  circle: 'M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z',\n}\n\n// Create filled circle with icon overlay\nfunction createFilledIconSvg(iconPath: string, bgColor: string, iconColor: string, size: number): string {\n  const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${size}\" height=\"${size}\" viewBox=\"0 0 32 32\">\n    <circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"${bgColor}\" stroke=\"white\" stroke-width=\"2\"/>\n    <g transform=\"translate(4, 4) scale(1)\">\n      <path d=\"${iconPath}\" fill=\"none\" stroke=\"${iconColor}\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    </g>\n  </svg>`\n  return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg)\n}\n\n// Get zoom-responsive scale factor\nfunction getScaleForResolution(resolution: number): number {\n  if (resolution > 300) return 0.5\n  if (resolution > 150) return 0.6\n  if (resolution > 75) return 0.7\n  if (resolution > 40) return 0.8\n  if (resolution > 20) return 0.9\n  if (resolution > 10) return 1.0\n  return 1.1\n}\n\n// Style cache to avoid recreating styles\nconst styleCache = new Map<string, Style>()\n\nexport interface IconStyleOptions {\n  icon: keyof typeof LUCIDE_ICONS\n  color: string\n  bgColor: string\n  baseSize?: number\n}\n\n// Create a zoom-responsive icon style function\nexport function createIconStyle(options: IconStyleOptions) {\n  const { icon, color, bgColor, baseSize = 28 } = options\n  const iconPath = LUCIDE_ICONS[icon] || LUCIDE_ICONS.circle\n\n  return function(_feature: FeatureLike, resolution: number): Style {\n    const scale = getScaleForResolution(resolution)\n    const cacheKey = `${icon}-${bgColor}-${scale.toFixed(2)}`\n\n    let style = styleCache.get(cacheKey)\n    if (!style) {\n      const svgSrc = createFilledIconSvg(iconPath, bgColor, color, baseSize)\n      style = new Style({\n        image: new Icon({\n          src: svgSrc,\n          scale: scale,\n          anchor: [0.5, 0.5],\n        })\n      })\n      styleCache.set(cacheKey, style)\n    }\n\n    return style\n  }\n}\n\n// Predefined styles for VisApp layers\nexport const VIS_LAYER_STYLES = {\n  trailerhellingen: createIconStyle({\n    icon: 'ship',\n    color: 'white',\n    bgColor: '#4CAF50',  // Green\n    baseSize: 28\n  }),\n\n  aanlegsteigers: createIconStyle({\n    icon: 'anchor',\n    color: 'white',\n    bgColor: '#2196F3',  // Blue\n    baseSize: 28\n  }),\n\n  viswater: createIconStyle({\n    icon: 'fish',\n    color: 'white',\n    bgColor: '#9C27B0',  // Purple\n    baseSize: 26\n  }),\n\n  favoriteSpot: createIconStyle({\n    icon: 'star',\n    color: 'white',\n    bgColor: '#FF9800',  // Orange\n    baseSize: 26\n  }),\n\n  catch: createIconStyle({\n    icon: 'fish',\n    color: 'white',\n    bgColor: '#00BCD4',  // Cyan\n    baseSize: 26\n  }),\n}\n"],"names":["LUCIDE_ICONS","createFilledIconSvg","iconPath","bgColor","iconColor","size","svg","getScaleForResolution","resolution","styleCache","createIconStyle","options","icon","color","baseSize","_feature","scale","cacheKey","style","svgSrc","Style","Icon","VIS_LAYER_STYLES"],"mappings":"+CAIO,MAAMA,EAAe,CAE1B,OAAQ,wEACR,KAAM,8NACN,KAAM,qIACN,MAAO,4PACP,OAAQ,oFACR,KAAM,+FACN,MAAO,2IAGP,QAAS,oEAGT,OAAQ,0EACV,EAGA,SAASC,EAAoBC,EAAkBC,EAAiBC,EAAmBC,EAAsB,CACvG,MAAMC,EAAM,kDAAkDD,CAAI,aAAaA,CAAI;AAAA,2CAC1CF,CAAO;AAAA;AAAA,iBAEjCD,CAAQ,yBAAyBE,CAAS;AAAA;AAAA,UAGzD,MAAO,oCAAsC,mBAAmBE,CAAG,CACrE,CAGA,SAASC,EAAsBC,EAA4B,CACzD,OAAIA,EAAa,IAAY,GACzBA,EAAa,IAAY,GACzBA,EAAa,GAAW,GACxBA,EAAa,GAAW,GACxBA,EAAa,GAAW,GACxBA,EAAa,GAAW,EACrB,GACT,CAGA,MAAMC,MAAiB,IAUhB,SAASC,EAAgBC,EAA2B,CACzD,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAV,EAAS,SAAAW,EAAW,IAAOH,EAC1CT,EAAWF,EAAaY,CAAI,GAAKZ,EAAa,OAEpD,OAAO,SAASe,EAAuBP,EAA2B,CAChE,MAAMQ,EAAQT,EAAsBC,CAAU,EACxCS,EAAW,GAAGL,CAAI,IAAIT,CAAO,IAAIa,EAAM,QAAQ,CAAC,CAAC,GAEvD,IAAIE,EAAQT,EAAW,IAAIQ,CAAQ,EACnC,GAAI,CAACC,EAAO,CACV,MAAMC,EAASlB,EAAoBC,EAAUC,EAASU,EAAOC,CAAQ,EACrEI,EAAQ,IAAIE,EAAM,CAChB,MAAO,IAAIC,EAAK,CACd,IAAKF,EACL,MAAAH,EACA,OAAQ,CAAC,GAAK,EAAG,CAAA,CAClB,CAAA,CACF,EACDP,EAAW,IAAIQ,EAAUC,CAAK,CAChC,CAEA,OAAOA,CACT,CACF,CAGO,MAAMI,EAAmB,CAC9B,iBAAkBZ,EAAgB,CAChC,KAAM,OACN,MAAO,QACP,QAAS,UACT,SAAU,EAAA,CACX,EAED,eAAgBA,EAAgB,CAC9B,KAAM,SACN,MAAO,QACP,QAAS,UACT,SAAU,EAAA,CACX,EAED,SAAUA,EAAgB,CACxB,KAAM,OACN,MAAO,QACP,QAAS,UACT,SAAU,EAAA,CACX,EAED,aAAcA,EAAgB,CAC5B,KAAM,OACN,MAAO,QACP,QAAS,UACT,SAAU,EAAA,CACX,EAED,MAAOA,EAAgB,CACrB,KAAM,OACN,MAAO,QACP,QAAS,UACT,SAAU,EAAA,CACX,CACH"}