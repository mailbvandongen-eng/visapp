{"version":3,"file":"boothellingenOL-dZNjt5Nh.js","sources":["../../src/layers/boothellingenOL.ts"],"sourcesContent":["import VectorLayer from 'ol/layer/Vector'\nimport VectorSource from 'ol/source/Vector'\nimport GeoJSON from 'ol/format/GeoJSON'\nimport { Style, Circle, Fill, Stroke } from 'ol/style'\n\n// Overpass API query for slipways (boat ramps) in Netherlands\nconst OVERPASS_QUERY = `\n[out:json][timeout:60];\narea[\"name\"=\"Nederland\"]->.nl;\n(\n  node[\"leisure\"=\"slipway\"](area.nl);\n  way[\"leisure\"=\"slipway\"](area.nl);\n);\nout center;\n`\n\nexport async function createBoothellingenLayer(): Promise<VectorLayer<VectorSource>> {\n  const source = new VectorSource()\n\n  const layer = new VectorLayer({\n    source,\n    style: new Style({\n      image: new Circle({\n        radius: 8,\n        fill: new Fill({ color: '#4CAF50' }),\n        stroke: new Stroke({ color: '#fff', width: 2 })\n      })\n    }),\n    properties: {\n      name: 'Boothellingen'\n    }\n  })\n\n  try {\n    const response = await fetch('https://overpass-api.de/api/interpreter', {\n      method: 'POST',\n      body: `data=${encodeURIComponent(OVERPASS_QUERY)}`\n    })\n\n    const data = await response.json()\n\n    const features = data.elements\n      .filter((el: any) => el.lat && el.lon || el.center)\n      .map((el: any) => ({\n        type: 'Feature',\n        geometry: {\n          type: 'Point',\n          coordinates: [\n            el.lon || el.center?.lon,\n            el.lat || el.center?.lat\n          ]\n        },\n        properties: {\n          id: el.id,\n          name: el.tags?.name || 'Boothelling',\n          access: el.tags?.access || 'unknown',\n          fee: el.tags?.fee || 'unknown',\n          surface: el.tags?.surface\n        }\n      }))\n\n    const geojson = {\n      type: 'FeatureCollection',\n      features\n    }\n\n    source.addFeatures(\n      new GeoJSON().readFeatures(geojson, {\n        featureProjection: 'EPSG:3857'\n      })\n    )\n\n    console.log(`Loaded ${features.length} boothellingen`)\n  } catch (error) {\n    console.error('Failed to load boothellingen:', error)\n  }\n\n  return layer\n}\n"],"names":["OVERPASS_QUERY","createBoothellingenLayer","source","VectorSource","layer","VectorLayer","Style","Circle","Fill","Stroke","features","el","geojson","GeoJSON","error"],"mappings":"qHAMA,MAAMA,EAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUvB,eAAsBC,GAA+D,CACnF,MAAMC,EAAS,IAAIC,EAEbC,EAAQ,IAAIC,EAAY,CAC5B,OAAAH,EACA,MAAO,IAAII,EAAM,CACf,MAAO,IAAIC,EAAO,CAChB,OAAQ,EACR,KAAM,IAAIC,EAAK,CAAE,MAAO,UAAW,EACnC,OAAQ,IAAIC,EAAO,CAAE,MAAO,OAAQ,MAAO,EAAG,CAAA,CAC/C,CAAA,CACF,EACD,WAAY,CACV,KAAM,eAAA,CACR,CACD,EAED,GAAI,CAQF,MAAMC,GAFO,MALI,MAAM,MAAM,0CAA2C,CACtE,OAAQ,OACR,KAAM,QAAQ,mBAAmBV,CAAc,CAAC,EAAA,CACjD,GAE2B,KAAA,GAEN,SACnB,OAAQW,GAAYA,EAAG,KAAOA,EAAG,KAAOA,EAAG,MAAM,EACjD,IAAKA,IAAa,CACjB,KAAM,UACN,SAAU,CACR,KAAM,QACN,YAAa,CACXA,EAAG,KAAOA,EAAG,QAAQ,IACrBA,EAAG,KAAOA,EAAG,QAAQ,GAAA,CACvB,EAEF,WAAY,CACV,GAAIA,EAAG,GACP,KAAMA,EAAG,MAAM,MAAQ,cACvB,OAAQA,EAAG,MAAM,QAAU,UAC3B,IAAKA,EAAG,MAAM,KAAO,UACrB,QAASA,EAAG,MAAM,OAAA,CACpB,EACA,EAEEC,EAAU,CACd,KAAM,oBACN,SAAAF,CAAA,EAGFR,EAAO,YACL,IAAIW,EAAA,EAAU,aAAaD,EAAS,CAClC,kBAAmB,WAAA,CACpB,CAAA,EAGH,QAAQ,IAAI,UAAUF,EAAS,MAAM,gBAAgB,CACvD,OAASI,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,CACtD,CAEA,OAAOV,CACT"}