const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/aanlegsteigersOL-CNIdV8rD.js","assets/GeoJSON-DqxoGljG.js","assets/boothellingenOL--iPcoTYq.js","assets/viswaterOL-DQ8wN3lp.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function Tg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bd={exports:{}},pa={},Gd={exports:{}},Re={};var S0;function PC(){if(S0)return Re;S0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=p&&A[p]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function w(A,O,ce){this.props=A,this.context=O,this.refs=S,this.updater=ce||v}w.prototype.isReactComponent={},w.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function R(){}R.prototype=w.prototype;function T(A,O,ce){this.props=A,this.context=O,this.refs=S,this.updater=ce||v}var P=T.prototype=new R;P.constructor=T,x(P,w.prototype),P.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,N={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function j(A,O,ce){var de,he={},xe=null,we=null;if(O!=null)for(de in O.ref!==void 0&&(we=O.ref),O.key!==void 0&&(xe=""+O.key),O)L.call(O,de)&&!V.hasOwnProperty(de)&&(he[de]=O[de]);var Te=arguments.length-2;if(Te===1)he.children=ce;else if(1<Te){for(var Pe=Array(Te),Ge=0;Ge<Te;Ge++)Pe[Ge]=arguments[Ge+2];he.children=Pe}if(A&&A.defaultProps)for(de in Te=A.defaultProps,Te)he[de]===void 0&&(he[de]=Te[de]);return{$$typeof:n,type:A,key:xe,ref:we,props:he,_owner:N.current}}function U(A,O){return{$$typeof:n,type:A.type,key:O,ref:A.ref,props:A.props,_owner:A._owner}}function $(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function re(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ce){return O[ce]})}var ee=/\/+/g;function Q(A,O){return typeof A=="object"&&A!==null&&A.key!=null?re(""+A.key):O.toString(36)}function te(A,O,ce,de,he){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var we=!1;if(A===null)we=!0;else switch(xe){case"string":case"number":we=!0;break;case"object":switch(A.$$typeof){case n:case e:we=!0}}if(we)return we=A,he=he(we),A=de===""?"."+Q(we,0):de,I(he)?(ce="",A!=null&&(ce=A.replace(ee,"$&/")+"/"),te(he,O,ce,"",function(Ge){return Ge})):he!=null&&($(he)&&(he=U(he,ce+(!he.key||we&&we.key===he.key?"":(""+he.key).replace(ee,"$&/")+"/")+A)),O.push(he)),1;if(we=0,de=de===""?".":de+":",I(A))for(var Te=0;Te<A.length;Te++){xe=A[Te];var Pe=de+Q(xe,Te);we+=te(xe,O,ce,Pe,he)}else if(Pe=y(A),typeof Pe=="function")for(A=Pe.call(A),Te=0;!(xe=A.next()).done;)xe=xe.value,Pe=de+Q(xe,Te++),we+=te(xe,O,ce,Pe,he);else if(xe==="object")throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return we}function le(A,O,ce){if(A==null)return A;var de=[],he=0;return te(A,de,"","",function(xe){return O.call(ce,xe,he++)}),de}function ne(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(ce){(A._status===0||A._status===-1)&&(A._status=1,A._result=ce)},function(ce){(A._status===0||A._status===-1)&&(A._status=2,A._result=ce)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var J={current:null},B={transition:null},Z={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:B,ReactCurrentOwner:N};function K(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:le,forEach:function(A,O,ce){le(A,function(){O.apply(this,arguments)},ce)},count:function(A){var O=0;return le(A,function(){O++}),O},toArray:function(A){return le(A,function(O){return O})||[]},only:function(A){if(!$(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Re.Component=w,Re.Fragment=t,Re.Profiler=r,Re.PureComponent=T,Re.StrictMode=i,Re.Suspense=h,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Re.act=K,Re.cloneElement=function(A,O,ce){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var de=x({},A.props),he=A.key,xe=A.ref,we=A._owner;if(O!=null){if(O.ref!==void 0&&(xe=O.ref,we=N.current),O.key!==void 0&&(he=""+O.key),A.type&&A.type.defaultProps)var Te=A.type.defaultProps;for(Pe in O)L.call(O,Pe)&&!V.hasOwnProperty(Pe)&&(de[Pe]=O[Pe]===void 0&&Te!==void 0?Te[Pe]:O[Pe])}var Pe=arguments.length-2;if(Pe===1)de.children=ce;else if(1<Pe){Te=Array(Pe);for(var Ge=0;Ge<Pe;Ge++)Te[Ge]=arguments[Ge+2];de.children=Te}return{$$typeof:n,type:A.type,key:he,ref:xe,props:de,_owner:we}},Re.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:a,_context:A},A.Consumer=A},Re.createElement=j,Re.createFactory=function(A){var O=j.bind(null,A);return O.type=A,O},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:u,render:A}},Re.isValidElement=$,Re.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:ne}},Re.memo=function(A,O){return{$$typeof:d,type:A,compare:O===void 0?null:O}},Re.startTransition=function(A){var O=B.transition;B.transition={};try{A()}finally{B.transition=O}},Re.unstable_act=K,Re.useCallback=function(A,O){return J.current.useCallback(A,O)},Re.useContext=function(A){return J.current.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A){return J.current.useDeferredValue(A)},Re.useEffect=function(A,O){return J.current.useEffect(A,O)},Re.useId=function(){return J.current.useId()},Re.useImperativeHandle=function(A,O,ce){return J.current.useImperativeHandle(A,O,ce)},Re.useInsertionEffect=function(A,O){return J.current.useInsertionEffect(A,O)},Re.useLayoutEffect=function(A,O){return J.current.useLayoutEffect(A,O)},Re.useMemo=function(A,O){return J.current.useMemo(A,O)},Re.useReducer=function(A,O,ce){return J.current.useReducer(A,O,ce)},Re.useRef=function(A){return J.current.useRef(A)},Re.useState=function(A){return J.current.useState(A)},Re.useSyncExternalStore=function(A,O,ce){return J.current.useSyncExternalStore(A,O,ce)},Re.useTransition=function(){return J.current.useTransition()},Re.version="18.3.1",Re}var C0;function al(){return C0||(C0=1,Gd.exports=PC()),Gd.exports}var T0;function IC(){if(T0)return pa;T0=1;var n=al(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,d){var g,p={},y=null,v=null;d!==void 0&&(y=""+d),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(v=h.ref);for(g in h)i.call(h,g)&&!a.hasOwnProperty(g)&&(p[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)p[g]===void 0&&(p[g]=h[g]);return{$$typeof:e,type:u,key:y,ref:v,props:p,_owner:r.current}}return pa.Fragment=t,pa.jsx=l,pa.jsxs=l,pa}var R0;function kC(){return R0||(R0=1,Bd.exports=IC()),Bd.exports}var E=kC(),Du={},Wd={exports:{}},Kt={},Ud={exports:{}},Kd={};var P0;function LC(){return P0||(P0=1,(function(n){function e(B,Z){var K=B.length;B.push(Z);e:for(;0<K;){var A=K-1>>>1,O=B[A];if(0<r(O,Z))B[A]=Z,B[K]=O,K=A;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Z=B[0],K=B.pop();if(K!==Z){B[0]=K;e:for(var A=0,O=B.length,ce=O>>>1;A<ce;){var de=2*(A+1)-1,he=B[de],xe=de+1,we=B[xe];if(0>r(he,K))xe<O&&0>r(we,he)?(B[A]=we,B[xe]=K,A=xe):(B[A]=he,B[de]=K,A=de);else if(xe<O&&0>r(we,K))B[A]=we,B[xe]=K,A=xe;else break e}}return Z}function r(B,Z){var K=B.sortIndex-Z.sortIndex;return K!==0?K:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],g=1,p=null,y=3,v=!1,x=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(B){for(var Z=t(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=B)i(d),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(d)}}function I(B){if(S=!1,P(B),!x)if(t(h)!==null)x=!0,ne(L);else{var Z=t(d);Z!==null&&J(I,Z.startTime-B)}}function L(B,Z){x=!1,S&&(S=!1,R(j),j=-1),v=!0;var K=y;try{for(P(Z),p=t(h);p!==null&&(!(p.expirationTime>Z)||B&&!re());){var A=p.callback;if(typeof A=="function"){p.callback=null,y=p.priorityLevel;var O=A(p.expirationTime<=Z);Z=n.unstable_now(),typeof O=="function"?p.callback=O:p===t(h)&&i(h),P(Z)}else i(h);p=t(h)}if(p!==null)var ce=!0;else{var de=t(d);de!==null&&J(I,de.startTime-Z),ce=!1}return ce}finally{p=null,y=K,v=!1}}var N=!1,V=null,j=-1,U=5,$=-1;function re(){return!(n.unstable_now()-$<U)}function ee(){if(V!==null){var B=n.unstable_now();$=B;var Z=!0;try{Z=V(!0,B)}finally{Z?Q():(N=!1,V=null)}}else N=!1}var Q;if(typeof T=="function")Q=function(){T(ee)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,le=te.port2;te.port1.onmessage=ee,Q=function(){le.postMessage(null)}}else Q=function(){w(ee,0)};function ne(B){V=B,N||(N=!0,Q())}function J(B,Z){j=w(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,ne(L))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(B){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var K=y;y=Z;try{return B()}finally{y=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=y;y=B;try{return Z()}finally{y=K}},n.unstable_scheduleCallback=function(B,Z,K){var A=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?A+K:A):K=A,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=K+O,B={id:g++,callback:Z,priorityLevel:B,startTime:K,expirationTime:O,sortIndex:-1},K>A?(B.sortIndex=K,e(d,B),t(h)===null&&B===t(d)&&(S?(R(j),j=-1):S=!0,J(I,K-A))):(B.sortIndex=O,e(h,B),x||v||(x=!0,ne(L))),B},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(B){var Z=y;return function(){var K=y;y=Z;try{return B.apply(this,arguments)}finally{y=K}}}})(Kd)),Kd}var I0;function MC(){return I0||(I0=1,Ud.exports=LC()),Ud.exports}var k0;function AC(){if(k0)return Kt;k0=1;var n=al(),e=MC();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(r[s]=o,s=0;s<o.length;s++)i.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function y(s){return h.call(p,s)?!0:h.call(g,s)?!1:d.test(s)?p[s]=!0:(g[s]=!0,!1)}function v(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,o,c,f){if(o===null||typeof o>"u"||v(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,f,m,_,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=C}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];w[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(R,T);w[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(R,T);w[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(R,T);w[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,o,c,f){var m=w.hasOwnProperty(o)?w[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,c,m,f)&&(c=null),f||m===null?y(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,f=m.attributeNamespace,c===null?s.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),N=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),B=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var K=Object.assign,A;function O(s){if(A===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);A=o&&o[1]||""}return`
`+A+s}var ce=!1;function de(s,o){if(!s||ce)return"";ce=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(z){var f=z}Reflect.construct(s,[],o)}else{try{o.call()}catch(z){f=z}s.call(o.prototype)}else{try{throw Error()}catch(z){f=z}s()}}catch(z){if(z&&f&&typeof z.stack=="string"){for(var m=z.stack.split(`
`),_=f.stack.split(`
`),C=m.length-1,k=_.length-1;1<=C&&0<=k&&m[C]!==_[k];)k--;for(;1<=C&&0<=k;C--,k--)if(m[C]!==_[k]){if(C!==1||k!==1)do if(C--,k--,0>k||m[C]!==_[k]){var M=`
`+m[C].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=C&&0<=k);break}}}finally{ce=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?O(s):""}function he(s){switch(s.tag){case 5:return O(s.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case N:return"Portal";case U:return"Profiler";case j:return"StrictMode";case Q:return"Suspense";case te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case $:return(s._context.displayName||"Context")+".Provider";case ee:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return o=s.displayName||null,o!==null?o:xe(s.type)||"Memo";case ne:o=s._payload,s=s._init;try{return xe(s(o))}catch{}}return null}function we(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(o);case 8:return o===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ge(s){var o=Pe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){f=""+C,_.call(this,C)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function hi(s){s._valueTracker||(s._valueTracker=Ge(s))}function ps(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Pe(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function Hn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Mn(s,o){var c=o.checked;return K({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function kt(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=Te(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Jt(s,o){o=o.checked,o!=null&&P(s,"checked",o,!1)}function $n(s,o){Jt(s,o);var c=Te(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?fi(s,o.type,c):o.hasOwnProperty("defaultValue")&&fi(s,o.type,Te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function di(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function fi(s,o,c){(o!=="number"||Hn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var en=Array.isArray;function tn(s,o,c,f){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Te(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Zn(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function nt(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(en(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Te(c)}}function ys(s,o){var c=Te(o.value),f=Te(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function _s(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Rr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fi(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Rr(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vs,Ao=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ji(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sh=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(s){sh.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),gi[o]=gi[s]})});function Tl(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||gi.hasOwnProperty(s)&&gi[s]?(""+o).trim():o+"px"}function Do(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,m=Tl(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,m):s[c]=m}}var Rl=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pr(s,o){if(o){if(Rl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function xs(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Ir(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var mi=null,fn=null,gn=null;function bo(s){if(s=ta(s)){if(typeof mi!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Hl(o),mi(s.stateNode,s.type,o))}}function No(s){fn?gn?gn.push(s):gn=[s]:fn=s}function Lt(){if(fn){var s=fn,o=gn;if(gn=fn=null,bo(s),o)for(s=0;s<o.length;s++)bo(o[s])}}function qn(s,o){return s(o)}function Mt(){}var zt=!1;function At(s,o,c){if(zt)return s(o,c);zt=!0;try{return qn(s,o,c)}finally{zt=!1,(fn!==null||gn!==null)&&(Mt(),Lt())}}function Dt(s,o){var c=s.stateNode;if(c===null)return null;var f=Hl(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var nn=!1;if(u)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){nn=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch{nn=!1}function pt(s,o,c,f,m,_,C,k,M){var z=Array.prototype.slice.call(arguments,3);try{o.apply(c,z)}catch(Y){this.onError(Y)}}var Ot=!1,ws=null,Pl=!1,oh=null,OE={onError:function(s){Ot=!0,ws=s}};function bE(s,o,c,f,m,_,C,k,M){Ot=!1,ws=null,pt.apply(OE,arguments)}function NE(s,o,c,f,m,_,C,k,M){if(bE.apply(this,arguments),Ot){if(Ot){var z=ws;Ot=!1,ws=null}else throw Error(t(198));Pl||(Pl=!0,oh=z)}}function kr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Xm(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Ym(s){if(kr(s)!==s)throw Error(t(188))}function FE(s){var o=s.alternate;if(!o){if(o=kr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,f=o;;){var m=c.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===c)return Ym(m),s;if(_===f)return Ym(m),o;_=_.sibling}throw Error(t(188))}if(c.return!==f.return)c=m,f=_;else{for(var C=!1,k=m.child;k;){if(k===c){C=!0,c=m,f=_;break}if(k===f){C=!0,f=m,c=_;break}k=k.sibling}if(!C){for(k=_.child;k;){if(k===c){C=!0,c=_,f=m;break}if(k===f){C=!0,f=_,c=m;break}k=k.sibling}if(!C)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Hm(s){return s=FE(s),s!==null?$m(s):null}function $m(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=$m(s);if(o!==null)return o;s=s.sibling}return null}var Zm=e.unstable_scheduleCallback,qm=e.unstable_cancelCallback,jE=e.unstable_shouldYield,zE=e.unstable_requestPaint,it=e.unstable_now,VE=e.unstable_getCurrentPriorityLevel,ah=e.unstable_ImmediatePriority,Qm=e.unstable_UserBlockingPriority,Il=e.unstable_NormalPriority,BE=e.unstable_LowPriority,Jm=e.unstable_IdlePriority,kl=null,Qn=null;function GE(s){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(kl,s,void 0,(s.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:KE,WE=Math.log,UE=Math.LN2;function KE(s){return s>>>=0,s===0?32:31-(WE(s)/UE|0)|0}var Ll=64,Ml=4194304;function Fo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Al(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,C=c&268435455;if(C!==0){var k=C&~m;k!==0?f=Fo(k):(_&=C,_!==0&&(f=Fo(_)))}else C=c&~m,C!==0?f=Fo(C):_!==0&&(f=Fo(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-An(o),m=1<<c,f|=s[c],o&=~m;return f}function XE(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YE(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var C=31-An(_),k=1<<C,M=m[C];M===-1?((k&c)===0||(k&f)!==0)&&(m[C]=XE(k,o)):M<=o&&(s.expiredLanes|=k),_&=~k}}function lh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ep(){var s=Ll;return Ll<<=1,(Ll&4194240)===0&&(Ll=64),s}function uh(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function jo(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-An(o),s[o]=c}function HE(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-An(c),_=1<<m;o[m]=0,f[m]=-1,s[m]=-1,c&=~_}}function ch(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-An(c),m=1<<f;m&o|s[f]&o&&(s[f]|=o),c&=~m}}var Fe=0;function tp(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var np,hh,ip,rp,sp,dh=!1,Dl=[],zi=null,Vi=null,Bi=null,zo=new Map,Vo=new Map,Gi=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function op(s,o){switch(s){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":zo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(o.pointerId)}}function Bo(s,o,c,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},o!==null&&(o=ta(o),o!==null&&hh(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function ZE(s,o,c,f,m){switch(o){case"focusin":return zi=Bo(zi,s,o,c,f,m),!0;case"dragenter":return Vi=Bo(Vi,s,o,c,f,m),!0;case"mouseover":return Bi=Bo(Bi,s,o,c,f,m),!0;case"pointerover":var _=m.pointerId;return zo.set(_,Bo(zo.get(_)||null,s,o,c,f,m)),!0;case"gotpointercapture":return _=m.pointerId,Vo.set(_,Bo(Vo.get(_)||null,s,o,c,f,m)),!0}return!1}function ap(s){var o=Lr(s.target);if(o!==null){var c=kr(o);if(c!==null){if(o=c.tag,o===13){if(o=Xm(c),o!==null){s.blockedOn=o,sp(s.priority,function(){ip(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ol(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=gh(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Oo=f,c.target.dispatchEvent(f),Oo=null}else return o=ta(c),o!==null&&hh(o),s.blockedOn=c,!1;o.shift()}return!0}function lp(s,o,c){Ol(s)&&c.delete(o)}function qE(){dh=!1,zi!==null&&Ol(zi)&&(zi=null),Vi!==null&&Ol(Vi)&&(Vi=null),Bi!==null&&Ol(Bi)&&(Bi=null),zo.forEach(lp),Vo.forEach(lp)}function Go(s,o){s.blockedOn===o&&(s.blockedOn=null,dh||(dh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qE)))}function Wo(s){function o(m){return Go(m,s)}if(0<Dl.length){Go(Dl[0],s);for(var c=1;c<Dl.length;c++){var f=Dl[c];f.blockedOn===s&&(f.blockedOn=null)}}for(zi!==null&&Go(zi,s),Vi!==null&&Go(Vi,s),Bi!==null&&Go(Bi,s),zo.forEach(o),Vo.forEach(o),c=0;c<Gi.length;c++)f=Gi[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Gi.length&&(c=Gi[0],c.blockedOn===null);)ap(c),c.blockedOn===null&&Gi.shift()}var Es=I.ReactCurrentBatchConfig,bl=!0;function QE(s,o,c,f){var m=Fe,_=Es.transition;Es.transition=null;try{Fe=1,fh(s,o,c,f)}finally{Fe=m,Es.transition=_}}function JE(s,o,c,f){var m=Fe,_=Es.transition;Es.transition=null;try{Fe=4,fh(s,o,c,f)}finally{Fe=m,Es.transition=_}}function fh(s,o,c,f){if(bl){var m=gh(s,o,c,f);if(m===null)Mh(s,o,f,Nl,c),op(s,f);else if(ZE(m,s,o,c,f))f.stopPropagation();else if(op(s,f),o&4&&-1<$E.indexOf(s)){for(;m!==null;){var _=ta(m);if(_!==null&&np(_),_=gh(s,o,c,f),_===null&&Mh(s,o,f,Nl,c),_===m)break;m=_}m!==null&&f.stopPropagation()}else Mh(s,o,f,null,c)}}var Nl=null;function gh(s,o,c,f){if(Nl=null,s=Ir(f),s=Lr(s),s!==null)if(o=kr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Xm(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Nl=s,null}function up(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VE()){case ah:return 1;case Qm:return 4;case Il:case BE:return 16;case Jm:return 536870912;default:return 16}default:return 16}}var Wi=null,mh=null,Fl=null;function cp(){if(Fl)return Fl;var s,o=mh,c=o.length,f,m="value"in Wi?Wi.value:Wi.textContent,_=m.length;for(s=0;s<c&&o[s]===m[s];s++);var C=c-s;for(f=1;f<=C&&o[c-f]===m[_-f];f++);return Fl=m.slice(s,1<f?1-f:void 0)}function jl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function zl(){return!0}function hp(){return!1}function rn(s){function o(c,f,m,_,C){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?zl:hp,this.isPropagationStopped=hp,this}return K(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),o}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ph=rn(Ss),Uo=K({},Ss,{view:0,detail:0}),eS=rn(Uo),yh,_h,Ko,Vl=K({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ko&&(Ko&&s.type==="mousemove"?(yh=s.screenX-Ko.screenX,_h=s.screenY-Ko.screenY):_h=yh=0,Ko=s),yh)},movementY:function(s){return"movementY"in s?s.movementY:_h}}),dp=rn(Vl),tS=K({},Vl,{dataTransfer:0}),nS=rn(tS),iS=K({},Uo,{relatedTarget:0}),vh=rn(iS),rS=K({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=rn(rS),oS=K({},Ss,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),aS=rn(oS),lS=K({},Ss,{data:0}),fp=rn(lS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dS(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=hS[s])?!!o[s]:!1}function xh(){return dS}var fS=K({},Uo,{key:function(s){if(s.key){var o=uS[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=jl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(s){return s.type==="keypress"?jl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?jl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gS=rn(fS),mS=K({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=rn(mS),pS=K({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),yS=rn(pS),_S=K({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=rn(_S),xS=K({},Vl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=rn(xS),ES=[9,13,27,32],wh=u&&"CompositionEvent"in window,Xo=null;u&&"documentMode"in document&&(Xo=document.documentMode);var SS=u&&"TextEvent"in window&&!Xo,mp=u&&(!wh||Xo&&8<Xo&&11>=Xo),pp=" ",yp=!1;function _p(s,o){switch(s){case"keyup":return ES.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Cs=!1;function CS(s,o){switch(s){case"compositionend":return vp(o);case"keypress":return o.which!==32?null:(yp=!0,pp);case"textInput":return s=o.data,s===pp&&yp?null:s;default:return null}}function TS(s,o){if(Cs)return s==="compositionend"||!wh&&_p(s,o)?(s=cp(),Fl=mh=Wi=null,Cs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mp&&o.locale!=="ko"?null:o.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!RS[s.type]:o==="textarea"}function wp(s,o,c,f){No(f),o=Kl(o,"onChange"),0<o.length&&(c=new ph("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var Yo=null,Ho=null;function PS(s){zp(s,0)}function Bl(s){var o=ks(s);if(ps(o))return s}function IS(s,o){if(s==="change")return o}var Ep=!1;if(u){var Eh;if(u){var Sh="oninput"in document;if(!Sh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Sh=typeof Sp.oninput=="function"}Eh=Sh}else Eh=!1;Ep=Eh&&(!document.documentMode||9<document.documentMode)}function Cp(){Yo&&(Yo.detachEvent("onpropertychange",Tp),Ho=Yo=null)}function Tp(s){if(s.propertyName==="value"&&Bl(Ho)){var o=[];wp(o,Ho,s,Ir(s)),At(PS,o)}}function kS(s,o,c){s==="focusin"?(Cp(),Yo=o,Ho=c,Yo.attachEvent("onpropertychange",Tp)):s==="focusout"&&Cp()}function LS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bl(Ho)}function MS(s,o){if(s==="click")return Bl(o)}function AS(s,o){if(s==="input"||s==="change")return Bl(o)}function DS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Dn=typeof Object.is=="function"?Object.is:DS;function $o(s,o){if(Dn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!h.call(o,m)||!Dn(s[m],o[m]))return!1}return!0}function Rp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pp(s,o){var c=Rp(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Rp(c)}}function Ip(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ip(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function kp(){for(var s=window,o=Hn();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Hn(s.document)}return o}function Ch(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function OS(s){var o=kp(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Ip(c.ownerDocument.documentElement,c)){if(f!==null&&Ch(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=Pp(c,_);var C=Pp(c,f);m&&C&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(o),s.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var bS=u&&"documentMode"in document&&11>=document.documentMode,Ts=null,Th=null,Zo=null,Rh=!1;function Lp(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rh||Ts==null||Ts!==Hn(f)||(f=Ts,"selectionStart"in f&&Ch(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zo&&$o(Zo,f)||(Zo=f,f=Kl(Th,"onSelect"),0<f.length&&(o=new ph("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Ts)))}function Gl(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Rs={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Ph={},Mp={};u&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Wl(s){if(Ph[s])return Ph[s];if(!Rs[s])return s;var o=Rs[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Mp)return Ph[s]=o[c];return s}var Ap=Wl("animationend"),Dp=Wl("animationiteration"),Op=Wl("animationstart"),bp=Wl("transitionend"),Np=new Map,Fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(s,o){Np.set(s,o),a(o,[s])}for(var Ih=0;Ih<Fp.length;Ih++){var kh=Fp[Ih],NS=kh.toLowerCase(),FS=kh[0].toUpperCase()+kh.slice(1);Ui(NS,"on"+FS)}Ui(Ap,"onAnimationEnd"),Ui(Dp,"onAnimationIteration"),Ui(Op,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(bp,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function jp(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,NE(f,o,void 0,s),s.currentTarget=null}function zp(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],m=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var C=f.length-1;0<=C;C--){var k=f[C],M=k.instance,z=k.currentTarget;if(k=k.listener,M!==_&&m.isPropagationStopped())break e;jp(m,k,z),_=M}else for(C=0;C<f.length;C++){if(k=f[C],M=k.instance,z=k.currentTarget,k=k.listener,M!==_&&m.isPropagationStopped())break e;jp(m,k,z),_=M}}}if(Pl)throw s=oh,Pl=!1,oh=null,s}function Ue(s,o){var c=o[Fh];c===void 0&&(c=o[Fh]=new Set);var f=s+"__bubble";c.has(f)||(Vp(o,s,2,!1),c.add(f))}function Lh(s,o,c){var f=0;o&&(f|=4),Vp(c,s,f,o)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Qo(s){if(!s[Ul]){s[Ul]=!0,i.forEach(function(c){c!=="selectionchange"&&(jS.has(c)||Lh(c,!1,s),Lh(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ul]||(o[Ul]=!0,Lh("selectionchange",!1,o))}}function Vp(s,o,c,f){switch(up(o)){case 1:var m=QE;break;case 4:m=JE;break;default:m=fh}c=m.bind(null,o,c,s),m=void 0,!nn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function Mh(s,o,c,f,m){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var k=f.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(C===4)for(C=f.return;C!==null;){var M=C.tag;if((M===3||M===4)&&(M=C.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;C=C.return}for(;k!==null;){if(C=Lr(k),C===null)return;if(M=C.tag,M===5||M===6){f=_=C;continue e}k=k.parentNode}}f=f.return}At(function(){var z=_,Y=Ir(c),H=[];e:{var X=Np.get(s);if(X!==void 0){var ie=ph,oe=s;switch(s){case"keypress":if(jl(c)===0)break e;case"keydown":case"keyup":ie=gS;break;case"focusin":oe="focus",ie=vh;break;case"focusout":oe="blur",ie=vh;break;case"beforeblur":case"afterblur":ie=vh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=yS;break;case Ap:case Dp:case Op:ie=sS;break;case bp:ie=vS;break;case"scroll":ie=eS;break;case"wheel":ie=wS;break;case"copy":case"cut":case"paste":ie=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=gp}var ae=(o&4)!==0,rt=!ae&&s==="scroll",b=ae?X!==null?X+"Capture":null:X;ae=[];for(var D=z,F;D!==null;){F=D;var q=F.stateNode;if(F.tag===5&&q!==null&&(F=q,b!==null&&(q=Dt(D,b),q!=null&&ae.push(Jo(D,q,F)))),rt)break;D=D.return}0<ae.length&&(X=new ie(X,oe,null,c,Y),H.push({event:X,listeners:ae}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",X&&c!==Oo&&(oe=c.relatedTarget||c.fromElement)&&(Lr(oe)||oe[pi]))break e;if((ie||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ie?(oe=c.relatedTarget||c.toElement,ie=z,oe=oe?Lr(oe):null,oe!==null&&(rt=kr(oe),oe!==rt||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ie=null,oe=z),ie!==oe)){if(ae=dp,q="onMouseLeave",b="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ae=gp,q="onPointerLeave",b="onPointerEnter",D="pointer"),rt=ie==null?X:ks(ie),F=oe==null?X:ks(oe),X=new ae(q,D+"leave",ie,c,Y),X.target=rt,X.relatedTarget=F,q=null,Lr(Y)===z&&(ae=new ae(b,D+"enter",oe,c,Y),ae.target=F,ae.relatedTarget=rt,q=ae),rt=q,ie&&oe)t:{for(ae=ie,b=oe,D=0,F=ae;F;F=Ps(F))D++;for(F=0,q=b;q;q=Ps(q))F++;for(;0<D-F;)ae=Ps(ae),D--;for(;0<F-D;)b=Ps(b),F--;for(;D--;){if(ae===b||b!==null&&ae===b.alternate)break t;ae=Ps(ae),b=Ps(b)}ae=null}else ae=null;ie!==null&&Bp(H,X,ie,ae,!1),oe!==null&&rt!==null&&Bp(H,rt,oe,ae,!0)}}e:{if(X=z?ks(z):window,ie=X.nodeName&&X.nodeName.toLowerCase(),ie==="select"||ie==="input"&&X.type==="file")var ue=IS;else if(xp(X))if(Ep)ue=AS;else{ue=LS;var me=kS}else(ie=X.nodeName)&&ie.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ue=MS);if(ue&&(ue=ue(s,z))){wp(H,ue,c,Y);break e}me&&me(s,X,z),s==="focusout"&&(me=X._wrapperState)&&me.controlled&&X.type==="number"&&fi(X,"number",X.value)}switch(me=z?ks(z):window,s){case"focusin":(xp(me)||me.contentEditable==="true")&&(Ts=me,Th=z,Zo=null);break;case"focusout":Zo=Th=Ts=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Lp(H,c,Y);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":Lp(H,c,Y)}var pe;if(wh)e:{switch(s){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Cs?_p(s,c)&&(_e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(_e="onCompositionStart");_e&&(mp&&c.locale!=="ko"&&(Cs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Cs&&(pe=cp()):(Wi=Y,mh="value"in Wi?Wi.value:Wi.textContent,Cs=!0)),me=Kl(z,_e),0<me.length&&(_e=new fp(_e,s,null,c,Y),H.push({event:_e,listeners:me}),pe?_e.data=pe:(pe=vp(c),pe!==null&&(_e.data=pe)))),(pe=SS?CS(s,c):TS(s,c))&&(z=Kl(z,"onBeforeInput"),0<z.length&&(Y=new fp("onBeforeInput","beforeinput",null,c,Y),H.push({event:Y,listeners:z}),Y.data=pe))}zp(H,o)})}function Jo(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Kl(s,o){for(var c=o+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=Dt(s,c),_!=null&&f.unshift(Jo(s,_,m)),_=Dt(s,o),_!=null&&f.push(Jo(s,_,m))),s=s.return}return f}function Ps(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Bp(s,o,c,f,m){for(var _=o._reactName,C=[];c!==null&&c!==f;){var k=c,M=k.alternate,z=k.stateNode;if(M!==null&&M===f)break;k.tag===5&&z!==null&&(k=z,m?(M=Dt(c,_),M!=null&&C.unshift(Jo(c,M,k))):m||(M=Dt(c,_),M!=null&&C.push(Jo(c,M,k)))),c=c.return}C.length!==0&&s.push({event:o,listeners:C})}var zS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function Gp(s){return(typeof s=="string"?s:""+s).replace(zS,`
`).replace(VS,"")}function Xl(s,o,c){if(o=Gp(o),Gp(s)!==o&&c)throw Error(t(425))}function Yl(){}var Ah=null,Dh=null;function Oh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(s){return Wp.resolve(null).then(s).catch(WS)}:bh;function WS(s){setTimeout(function(){throw s})}function Nh(s,o){var c=o,f=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(f===0){s.removeChild(m),Wo(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=m}while(c);Wo(o)}function Ki(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Up(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Is,ea="__reactProps$"+Is,pi="__reactContainer$"+Is,Fh="__reactEvents$"+Is,US="__reactListeners$"+Is,KS="__reactHandles$"+Is;function Lr(s){var o=s[Jn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[pi]||c[Jn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Up(s);s!==null;){if(c=s[Jn])return c;s=Up(s)}return o}s=c,c=s.parentNode}return null}function ta(s){return s=s[Jn]||s[pi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ks(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Hl(s){return s[ea]||null}var jh=[],Ls=-1;function Xi(s){return{current:s}}function Ke(s){0>Ls||(s.current=jh[Ls],jh[Ls]=null,Ls--)}function We(s,o){Ls++,jh[Ls]=s.current,s.current=o}var Yi={},wt=Xi(Yi),Vt=Xi(!1),Mr=Yi;function Ms(s,o){var c=s.type.contextTypes;if(!c)return Yi;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in c)m[_]=o[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function Bt(s){return s=s.childContextTypes,s!=null}function $l(){Ke(Vt),Ke(wt)}function Kp(s,o,c){if(wt.current!==Yi)throw Error(t(168));We(wt,o),We(Vt,c)}function Xp(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,we(s)||"Unknown",m));return K({},c,f)}function Zl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Yi,Mr=wt.current,We(wt,s),We(Vt,Vt.current),!0}function Yp(s,o,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=Xp(s,o,Mr),f.__reactInternalMemoizedMergedChildContext=s,Ke(Vt),Ke(wt),We(wt,s)):Ke(Vt),We(Vt,c)}var yi=null,ql=!1,zh=!1;function Hp(s){yi===null?yi=[s]:yi.push(s)}function XS(s){ql=!0,Hp(s)}function Hi(){if(!zh&&yi!==null){zh=!0;var s=0,o=Fe;try{var c=yi;for(Fe=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}yi=null,ql=!1}catch(m){throw yi!==null&&(yi=yi.slice(s+1)),Zm(ah,Hi),m}finally{Fe=o,zh=!1}}return null}var As=[],Ds=0,Ql=null,Jl=0,mn=[],pn=0,Ar=null,_i=1,vi="";function Dr(s,o){As[Ds++]=Jl,As[Ds++]=Ql,Ql=s,Jl=o}function $p(s,o,c){mn[pn++]=_i,mn[pn++]=vi,mn[pn++]=Ar,Ar=s;var f=_i;s=vi;var m=32-An(f)-1;f&=~(1<<m),c+=1;var _=32-An(o)+m;if(30<_){var C=m-m%5;_=(f&(1<<C)-1).toString(32),f>>=C,m-=C,_i=1<<32-An(o)+m|c<<m|f,vi=_+s}else _i=1<<_|c<<m|f,vi=s}function Vh(s){s.return!==null&&(Dr(s,1),$p(s,1,0))}function Bh(s){for(;s===Ql;)Ql=As[--Ds],As[Ds]=null,Jl=As[--Ds],As[Ds]=null;for(;s===Ar;)Ar=mn[--pn],mn[pn]=null,vi=mn[--pn],mn[pn]=null,_i=mn[--pn],mn[pn]=null}var sn=null,on=null,Ye=!1,On=null;function Zp(s,o){var c=xn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function qp(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,sn=s,on=Ki(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,sn=s,on=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ar!==null?{id:_i,overflow:vi}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=xn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,sn=s,on=null,!0):!1;default:return!1}}function Gh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Wh(s){if(Ye){var o=on;if(o){var c=o;if(!qp(s,o)){if(Gh(s))throw Error(t(418));o=Ki(c.nextSibling);var f=sn;o&&qp(s,o)?Zp(f,c):(s.flags=s.flags&-4097|2,Ye=!1,sn=s)}}else{if(Gh(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ye=!1,sn=s}}}function Qp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;sn=s}function eu(s){if(s!==sn)return!1;if(!Ye)return Qp(s),Ye=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Oh(s.type,s.memoizedProps)),o&&(o=on)){if(Gh(s))throw Jp(),Error(t(418));for(;o;)Zp(s,o),o=Ki(o.nextSibling)}if(Qp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){on=Ki(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}on=null}}else on=sn?Ki(s.stateNode.nextSibling):null;return!0}function Jp(){for(var s=on;s;)s=Ki(s.nextSibling)}function Os(){on=sn=null,Ye=!1}function Uh(s){On===null?On=[s]:On.push(s)}var YS=I.ReactCurrentBatchConfig;function na(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var m=f,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(C){var k=m.refs;C===null?delete k[_]:k[_]=C},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function tu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function ey(s){var o=s._init;return o(s._payload)}function ty(s){function o(b,D){if(s){var F=b.deletions;F===null?(b.deletions=[D],b.flags|=16):F.push(D)}}function c(b,D){if(!s)return null;for(;D!==null;)o(b,D),D=D.sibling;return null}function f(b,D){for(b=new Map;D!==null;)D.key!==null?b.set(D.key,D):b.set(D.index,D),D=D.sibling;return b}function m(b,D){return b=nr(b,D),b.index=0,b.sibling=null,b}function _(b,D,F){return b.index=F,s?(F=b.alternate,F!==null?(F=F.index,F<D?(b.flags|=2,D):F):(b.flags|=2,D)):(b.flags|=1048576,D)}function C(b){return s&&b.alternate===null&&(b.flags|=2),b}function k(b,D,F,q){return D===null||D.tag!==6?(D=bd(F,b.mode,q),D.return=b,D):(D=m(D,F),D.return=b,D)}function M(b,D,F,q){var ue=F.type;return ue===V?Y(b,D,F.props.children,q,F.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&ey(ue)===D.type)?(q=m(D,F.props),q.ref=na(b,D,F),q.return=b,q):(q=Tu(F.type,F.key,F.props,null,b.mode,q),q.ref=na(b,D,F),q.return=b,q)}function z(b,D,F,q){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=Nd(F,b.mode,q),D.return=b,D):(D=m(D,F.children||[]),D.return=b,D)}function Y(b,D,F,q,ue){return D===null||D.tag!==7?(D=Br(F,b.mode,q,ue),D.return=b,D):(D=m(D,F),D.return=b,D)}function H(b,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=bd(""+D,b.mode,F),D.return=b,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return F=Tu(D.type,D.key,D.props,null,b.mode,F),F.ref=na(b,null,D),F.return=b,F;case N:return D=Nd(D,b.mode,F),D.return=b,D;case ne:var q=D._init;return H(b,q(D._payload),F)}if(en(D)||Z(D))return D=Br(D,b.mode,F,null),D.return=b,D;tu(b,D)}return null}function X(b,D,F,q){var ue=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:k(b,D,""+F,q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case L:return F.key===ue?M(b,D,F,q):null;case N:return F.key===ue?z(b,D,F,q):null;case ne:return ue=F._init,X(b,D,ue(F._payload),q)}if(en(F)||Z(F))return ue!==null?null:Y(b,D,F,q,null);tu(b,F)}return null}function ie(b,D,F,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number")return b=b.get(F)||null,k(D,b,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return b=b.get(q.key===null?F:q.key)||null,M(D,b,q,ue);case N:return b=b.get(q.key===null?F:q.key)||null,z(D,b,q,ue);case ne:var me=q._init;return ie(b,D,F,me(q._payload),ue)}if(en(q)||Z(q))return b=b.get(F)||null,Y(D,b,q,ue,null);tu(D,q)}return null}function oe(b,D,F,q){for(var ue=null,me=null,pe=D,_e=D=0,ft=null;pe!==null&&_e<F.length;_e++){pe.index>_e?(ft=pe,pe=null):ft=pe.sibling;var Me=X(b,pe,F[_e],q);if(Me===null){pe===null&&(pe=ft);break}s&&pe&&Me.alternate===null&&o(b,pe),D=_(Me,D,_e),me===null?ue=Me:me.sibling=Me,me=Me,pe=ft}if(_e===F.length)return c(b,pe),Ye&&Dr(b,_e),ue;if(pe===null){for(;_e<F.length;_e++)pe=H(b,F[_e],q),pe!==null&&(D=_(pe,D,_e),me===null?ue=pe:me.sibling=pe,me=pe);return Ye&&Dr(b,_e),ue}for(pe=f(b,pe);_e<F.length;_e++)ft=ie(pe,b,_e,F[_e],q),ft!==null&&(s&&ft.alternate!==null&&pe.delete(ft.key===null?_e:ft.key),D=_(ft,D,_e),me===null?ue=ft:me.sibling=ft,me=ft);return s&&pe.forEach(function(ir){return o(b,ir)}),Ye&&Dr(b,_e),ue}function ae(b,D,F,q){var ue=Z(F);if(typeof ue!="function")throw Error(t(150));if(F=ue.call(F),F==null)throw Error(t(151));for(var me=ue=null,pe=D,_e=D=0,ft=null,Me=F.next();pe!==null&&!Me.done;_e++,Me=F.next()){pe.index>_e?(ft=pe,pe=null):ft=pe.sibling;var ir=X(b,pe,Me.value,q);if(ir===null){pe===null&&(pe=ft);break}s&&pe&&ir.alternate===null&&o(b,pe),D=_(ir,D,_e),me===null?ue=ir:me.sibling=ir,me=ir,pe=ft}if(Me.done)return c(b,pe),Ye&&Dr(b,_e),ue;if(pe===null){for(;!Me.done;_e++,Me=F.next())Me=H(b,Me.value,q),Me!==null&&(D=_(Me,D,_e),me===null?ue=Me:me.sibling=Me,me=Me);return Ye&&Dr(b,_e),ue}for(pe=f(b,pe);!Me.done;_e++,Me=F.next())Me=ie(pe,b,_e,Me.value,q),Me!==null&&(s&&Me.alternate!==null&&pe.delete(Me.key===null?_e:Me.key),D=_(Me,D,_e),me===null?ue=Me:me.sibling=Me,me=Me);return s&&pe.forEach(function(RC){return o(b,RC)}),Ye&&Dr(b,_e),ue}function rt(b,D,F,q){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case L:e:{for(var ue=F.key,me=D;me!==null;){if(me.key===ue){if(ue=F.type,ue===V){if(me.tag===7){c(b,me.sibling),D=m(me,F.props.children),D.return=b,b=D;break e}}else if(me.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&ey(ue)===me.type){c(b,me.sibling),D=m(me,F.props),D.ref=na(b,me,F),D.return=b,b=D;break e}c(b,me);break}else o(b,me);me=me.sibling}F.type===V?(D=Br(F.props.children,b.mode,q,F.key),D.return=b,b=D):(q=Tu(F.type,F.key,F.props,null,b.mode,q),q.ref=na(b,D,F),q.return=b,b=q)}return C(b);case N:e:{for(me=F.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){c(b,D.sibling),D=m(D,F.children||[]),D.return=b,b=D;break e}else{c(b,D);break}else o(b,D);D=D.sibling}D=Nd(F,b.mode,q),D.return=b,b=D}return C(b);case ne:return me=F._init,rt(b,D,me(F._payload),q)}if(en(F))return oe(b,D,F,q);if(Z(F))return ae(b,D,F,q);tu(b,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(c(b,D.sibling),D=m(D,F),D.return=b,b=D):(c(b,D),D=bd(F,b.mode,q),D.return=b,b=D),C(b)):c(b,D)}return rt}var bs=ty(!0),ny=ty(!1),nu=Xi(null),iu=null,Ns=null,Kh=null;function Xh(){Kh=Ns=iu=null}function Yh(s){var o=nu.current;Ke(nu),s._currentValue=o}function Hh(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Fs(s,o){iu=s,Kh=Ns=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Gt=!0),s.firstContext=null)}function yn(s){var o=s._currentValue;if(Kh!==s)if(s={context:s,memoizedValue:o,next:null},Ns===null){if(iu===null)throw Error(t(308));Ns=s,iu.dependencies={lanes:0,firstContext:s}}else Ns=Ns.next=s;return o}var Or=null;function $h(s){Or===null?Or=[s]:Or.push(s)}function iy(s,o,c,f){var m=o.interleaved;return m===null?(c.next=c,$h(o)):(c.next=m.next,m.next=c),o.interleaved=c,xi(s,f)}function xi(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var $i=!1;function Zh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Zi(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ke&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,xi(s,c)}return m=f.interleaved,m===null?(o.next=o,$h(f)):(o.next=m.next,m.next=o),f.interleaved=o,xi(s,c)}function ru(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,ch(s,c)}}function sy(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?m=_=C:_=_.next=C,c=c.next}while(c!==null);_===null?m=_=o:_=_.next=o}else m=_=o;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function su(s,o,c,f){var m=s.updateQueue;$i=!1;var _=m.firstBaseUpdate,C=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var M=k,z=M.next;M.next=null,C===null?_=z:C.next=z,C=M;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,k=Y.lastBaseUpdate,k!==C&&(k===null?Y.firstBaseUpdate=z:k.next=z,Y.lastBaseUpdate=M))}if(_!==null){var H=m.baseState;C=0,Y=z=M=null,k=_;do{var X=k.lane,ie=k.eventTime;if((f&X)===X){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var oe=s,ae=k;switch(X=o,ie=c,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){H=oe.call(ie,H,X);break e}H=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,X=typeof oe=="function"?oe.call(ie,H,X):oe,X==null)break e;H=K({},H,X);break e;case 2:$i=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,X=m.effects,X===null?m.effects=[k]:X.push(k))}else ie={eventTime:ie,lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Y===null?(z=Y=ie,M=H):Y=Y.next=ie,C|=X;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;X=k,k=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(Y===null&&(M=H),m.baseState=M,m.firstBaseUpdate=z,m.lastBaseUpdate=Y,o=m.shared.interleaved,o!==null){m=o;do C|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);Fr|=C,s.lanes=C,s.memoizedState=H}}function oy(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=c,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var ia={},ei=Xi(ia),ra=Xi(ia),sa=Xi(ia);function br(s){if(s===ia)throw Error(t(174));return s}function qh(s,o){switch(We(sa,o),We(ra,s),We(ei,ia),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Fi(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Fi(o,s)}Ke(ei),We(ei,o)}function js(){Ke(ei),Ke(ra),Ke(sa)}function ay(s){br(sa.current);var o=br(ei.current),c=Fi(o,s.type);o!==c&&(We(ra,s),We(ei,c))}function Qh(s){ra.current===s&&(Ke(ei),Ke(ra))}var $e=Xi(0);function ou(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jh=[];function ed(){for(var s=0;s<Jh.length;s++)Jh[s]._workInProgressVersionPrimary=null;Jh.length=0}var au=I.ReactCurrentDispatcher,td=I.ReactCurrentBatchConfig,Nr=0,Ze=null,at=null,ht=null,lu=!1,oa=!1,aa=0,HS=0;function Et(){throw Error(t(321))}function nd(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Dn(s[c],o[c]))return!1;return!0}function id(s,o,c,f,m,_){if(Nr=_,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,au.current=s===null||s.memoizedState===null?QS:JS,s=c(f,m),oa){_=0;do{if(oa=!1,aa=0,25<=_)throw Error(t(301));_+=1,ht=at=null,o.updateQueue=null,au.current=eC,s=c(f,m)}while(oa)}if(au.current=hu,o=at!==null&&at.next!==null,Nr=0,ht=at=Ze=null,lu=!1,o)throw Error(t(300));return s}function rd(){var s=aa!==0;return aa=0,s}function ti(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ze.memoizedState=ht=s:ht=ht.next=s,ht}function _n(){if(at===null){var s=Ze.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var o=ht===null?Ze.memoizedState:ht.next;if(o!==null)ht=o,at=s;else{if(s===null)throw Error(t(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ht===null?Ze.memoizedState=ht=s:ht=ht.next=s}return ht}function la(s,o){return typeof o=="function"?o(s):o}function sd(s){var o=_n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=at,m=f.baseQueue,_=c.pending;if(_!==null){if(m!==null){var C=m.next;m.next=_.next,_.next=C}f.baseQueue=m=_,c.pending=null}if(m!==null){_=m.next,f=f.baseState;var k=C=null,M=null,z=_;do{var Y=z.lane;if((Nr&Y)===Y)M!==null&&(M=M.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),f=z.hasEagerState?z.eagerState:s(f,z.action);else{var H={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};M===null?(k=M=H,C=f):M=M.next=H,Ze.lanes|=Y,Fr|=Y}z=z.next}while(z!==null&&z!==_);M===null?C=f:M.next=k,Dn(f,o.memoizedState)||(Gt=!0),o.memoizedState=f,o.baseState=C,o.baseQueue=M,c.lastRenderedState=f}if(s=c.interleaved,s!==null){m=s;do _=m.lane,Ze.lanes|=_,Fr|=_,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function od(s){var o=_n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,m=c.pending,_=o.memoizedState;if(m!==null){c.pending=null;var C=m=m.next;do _=s(_,C.action),C=C.next;while(C!==m);Dn(_,o.memoizedState)||(Gt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,f]}function ly(){}function uy(s,o){var c=Ze,f=_n(),m=o(),_=!Dn(f.memoizedState,m);if(_&&(f.memoizedState=m,Gt=!0),f=f.queue,ad(dy.bind(null,c,f,s),[s]),f.getSnapshot!==o||_||ht!==null&&ht.memoizedState.tag&1){if(c.flags|=2048,ua(9,hy.bind(null,c,f,m,o),void 0,null),dt===null)throw Error(t(349));(Nr&30)!==0||cy(c,o,m)}return m}function cy(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function hy(s,o,c,f){o.value=c,o.getSnapshot=f,fy(o)&&gy(s)}function dy(s,o,c){return c(function(){fy(o)&&gy(s)})}function fy(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Dn(s,c)}catch{return!0}}function gy(s){var o=xi(s,1);o!==null&&jn(o,s,1,-1)}function my(s){var o=ti();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:s},o.queue=s,s=s.dispatch=qS.bind(null,Ze,s),[o.memoizedState,s]}function ua(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function py(){return _n().memoizedState}function uu(s,o,c,f){var m=ti();Ze.flags|=s,m.memoizedState=ua(1|o,c,void 0,f===void 0?null:f)}function cu(s,o,c,f){var m=_n();f=f===void 0?null:f;var _=void 0;if(at!==null){var C=at.memoizedState;if(_=C.destroy,f!==null&&nd(f,C.deps)){m.memoizedState=ua(o,c,_,f);return}}Ze.flags|=s,m.memoizedState=ua(1|o,c,_,f)}function yy(s,o){return uu(8390656,8,s,o)}function ad(s,o){return cu(2048,8,s,o)}function _y(s,o){return cu(4,2,s,o)}function vy(s,o){return cu(4,4,s,o)}function xy(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wy(s,o,c){return c=c!=null?c.concat([s]):null,cu(4,4,xy.bind(null,o,s),c)}function ld(){}function Ey(s,o){var c=_n();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&nd(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function Sy(s,o){var c=_n();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&nd(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function Cy(s,o,c){return(Nr&21)===0?(s.baseState&&(s.baseState=!1,Gt=!0),s.memoizedState=c):(Dn(c,o)||(c=ep(),Ze.lanes|=c,Fr|=c,s.baseState=!0),o)}function $S(s,o){var c=Fe;Fe=c!==0&&4>c?c:4,s(!0);var f=td.transition;td.transition={};try{s(!1),o()}finally{Fe=c,td.transition=f}}function Ty(){return _n().memoizedState}function ZS(s,o,c){var f=er(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Ry(s))Py(o,c);else if(c=iy(s,o,c,f),c!==null){var m=Nt();jn(c,s,f,m),Iy(c,o,f)}}function qS(s,o,c){var f=er(s),m={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ry(s))Py(o,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var C=o.lastRenderedState,k=_(C,c);if(m.hasEagerState=!0,m.eagerState=k,Dn(k,C)){var M=o.interleaved;M===null?(m.next=m,$h(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}c=iy(s,o,m,f),c!==null&&(m=Nt(),jn(c,s,f,m),Iy(c,o,f))}}function Ry(s){var o=s.alternate;return s===Ze||o!==null&&o===Ze}function Py(s,o){oa=lu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Iy(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,ch(s,c)}}var hu={readContext:yn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},QS={readContext:yn,useCallback:function(s,o){return ti().memoizedState=[s,o===void 0?null:o],s},useContext:yn,useEffect:yy,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,uu(4194308,4,xy.bind(null,o,s),c)},useLayoutEffect:function(s,o){return uu(4194308,4,s,o)},useInsertionEffect:function(s,o){return uu(4,2,s,o)},useMemo:function(s,o){var c=ti();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=ti();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=ZS.bind(null,Ze,s),[f.memoizedState,s]},useRef:function(s){var o=ti();return s={current:s},o.memoizedState=s},useState:my,useDebugValue:ld,useDeferredValue:function(s){return ti().memoizedState=s},useTransition:function(){var s=my(!1),o=s[0];return s=$S.bind(null,s[1]),ti().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=Ze,m=ti();if(Ye){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),dt===null)throw Error(t(349));(Nr&30)!==0||cy(f,o,c)}m.memoizedState=c;var _={value:c,getSnapshot:o};return m.queue=_,yy(dy.bind(null,f,_,s),[s]),f.flags|=2048,ua(9,hy.bind(null,f,_,c,o),void 0,null),c},useId:function(){var s=ti(),o=dt.identifierPrefix;if(Ye){var c=vi,f=_i;c=(f&~(1<<32-An(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=aa++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=HS++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},JS={readContext:yn,useCallback:Ey,useContext:yn,useEffect:ad,useImperativeHandle:wy,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Sy,useReducer:sd,useRef:py,useState:function(){return sd(la)},useDebugValue:ld,useDeferredValue:function(s){var o=_n();return Cy(o,at.memoizedState,s)},useTransition:function(){var s=sd(la)[0],o=_n().memoizedState;return[s,o]},useMutableSource:ly,useSyncExternalStore:uy,useId:Ty,unstable_isNewReconciler:!1},eC={readContext:yn,useCallback:Ey,useContext:yn,useEffect:ad,useImperativeHandle:wy,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Sy,useReducer:od,useRef:py,useState:function(){return od(la)},useDebugValue:ld,useDeferredValue:function(s){var o=_n();return at===null?o.memoizedState=s:Cy(o,at.memoizedState,s)},useTransition:function(){var s=od(la)[0],o=_n().memoizedState;return[s,o]},useMutableSource:ly,useSyncExternalStore:uy,useId:Ty,unstable_isNewReconciler:!1};function bn(s,o){if(s&&s.defaultProps){o=K({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function ud(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:K({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var du={isMounted:function(s){return(s=s._reactInternals)?kr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=Nt(),m=er(s),_=wi(f,m);_.payload=o,c!=null&&(_.callback=c),o=Zi(s,_,m),o!==null&&(jn(o,s,m,f),ru(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=Nt(),m=er(s),_=wi(f,m);_.tag=1,_.payload=o,c!=null&&(_.callback=c),o=Zi(s,_,m),o!==null&&(jn(o,s,m,f),ru(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Nt(),f=er(s),m=wi(c,f);m.tag=2,o!=null&&(m.callback=o),o=Zi(s,m,f),o!==null&&(jn(o,s,f,c),ru(o,s,f))}};function ky(s,o,c,f,m,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,C):o.prototype&&o.prototype.isPureReactComponent?!$o(c,f)||!$o(m,_):!0}function Ly(s,o,c){var f=!1,m=Yi,_=o.contextType;return typeof _=="object"&&_!==null?_=yn(_):(m=Bt(o)?Mr:wt.current,f=o.contextTypes,_=(f=f!=null)?Ms(s,m):Yi),o=new o(c,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=du,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),o}function My(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&du.enqueueReplaceState(o,o.state,null)}function cd(s,o,c,f){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},Zh(s);var _=o.contextType;typeof _=="object"&&_!==null?m.context=yn(_):(_=Bt(o)?Mr:wt.current,m.context=Ms(s,_)),m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(ud(s,o,_,c),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&du.enqueueReplaceState(m,m.state,null),su(s,c,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function zs(s,o){try{var c="",f=o;do c+=he(f),f=f.return;while(f);var m=c}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:m,digest:null}}function hd(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function dd(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var tC=typeof WeakMap=="function"?WeakMap:Map;function Ay(s,o,c){c=wi(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){vu||(vu=!0,Pd=f),dd(s,o)},c}function Dy(s,o,c){c=wi(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;c.payload=function(){return f(m)},c.callback=function(){dd(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){dd(s,o),typeof f!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),c}function Oy(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new tC;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(c)||(m.add(c),s=mC.bind(null,s,o,c),o.then(s,s))}function by(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Ny(s,o,c,f,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=wi(-1,1),o.tag=2,Zi(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var nC=I.ReactCurrentOwner,Gt=!1;function bt(s,o,c,f){o.child=s===null?ny(o,null,c,f):bs(o,s.child,c,f)}function Fy(s,o,c,f,m){c=c.render;var _=o.ref;return Fs(o,m),f=id(s,o,c,f,_,m),c=rd(),s!==null&&!Gt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ei(s,o,m)):(Ye&&c&&Vh(o),o.flags|=1,bt(s,o,f,m),o.child)}function jy(s,o,c,f,m){if(s===null){var _=c.type;return typeof _=="function"&&!Od(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=_,zy(s,o,_,f,m)):(s=Tu(c.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&m)===0){var C=_.memoizedProps;if(c=c.compare,c=c!==null?c:$o,c(C,f)&&s.ref===o.ref)return Ei(s,o,m)}return o.flags|=1,s=nr(_,f),s.ref=o.ref,s.return=o,o.child=s}function zy(s,o,c,f,m){if(s!==null){var _=s.memoizedProps;if($o(_,f)&&s.ref===o.ref)if(Gt=!1,o.pendingProps=f=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Gt=!0);else return o.lanes=s.lanes,Ei(s,o,m)}return fd(s,o,c,f,m)}function Vy(s,o,c){var f=o.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Bs,an),an|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,We(Bs,an),an|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:c,We(Bs,an),an|=f}else _!==null?(f=_.baseLanes|c,o.memoizedState=null):f=c,We(Bs,an),an|=f;return bt(s,o,m,c),o.child}function By(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function fd(s,o,c,f,m){var _=Bt(c)?Mr:wt.current;return _=Ms(o,_),Fs(o,m),c=id(s,o,c,f,_,m),f=rd(),s!==null&&!Gt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ei(s,o,m)):(Ye&&f&&Vh(o),o.flags|=1,bt(s,o,c,m),o.child)}function Gy(s,o,c,f,m){if(Bt(c)){var _=!0;Zl(o)}else _=!1;if(Fs(o,m),o.stateNode===null)gu(s,o),Ly(o,c,f),cd(o,c,f,m),f=!0;else if(s===null){var C=o.stateNode,k=o.memoizedProps;C.props=k;var M=C.context,z=c.contextType;typeof z=="object"&&z!==null?z=yn(z):(z=Bt(c)?Mr:wt.current,z=Ms(o,z));var Y=c.getDerivedStateFromProps,H=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function";H||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==f||M!==z)&&My(o,C,f,z),$i=!1;var X=o.memoizedState;C.state=X,su(o,f,C,m),M=o.memoizedState,k!==f||X!==M||Vt.current||$i?(typeof Y=="function"&&(ud(o,c,Y,f),M=o.memoizedState),(k=$i||ky(o,c,k,f,X,M,z))?(H||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),C.props=f,C.state=M,C.context=z,f=k):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{C=o.stateNode,ry(s,o),k=o.memoizedProps,z=o.type===o.elementType?k:bn(o.type,k),C.props=z,H=o.pendingProps,X=C.context,M=c.contextType,typeof M=="object"&&M!==null?M=yn(M):(M=Bt(c)?Mr:wt.current,M=Ms(o,M));var ie=c.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==H||X!==M)&&My(o,C,f,M),$i=!1,X=o.memoizedState,C.state=X,su(o,f,C,m);var oe=o.memoizedState;k!==H||X!==oe||Vt.current||$i?(typeof ie=="function"&&(ud(o,c,ie,f),oe=o.memoizedState),(z=$i||ky(o,c,z,f,X,oe,M)||!1)?(Y||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,oe,M),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,oe,M)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=oe),C.props=f,C.state=oe,C.context=M,f=z):(typeof C.componentDidUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),f=!1)}return gd(s,o,c,f,_,m)}function gd(s,o,c,f,m,_){By(s,o);var C=(o.flags&128)!==0;if(!f&&!C)return m&&Yp(o,c,!1),Ei(s,o,_);f=o.stateNode,nC.current=o;var k=C&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&C?(o.child=bs(o,s.child,null,_),o.child=bs(o,null,k,_)):bt(s,o,k,_),o.memoizedState=f.state,m&&Yp(o,c,!0),o.child}function Wy(s){var o=s.stateNode;o.pendingContext?Kp(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Kp(s,o.context,!1),qh(s,o.containerInfo)}function Uy(s,o,c,f,m){return Os(),Uh(m),o.flags|=256,bt(s,o,c,f),o.child}var md={dehydrated:null,treeContext:null,retryLane:0};function pd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ky(s,o,c){var f=o.pendingProps,m=$e.current,_=!1,C=(o.flags&128)!==0,k;if((k=C)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),We($e,m&1),s===null)return Wh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=f.children,s=f.fallback,_?(f=o.mode,_=o.child,C={mode:"hidden",children:C},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=Ru(C,f,0,null),s=Br(s,f,c,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=pd(c),o.memoizedState=md,s):yd(o,C));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return iC(s,o,C,f,k,m,c);if(_){_=f.fallback,C=o.mode,m=s.child,k=m.sibling;var M={mode:"hidden",children:f.children};return(C&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=nr(m,M),f.subtreeFlags=m.subtreeFlags&14680064),k!==null?_=nr(k,_):(_=Br(_,C,c,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,C=s.child.memoizedState,C=C===null?pd(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=s.childLanes&~c,o.memoizedState=md,f}return _=s.child,s=_.sibling,f=nr(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function yd(s,o){return o=Ru({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function fu(s,o,c,f){return f!==null&&Uh(f),bs(o,s.child,null,c),s=yd(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function iC(s,o,c,f,m,_,C){if(c)return o.flags&256?(o.flags&=-257,f=hd(Error(t(422))),fu(s,o,C,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=f.fallback,m=o.mode,f=Ru({mode:"visible",children:f.children},m,0,null),_=Br(_,m,C,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&bs(o,s.child,null,C),o.child.memoizedState=pd(C),o.memoizedState=md,_);if((o.mode&1)===0)return fu(s,o,C,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var k=f.dgst;return f=k,_=Error(t(419)),f=hd(_,f,void 0),fu(s,o,C,f)}if(k=(C&s.childLanes)!==0,Gt||k){if(f=dt,f!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|C))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,xi(s,m),jn(f,s,m,-1))}return Dd(),f=hd(Error(t(421))),fu(s,o,C,f)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=pC.bind(null,s),m._reactRetry=o,null):(s=_.treeContext,on=Ki(m.nextSibling),sn=o,Ye=!0,On=null,s!==null&&(mn[pn++]=_i,mn[pn++]=vi,mn[pn++]=Ar,_i=s.id,vi=s.overflow,Ar=o),o=yd(o,f.children),o.flags|=4096,o)}function Xy(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Hh(s.return,o,c)}function _d(s,o,c,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=m)}function Yy(s,o,c){var f=o.pendingProps,m=f.revealOrder,_=f.tail;if(bt(s,o,f.children,c),f=$e.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xy(s,c,o);else if(s.tag===19)Xy(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(We($e,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&ou(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),_d(o,!1,m,c,_);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&ou(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}_d(o,!0,c,null,_);break;case"together":_d(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ei(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Fr|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=nr(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=nr(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function rC(s,o,c){switch(o.tag){case 3:Wy(o),Os();break;case 5:ay(o);break;case 1:Bt(o.type)&&Zl(o);break;case 4:qh(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;We(nu,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(We($e,$e.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Ky(s,o,c):(We($e,$e.current&1),s=Ei(s,o,c),s!==null?s.sibling:null);We($e,$e.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return Yy(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),We($e,$e.current),f)break;return null;case 22:case 23:return o.lanes=0,Vy(s,o,c)}return Ei(s,o,c)}var Hy,vd,$y,Zy;Hy=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},vd=function(){},$y=function(s,o,c,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,br(ei.current);var _=null;switch(c){case"input":m=Mn(s,m),f=Mn(s,f),_=[];break;case"select":m=K({},m,{value:void 0}),f=K({},f,{value:void 0}),_=[];break;case"textarea":m=Zn(s,m),f=Zn(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Yl)}Pr(c,f);var C;c=null;for(z in m)if(!f.hasOwnProperty(z)&&m.hasOwnProperty(z)&&m[z]!=null)if(z==="style"){var k=m[z];for(C in k)k.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(r.hasOwnProperty(z)?_||(_=[]):(_=_||[]).push(z,null));for(z in f){var M=f[z];if(k=m?.[z],f.hasOwnProperty(z)&&M!==k&&(M!=null||k!=null))if(z==="style")if(k){for(C in k)!k.hasOwnProperty(C)||M&&M.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in M)M.hasOwnProperty(C)&&k[C]!==M[C]&&(c||(c={}),c[C]=M[C])}else c||(_||(_=[]),_.push(z,c)),c=M;else z==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(_=_||[]).push(z,M)):z==="children"?typeof M!="string"&&typeof M!="number"||(_=_||[]).push(z,""+M):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(r.hasOwnProperty(z)?(M!=null&&z==="onScroll"&&Ue("scroll",s),_||k===M||(_=[])):(_=_||[]).push(z,M))}c&&(_=_||[]).push("style",c);var z=_;(o.updateQueue=z)&&(o.flags|=4)}},Zy=function(s,o,c,f){c!==f&&(o.flags|=4)};function ca(s,o){if(!Ye)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function St(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function sC(s,o,c){var f=o.pendingProps;switch(Bh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(o),null;case 1:return Bt(o.type)&&$l(),St(o),null;case 3:return f=o.stateNode,js(),Ke(Vt),Ke(wt),ed(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(eu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,On!==null&&(Ld(On),On=null))),vd(s,o),St(o),null;case 5:Qh(o);var m=br(sa.current);if(c=o.type,s!==null&&o.stateNode!=null)$y(s,o,c,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return St(o),null}if(s=br(ei.current),eu(o)){f=o.stateNode,c=o.type;var _=o.memoizedProps;switch(f[Jn]=o,f[ea]=_,s=(o.mode&1)!==0,c){case"dialog":Ue("cancel",f),Ue("close",f);break;case"iframe":case"object":case"embed":Ue("load",f);break;case"video":case"audio":for(m=0;m<qo.length;m++)Ue(qo[m],f);break;case"source":Ue("error",f);break;case"img":case"image":case"link":Ue("error",f),Ue("load",f);break;case"details":Ue("toggle",f);break;case"input":kt(f,_),Ue("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ue("invalid",f);break;case"textarea":nt(f,_),Ue("invalid",f)}Pr(c,_),m=null;for(var C in _)if(_.hasOwnProperty(C)){var k=_[C];C==="children"?typeof k=="string"?f.textContent!==k&&(_.suppressHydrationWarning!==!0&&Xl(f.textContent,k,s),m=["children",k]):typeof k=="number"&&f.textContent!==""+k&&(_.suppressHydrationWarning!==!0&&Xl(f.textContent,k,s),m=["children",""+k]):r.hasOwnProperty(C)&&k!=null&&C==="onScroll"&&Ue("scroll",f)}switch(c){case"input":hi(f),di(f,_,!0);break;case"textarea":hi(f),_s(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Yl)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rr(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(c,{is:f.is}):(s=C.createElement(c),c==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,c),s[Jn]=o,s[ea]=f,Hy(s,o,!1,!1),o.stateNode=s;e:{switch(C=xs(c,f),c){case"dialog":Ue("cancel",s),Ue("close",s),m=f;break;case"iframe":case"object":case"embed":Ue("load",s),m=f;break;case"video":case"audio":for(m=0;m<qo.length;m++)Ue(qo[m],s);m=f;break;case"source":Ue("error",s),m=f;break;case"img":case"image":case"link":Ue("error",s),Ue("load",s),m=f;break;case"details":Ue("toggle",s),m=f;break;case"input":kt(s,f),m=Mn(s,f),Ue("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=K({},f,{value:void 0}),Ue("invalid",s);break;case"textarea":nt(s,f),m=Zn(s,f),Ue("invalid",s);break;default:m=f}Pr(c,m),k=m;for(_ in k)if(k.hasOwnProperty(_)){var M=k[_];_==="style"?Do(s,M):_==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ao(s,M)):_==="children"?typeof M=="string"?(c!=="textarea"||M!=="")&&ji(s,M):typeof M=="number"&&ji(s,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?M!=null&&_==="onScroll"&&Ue("scroll",s):M!=null&&P(s,_,M,C))}switch(c){case"input":hi(s),di(s,f,!1);break;case"textarea":hi(s),_s(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Te(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?tn(s,!!f.multiple,_,!1):f.defaultValue!=null&&tn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Yl)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return St(o),null;case 6:if(s&&o.stateNode!=null)Zy(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(c=br(sa.current),br(ei.current),eu(o)){if(f=o.stateNode,c=o.memoizedProps,f[Jn]=o,(_=f.nodeValue!==c)&&(s=sn,s!==null))switch(s.tag){case 3:Xl(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Xl(f.nodeValue,c,(s.mode&1)!==0)}_&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Jn]=o,o.stateNode=f}return St(o),null;case 13:if(Ke($e),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ye&&on!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Jp(),Os(),o.flags|=98560,_=!1;else if(_=eu(o),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Jn]=o}else Os(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;St(o),_=!1}else On!==null&&(Ld(On),On=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||($e.current&1)!==0?lt===0&&(lt=3):Dd())),o.updateQueue!==null&&(o.flags|=4),St(o),null);case 4:return js(),vd(s,o),s===null&&Qo(o.stateNode.containerInfo),St(o),null;case 10:return Yh(o.type._context),St(o),null;case 17:return Bt(o.type)&&$l(),St(o),null;case 19:if(Ke($e),_=o.memoizedState,_===null)return St(o),null;if(f=(o.flags&128)!==0,C=_.rendering,C===null)if(f)ca(_,!1);else{if(lt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=ou(s),C!==null){for(o.flags|=128,ca(_,!1),f=C.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)_=c,s=f,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,s=C.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return We($e,$e.current&1|2),o.child}s=s.sibling}_.tail!==null&&it()>Gs&&(o.flags|=128,f=!0,ca(_,!1),o.lanes=4194304)}else{if(!f)if(s=ou(C),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),ca(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!Ye)return St(o),null}else 2*it()-_.renderingStartTime>Gs&&c!==1073741824&&(o.flags|=128,f=!0,ca(_,!1),o.lanes=4194304);_.isBackwards?(C.sibling=o.child,o.child=C):(c=_.last,c!==null?c.sibling=C:o.child=C,_.last=C)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=it(),o.sibling=null,c=$e.current,We($e,f?c&1|2:c&1),o):(St(o),null);case 22:case 23:return Ad(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(an&1073741824)!==0&&(St(o),o.subtreeFlags&6&&(o.flags|=8192)):St(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function oC(s,o){switch(Bh(o),o.tag){case 1:return Bt(o.type)&&$l(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return js(),Ke(Vt),Ke(wt),ed(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Qh(o),null;case 13:if(Ke($e),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Os()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ke($e),null;case 4:return js(),null;case 10:return Yh(o.type._context),null;case 22:case 23:return Ad(),null;case 24:return null;default:return null}}var mu=!1,Ct=!1,aC=typeof WeakSet=="function"?WeakSet:Set,se=null;function Vs(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Je(s,o,f)}else c.current=null}function xd(s,o,c){try{c()}catch(f){Je(s,o,f)}}var qy=!1;function lC(s,o){if(Ah=bl,s=kp(),Ch(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var C=0,k=-1,M=-1,z=0,Y=0,H=s,X=null;t:for(;;){for(var ie;H!==c||m!==0&&H.nodeType!==3||(k=C+m),H!==_||f!==0&&H.nodeType!==3||(M=C+f),H.nodeType===3&&(C+=H.nodeValue.length),(ie=H.firstChild)!==null;)X=H,H=ie;for(;;){if(H===s)break t;if(X===c&&++z===m&&(k=C),X===_&&++Y===f&&(M=C),(ie=H.nextSibling)!==null)break;H=X,X=H.parentNode}H=ie}c=k===-1||M===-1?null:{start:k,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(Dh={focusedElem:s,selectionRange:c},bl=!1,se=o;se!==null;)if(o=se,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,se=s;else for(;se!==null;){o=se;try{var oe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,rt=oe.memoizedState,b=o.stateNode,D=b.getSnapshotBeforeUpdate(o.elementType===o.type?ae:bn(o.type,ae),rt);b.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=o.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(q){Je(o,o.return,q)}if(s=o.sibling,s!==null){s.return=o.return,se=s;break}se=o.return}return oe=qy,qy=!1,oe}function ha(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&xd(o,c,_)}m=m.next}while(m!==f)}}function pu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function wd(s){var o=s.ref;if(o!==null){var c=s.stateNode;s.tag,s=c,typeof o=="function"?o(s):o.current=s}}function Qy(s){var o=s.alternate;o!==null&&(s.alternate=null,Qy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Jn],delete o[ea],delete o[Fh],delete o[US],delete o[KS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Jy(s){return s.tag===5||s.tag===3||s.tag===4}function e0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ed(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Yl));else if(f!==4&&(s=s.child,s!==null))for(Ed(s,o,c),s=s.sibling;s!==null;)Ed(s,o,c),s=s.sibling}function Sd(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Sd(s,o,c),s=s.sibling;s!==null;)Sd(s,o,c),s=s.sibling}var yt=null,Nn=!1;function qi(s,o,c){for(c=c.child;c!==null;)t0(s,o,c),c=c.sibling}function t0(s,o,c){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(kl,c)}catch{}switch(c.tag){case 5:Ct||Vs(c,o);case 6:var f=yt,m=Nn;yt=null,qi(s,o,c),yt=f,Nn=m,yt!==null&&(Nn?(s=yt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):yt.removeChild(c.stateNode));break;case 18:yt!==null&&(Nn?(s=yt,c=c.stateNode,s.nodeType===8?Nh(s.parentNode,c):s.nodeType===1&&Nh(s,c),Wo(s)):Nh(yt,c.stateNode));break;case 4:f=yt,m=Nn,yt=c.stateNode.containerInfo,Nn=!0,qi(s,o,c),yt=f,Nn=m;break;case 0:case 11:case 14:case 15:if(!Ct&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&xd(c,o,C),m=m.next}while(m!==f)}qi(s,o,c);break;case 1:if(!Ct&&(Vs(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(k){Je(c,o,k)}qi(s,o,c);break;case 21:qi(s,o,c);break;case 22:c.mode&1?(Ct=(f=Ct)||c.memoizedState!==null,qi(s,o,c),Ct=f):qi(s,o,c);break;default:qi(s,o,c)}}function n0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new aC),o.forEach(function(f){var m=yC.bind(null,s,f);c.has(f)||(c.add(f),f.then(m,m))})}}function Fn(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];try{var _=s,C=o,k=C;e:for(;k!==null;){switch(k.tag){case 5:yt=k.stateNode,Nn=!1;break e;case 3:yt=k.stateNode.containerInfo,Nn=!0;break e;case 4:yt=k.stateNode.containerInfo,Nn=!0;break e}k=k.return}if(yt===null)throw Error(t(160));t0(_,C,m),yt=null,Nn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(z){Je(m,o,z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)i0(o,s),o=o.sibling}function i0(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Fn(o,s),ni(s),f&4){try{ha(3,s,s.return),pu(3,s)}catch(ae){Je(s,s.return,ae)}try{ha(5,s,s.return)}catch(ae){Je(s,s.return,ae)}}break;case 1:Fn(o,s),ni(s),f&512&&c!==null&&Vs(c,c.return);break;case 5:if(Fn(o,s),ni(s),f&512&&c!==null&&Vs(c,c.return),s.flags&32){var m=s.stateNode;try{ji(m,"")}catch(ae){Je(s,s.return,ae)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,C=c!==null?c.memoizedProps:_,k=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{k==="input"&&_.type==="radio"&&_.name!=null&&Jt(m,_),xs(k,C);var z=xs(k,_);for(C=0;C<M.length;C+=2){var Y=M[C],H=M[C+1];Y==="style"?Do(m,H):Y==="dangerouslySetInnerHTML"?Ao(m,H):Y==="children"?ji(m,H):P(m,Y,H,z)}switch(k){case"input":$n(m,_);break;case"textarea":ys(m,_);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var ie=_.value;ie!=null?tn(m,!!_.multiple,ie,!1):X!==!!_.multiple&&(_.defaultValue!=null?tn(m,!!_.multiple,_.defaultValue,!0):tn(m,!!_.multiple,_.multiple?[]:"",!1))}m[ea]=_}catch(ae){Je(s,s.return,ae)}}break;case 6:if(Fn(o,s),ni(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(ae){Je(s,s.return,ae)}}break;case 3:if(Fn(o,s),ni(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Wo(o.containerInfo)}catch(ae){Je(s,s.return,ae)}break;case 4:Fn(o,s),ni(s);break;case 13:Fn(o,s),ni(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(Rd=it())),f&4&&n0(s);break;case 22:if(Y=c!==null&&c.memoizedState!==null,s.mode&1?(Ct=(z=Ct)||Y,Fn(o,s),Ct=z):Fn(o,s),ni(s),f&8192){if(z=s.memoizedState!==null,(s.stateNode.isHidden=z)&&!Y&&(s.mode&1)!==0)for(se=s,Y=s.child;Y!==null;){for(H=se=Y;se!==null;){switch(X=se,ie=X.child,X.tag){case 0:case 11:case 14:case 15:ha(4,X,X.return);break;case 1:Vs(X,X.return);var oe=X.stateNode;if(typeof oe.componentWillUnmount=="function"){f=X,c=X.return;try{o=f,oe.props=o.memoizedProps,oe.state=o.memoizedState,oe.componentWillUnmount()}catch(ae){Je(f,c,ae)}}break;case 5:Vs(X,X.return);break;case 22:if(X.memoizedState!==null){o0(H);continue}}ie!==null?(ie.return=X,se=ie):o0(H)}Y=Y.sibling}e:for(Y=null,H=s;;){if(H.tag===5){if(Y===null){Y=H;try{m=H.stateNode,z?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(k=H.stateNode,M=H.memoizedProps.style,C=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=Tl("display",C))}catch(ae){Je(s,s.return,ae)}}}else if(H.tag===6){if(Y===null)try{H.stateNode.nodeValue=z?"":H.memoizedProps}catch(ae){Je(s,s.return,ae)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===s)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===s)break e;for(;H.sibling===null;){if(H.return===null||H.return===s)break e;Y===H&&(Y=null),H=H.return}Y===H&&(Y=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Fn(o,s),ni(s),f&4&&n0(s);break;case 21:break;default:Fn(o,s),ni(s)}}function ni(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Jy(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ji(m,""),f.flags&=-33);var _=e0(s);Sd(s,_,m);break;case 3:case 4:var C=f.stateNode.containerInfo,k=e0(s);Ed(s,k,C);break;default:throw Error(t(161))}}catch(M){Je(s,s.return,M)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function uC(s,o,c){se=s,r0(s)}function r0(s,o,c){for(var f=(s.mode&1)!==0;se!==null;){var m=se,_=m.child;if(m.tag===22&&f){var C=m.memoizedState!==null||mu;if(!C){var k=m.alternate,M=k!==null&&k.memoizedState!==null||Ct;k=mu;var z=Ct;if(mu=C,(Ct=M)&&!z)for(se=m;se!==null;)C=se,M=C.child,C.tag===22&&C.memoizedState!==null?a0(m):M!==null?(M.return=C,se=M):a0(m);for(;_!==null;)se=_,r0(_),_=_.sibling;se=m,mu=k,Ct=z}s0(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,se=_):s0(s)}}function s0(s){for(;se!==null;){var o=se;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ct||pu(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Ct)if(c===null)f.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:bn(o.type,c.memoizedProps);f.componentDidUpdate(m,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&oy(o,_,f);break;case 3:var C=o.updateQueue;if(C!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}oy(o,C,c)}break;case 5:var k=o.stateNode;if(c===null&&o.flags&4){c=k;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&c.focus();break;case"img":M.src&&(c.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var z=o.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var H=Y.dehydrated;H!==null&&Wo(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ct||o.flags&512&&wd(o)}catch(X){Je(o,o.return,X)}}if(o===s){se=null;break}if(c=o.sibling,c!==null){c.return=o.return,se=c;break}se=o.return}}function o0(s){for(;se!==null;){var o=se;if(o===s){se=null;break}var c=o.sibling;if(c!==null){c.return=o.return,se=c;break}se=o.return}}function a0(s){for(;se!==null;){var o=se;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{pu(4,o)}catch(M){Je(o,c,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(M){Je(o,m,M)}}var _=o.return;try{wd(o)}catch(M){Je(o,_,M)}break;case 5:var C=o.return;try{wd(o)}catch(M){Je(o,C,M)}}}catch(M){Je(o,o.return,M)}if(o===s){se=null;break}var k=o.sibling;if(k!==null){k.return=o.return,se=k;break}se=o.return}}var cC=Math.ceil,yu=I.ReactCurrentDispatcher,Cd=I.ReactCurrentOwner,vn=I.ReactCurrentBatchConfig,ke=0,dt=null,ot=null,_t=0,an=0,Bs=Xi(0),lt=0,da=null,Fr=0,_u=0,Td=0,fa=null,Wt=null,Rd=0,Gs=1/0,Si=null,vu=!1,Pd=null,Qi=null,xu=!1,Ji=null,wu=0,ga=0,Id=null,Eu=-1,Su=0;function Nt(){return(ke&6)!==0?it():Eu!==-1?Eu:Eu=it()}function er(s){return(s.mode&1)===0?1:(ke&2)!==0&&_t!==0?_t&-_t:YS.transition!==null?(Su===0&&(Su=ep()),Su):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:up(s.type)),s)}function jn(s,o,c,f){if(50<ga)throw ga=0,Id=null,Error(t(185));jo(s,c,f),((ke&2)===0||s!==dt)&&(s===dt&&((ke&2)===0&&(_u|=c),lt===4&&tr(s,_t)),Ut(s,f),c===1&&ke===0&&(o.mode&1)===0&&(Gs=it()+500,ql&&Hi()))}function Ut(s,o){var c=s.callbackNode;YE(s,o);var f=Al(s,s===dt?_t:0);if(f===0)c!==null&&qm(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&qm(c),o===1)s.tag===0?XS(u0.bind(null,s)):Hp(u0.bind(null,s)),GS(function(){(ke&6)===0&&Hi()}),c=null;else{switch(tp(f)){case 1:c=ah;break;case 4:c=Qm;break;case 16:c=Il;break;case 536870912:c=Jm;break;default:c=Il}c=y0(c,l0.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function l0(s,o){if(Eu=-1,Su=0,(ke&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ws()&&s.callbackNode!==c)return null;var f=Al(s,s===dt?_t:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Cu(s,f);else{o=f;var m=ke;ke|=2;var _=h0();(dt!==s||_t!==o)&&(Si=null,Gs=it()+500,zr(s,o));do try{fC();break}catch(k){c0(s,k)}while(!0);Xh(),yu.current=_,ke=m,ot!==null?o=0:(dt=null,_t=0,o=lt)}if(o!==0){if(o===2&&(m=lh(s),m!==0&&(f=m,o=kd(s,m))),o===1)throw c=da,zr(s,0),tr(s,f),Ut(s,it()),c;if(o===6)tr(s,f);else{if(m=s.current.alternate,(f&30)===0&&!hC(m)&&(o=Cu(s,f),o===2&&(_=lh(s),_!==0&&(f=_,o=kd(s,_))),o===1))throw c=da,zr(s,0),tr(s,f),Ut(s,it()),c;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Vr(s,Wt,Si);break;case 3:if(tr(s,f),(f&130023424)===f&&(o=Rd+500-it(),10<o)){if(Al(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){Nt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=bh(Vr.bind(null,s,Wt,Si),o);break}Vr(s,Wt,Si);break;case 4:if(tr(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var C=31-An(f);_=1<<C,C=o[C],C>m&&(m=C),f&=~_}if(f=m,f=it()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*cC(f/1960))-f,10<f){s.timeoutHandle=bh(Vr.bind(null,s,Wt,Si),f);break}Vr(s,Wt,Si);break;case 5:Vr(s,Wt,Si);break;default:throw Error(t(329))}}}return Ut(s,it()),s.callbackNode===c?l0.bind(null,s):null}function kd(s,o){var c=fa;return s.current.memoizedState.isDehydrated&&(zr(s,o).flags|=256),s=Cu(s,o),s!==2&&(o=Wt,Wt=c,o!==null&&Ld(o)),s}function Ld(s){Wt===null?Wt=s:Wt.push.apply(Wt,s)}function hC(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var m=c[f],_=m.getSnapshot;m=m.value;try{if(!Dn(_(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function tr(s,o){for(o&=~Td,o&=~_u,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-An(o),f=1<<c;s[c]=-1,o&=~f}}function u0(s){if((ke&6)!==0)throw Error(t(327));Ws();var o=Al(s,0);if((o&1)===0)return Ut(s,it()),null;var c=Cu(s,o);if(s.tag!==0&&c===2){var f=lh(s);f!==0&&(o=f,c=kd(s,f))}if(c===1)throw c=da,zr(s,0),tr(s,o),Ut(s,it()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Vr(s,Wt,Si),Ut(s,it()),null}function Md(s,o){var c=ke;ke|=1;try{return s(o)}finally{ke=c,ke===0&&(Gs=it()+500,ql&&Hi())}}function jr(s){Ji!==null&&Ji.tag===0&&(ke&6)===0&&Ws();var o=ke;ke|=1;var c=vn.transition,f=Fe;try{if(vn.transition=null,Fe=1,s)return s()}finally{Fe=f,vn.transition=c,ke=o,(ke&6)===0&&Hi()}}function Ad(){an=Bs.current,Ke(Bs)}function zr(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,BS(c)),ot!==null)for(c=ot.return;c!==null;){var f=c;switch(Bh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&$l();break;case 3:js(),Ke(Vt),Ke(wt),ed();break;case 5:Qh(f);break;case 4:js();break;case 13:Ke($e);break;case 19:Ke($e);break;case 10:Yh(f.type._context);break;case 22:case 23:Ad()}c=c.return}if(dt=s,ot=s=nr(s.current,null),_t=an=o,lt=0,da=null,Td=_u=Fr=0,Wt=fa=null,Or!==null){for(o=0;o<Or.length;o++)if(c=Or[o],f=c.interleaved,f!==null){c.interleaved=null;var m=f.next,_=c.pending;if(_!==null){var C=_.next;_.next=m,f.next=C}c.pending=f}Or=null}return s}function c0(s,o){do{var c=ot;try{if(Xh(),au.current=hu,lu){for(var f=Ze.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}lu=!1}if(Nr=0,ht=at=Ze=null,oa=!1,aa=0,Cd.current=null,c===null||c.return===null){lt=1,da=o,ot=null;break}e:{var _=s,C=c.return,k=c,M=o;if(o=_t,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var z=M,Y=k,H=Y.tag;if((Y.mode&1)===0&&(H===0||H===11||H===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=by(C);if(ie!==null){ie.flags&=-257,Ny(ie,C,k,_,o),ie.mode&1&&Oy(_,z,o),o=ie,M=z;var oe=o.updateQueue;if(oe===null){var ae=new Set;ae.add(M),o.updateQueue=ae}else oe.add(M);break e}else{if((o&1)===0){Oy(_,z,o),Dd();break e}M=Error(t(426))}}else if(Ye&&k.mode&1){var rt=by(C);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Ny(rt,C,k,_,o),Uh(zs(M,k));break e}}_=M=zs(M,k),lt!==4&&(lt=2),fa===null?fa=[_]:fa.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var b=Ay(_,M,o);sy(_,b);break e;case 1:k=M;var D=_.type,F=_.stateNode;if((_.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Qi===null||!Qi.has(F)))){_.flags|=65536,o&=-o,_.lanes|=o;var q=Dy(_,k,o);sy(_,q);break e}}_=_.return}while(_!==null)}f0(c)}catch(ue){o=ue,ot===c&&c!==null&&(ot=c=c.return);continue}break}while(!0)}function h0(){var s=yu.current;return yu.current=hu,s===null?hu:s}function Dd(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(Fr&268435455)===0&&(_u&268435455)===0||tr(dt,_t)}function Cu(s,o){var c=ke;ke|=2;var f=h0();(dt!==s||_t!==o)&&(Si=null,zr(s,o));do try{dC();break}catch(m){c0(s,m)}while(!0);if(Xh(),ke=c,yu.current=f,ot!==null)throw Error(t(261));return dt=null,_t=0,lt}function dC(){for(;ot!==null;)d0(ot)}function fC(){for(;ot!==null&&!jE();)d0(ot)}function d0(s){var o=p0(s.alternate,s,an);s.memoizedProps=s.pendingProps,o===null?f0(s):ot=o,Cd.current=null}function f0(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=sC(c,o,an),c!==null){ot=c;return}}else{if(c=oC(c,o),c!==null){c.flags&=32767,ot=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{lt=6,ot=null;return}}if(o=o.sibling,o!==null){ot=o;return}ot=o=s}while(o!==null);lt===0&&(lt=5)}function Vr(s,o,c){var f=Fe,m=vn.transition;try{vn.transition=null,Fe=1,gC(s,o,c,f)}finally{vn.transition=m,Fe=f}return null}function gC(s,o,c,f){do Ws();while(Ji!==null);if((ke&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(HE(s,_),s===dt&&(ot=dt=null,_t=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||xu||(xu=!0,y0(Il,function(){return Ws(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=vn.transition,vn.transition=null;var C=Fe;Fe=1;var k=ke;ke|=4,Cd.current=null,lC(s,c),i0(c,s),OS(Dh),bl=!!Ah,Dh=Ah=null,s.current=c,uC(c),zE(),ke=k,Fe=C,vn.transition=_}else s.current=c;if(xu&&(xu=!1,Ji=s,wu=m),_=s.pendingLanes,_===0&&(Qi=null),GE(c.stateNode),Ut(s,it()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)m=o[c],f(m.value,{componentStack:m.stack,digest:m.digest});if(vu)throw vu=!1,s=Pd,Pd=null,s;return(wu&1)!==0&&s.tag!==0&&Ws(),_=s.pendingLanes,(_&1)!==0?s===Id?ga++:(ga=0,Id=s):ga=0,Hi(),null}function Ws(){if(Ji!==null){var s=tp(wu),o=vn.transition,c=Fe;try{if(vn.transition=null,Fe=16>s?16:s,Ji===null)var f=!1;else{if(s=Ji,Ji=null,wu=0,(ke&6)!==0)throw Error(t(331));var m=ke;for(ke|=4,se=s.current;se!==null;){var _=se,C=_.child;if((se.flags&16)!==0){var k=_.deletions;if(k!==null){for(var M=0;M<k.length;M++){var z=k[M];for(se=z;se!==null;){var Y=se;switch(Y.tag){case 0:case 11:case 15:ha(8,Y,_)}var H=Y.child;if(H!==null)H.return=Y,se=H;else for(;se!==null;){Y=se;var X=Y.sibling,ie=Y.return;if(Qy(Y),Y===z){se=null;break}if(X!==null){X.return=ie,se=X;break}se=ie}}}var oe=_.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var rt=ae.sibling;ae.sibling=null,ae=rt}while(ae!==null)}}se=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,se=C;else e:for(;se!==null;){if(_=se,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ha(9,_,_.return)}var b=_.sibling;if(b!==null){b.return=_.return,se=b;break e}se=_.return}}var D=s.current;for(se=D;se!==null;){C=se;var F=C.child;if((C.subtreeFlags&2064)!==0&&F!==null)F.return=C,se=F;else e:for(C=D;se!==null;){if(k=se,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:pu(9,k)}}catch(ue){Je(k,k.return,ue)}if(k===C){se=null;break e}var q=k.sibling;if(q!==null){q.return=k.return,se=q;break e}se=k.return}}if(ke=m,Hi(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(kl,s)}catch{}f=!0}return f}finally{Fe=c,vn.transition=o}}return!1}function g0(s,o,c){o=zs(c,o),o=Ay(s,o,1),s=Zi(s,o,1),o=Nt(),s!==null&&(jo(s,1,o),Ut(s,o))}function Je(s,o,c){if(s.tag===3)g0(s,s,c);else for(;o!==null;){if(o.tag===3){g0(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))){s=zs(c,s),s=Dy(o,s,1),o=Zi(o,s,1),s=Nt(),o!==null&&(jo(o,1,s),Ut(o,s));break}}o=o.return}}function mC(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=Nt(),s.pingedLanes|=s.suspendedLanes&c,dt===s&&(_t&c)===c&&(lt===4||lt===3&&(_t&130023424)===_t&&500>it()-Rd?zr(s,0):Td|=c),Ut(s,o)}function m0(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ml,Ml<<=1,(Ml&130023424)===0&&(Ml=4194304)));var c=Nt();s=xi(s,o),s!==null&&(jo(s,o,c),Ut(s,c))}function pC(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),m0(s,c)}function yC(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),m0(s,c)}var p0;p0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Vt.current)Gt=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Gt=!1,rC(s,o,c);Gt=(s.flags&131072)!==0}else Gt=!1,Ye&&(o.flags&1048576)!==0&&$p(o,Jl,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;gu(s,o),s=o.pendingProps;var m=Ms(o,wt.current);Fs(o,c),m=id(null,o,f,s,m,c);var _=rd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Bt(f)?(_=!0,Zl(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Zh(o),m.updater=du,o.stateNode=m,m._reactInternals=o,cd(o,f,s,c),o=gd(null,o,f,!0,_,c)):(o.tag=0,Ye&&_&&Vh(o),bt(null,o,m,c),o=o.child),o;case 16:f=o.elementType;e:{switch(gu(s,o),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=vC(f),s=bn(f,s),m){case 0:o=fd(null,o,f,s,c);break e;case 1:o=Gy(null,o,f,s,c);break e;case 11:o=Fy(null,o,f,s,c);break e;case 14:o=jy(null,o,f,bn(f.type,s),c);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:bn(f,m),fd(s,o,f,m,c);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:bn(f,m),Gy(s,o,f,m,c);case 3:e:{if(Wy(o),s===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,m=_.element,ry(s,o),su(o,f,null,c);var C=o.memoizedState;if(f=C.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=zs(Error(t(423)),o),o=Uy(s,o,f,c,m);break e}else if(f!==m){m=zs(Error(t(424)),o),o=Uy(s,o,f,c,m);break e}else for(on=Ki(o.stateNode.containerInfo.firstChild),sn=o,Ye=!0,On=null,c=ny(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Os(),f===m){o=Ei(s,o,c);break e}bt(s,o,f,c)}o=o.child}return o;case 5:return ay(o),s===null&&Wh(o),f=o.type,m=o.pendingProps,_=s!==null?s.memoizedProps:null,C=m.children,Oh(f,m)?C=null:_!==null&&Oh(f,_)&&(o.flags|=32),By(s,o),bt(s,o,C,c),o.child;case 6:return s===null&&Wh(o),null;case 13:return Ky(s,o,c);case 4:return qh(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=bs(o,null,f,c):bt(s,o,f,c),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:bn(f,m),Fy(s,o,f,m,c);case 7:return bt(s,o,o.pendingProps,c),o.child;case 8:return bt(s,o,o.pendingProps.children,c),o.child;case 12:return bt(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,_=o.memoizedProps,C=m.value,We(nu,f._currentValue),f._currentValue=C,_!==null)if(Dn(_.value,C)){if(_.children===m.children&&!Vt.current){o=Ei(s,o,c);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var k=_.dependencies;if(k!==null){C=_.child;for(var M=k.firstContext;M!==null;){if(M.context===f){if(_.tag===1){M=wi(-1,c&-c),M.tag=2;var z=_.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?M.next=M:(M.next=Y.next,Y.next=M),z.pending=M}}_.lanes|=c,M=_.alternate,M!==null&&(M.lanes|=c),Hh(_.return,c,o),k.lanes|=c;break}M=M.next}}else if(_.tag===10)C=_.type===o.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(t(341));C.lanes|=c,k=C.alternate,k!==null&&(k.lanes|=c),Hh(C,c,o),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===o){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}bt(s,o,m.children,c),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Fs(o,c),m=yn(m),f=f(m),o.flags|=1,bt(s,o,f,c),o.child;case 14:return f=o.type,m=bn(f,o.pendingProps),m=bn(f.type,m),jy(s,o,f,m,c);case 15:return zy(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:bn(f,m),gu(s,o),o.tag=1,Bt(f)?(s=!0,Zl(o)):s=!1,Fs(o,c),Ly(o,f,m),cd(o,f,m,c),gd(null,o,f,!0,s,c);case 19:return Yy(s,o,c);case 22:return Vy(s,o,c)}throw Error(t(156,o.tag))};function y0(s,o){return Zm(s,o)}function _C(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(s,o,c,f){return new _C(s,o,c,f)}function Od(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vC(s){if(typeof s=="function")return Od(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ee)return 11;if(s===le)return 14}return 2}function nr(s,o){var c=s.alternate;return c===null?(c=xn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Tu(s,o,c,f,m,_){var C=2;if(f=s,typeof s=="function")Od(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case V:return Br(c.children,m,_,o);case j:C=8,m|=8;break;case U:return s=xn(12,c,o,m|2),s.elementType=U,s.lanes=_,s;case Q:return s=xn(13,c,o,m),s.elementType=Q,s.lanes=_,s;case te:return s=xn(19,c,o,m),s.elementType=te,s.lanes=_,s;case J:return Ru(c,m,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:C=10;break e;case re:C=9;break e;case ee:C=11;break e;case le:C=14;break e;case ne:C=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=xn(C,c,o,m),o.elementType=s,o.type=f,o.lanes=_,o}function Br(s,o,c,f){return s=xn(7,s,f,o),s.lanes=c,s}function Ru(s,o,c,f){return s=xn(22,s,f,o),s.elementType=J,s.lanes=c,s.stateNode={isHidden:!1},s}function bd(s,o,c){return s=xn(6,s,null,o),s.lanes=c,s}function Nd(s,o,c){return o=xn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function xC(s,o,c,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Fd(s,o,c,f,m,_,C,k,M){return s=new xC(s,o,c,k,M),o===1?(o=1,_===!0&&(o|=8)):o=0,_=xn(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(_),s}function wC(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function _0(s){if(!s)return Yi;s=s._reactInternals;e:{if(kr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Bt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Bt(c))return Xp(s,c,o)}return o}function v0(s,o,c,f,m,_,C,k,M){return s=Fd(c,f,!0,s,m,_,C,k,M),s.context=_0(null),c=s.current,f=Nt(),m=er(c),_=wi(f,m),_.callback=o??null,Zi(c,_,m),s.current.lanes=m,jo(s,m,f),Ut(s,f),s}function Pu(s,o,c,f){var m=o.current,_=Nt(),C=er(m);return c=_0(c),o.context===null?o.context=c:o.pendingContext=c,o=wi(_,C),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Zi(m,o,C),s!==null&&(jn(s,m,C,_),ru(s,m,C)),C}function Iu(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function x0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function jd(s,o){x0(s,o),(s=s.alternate)&&x0(s,o)}function EC(){return null}var w0=typeof reportError=="function"?reportError:function(s){console.error(s)};function zd(s){this._internalRoot=s}ku.prototype.render=zd.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Pu(s,o,null,null)},ku.prototype.unmount=zd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;jr(function(){Pu(null,s,null,null)}),o[pi]=null}};function ku(s){this._internalRoot=s}ku.prototype.unstable_scheduleHydration=function(s){if(s){var o=rp();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Gi.length&&o!==0&&o<Gi[c].priority;c++);Gi.splice(c,0,s),c===0&&ap(s)}};function Vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Lu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function E0(){}function SC(s,o,c,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var z=Iu(C);_.call(z)}}var C=v0(o,f,s,0,null,!1,!1,"",E0);return s._reactRootContainer=C,s[pi]=C.current,Qo(s.nodeType===8?s.parentNode:s),jr(),C}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var k=f;f=function(){var z=Iu(M);k.call(z)}}var M=Fd(s,0,!1,null,null,!1,!1,"",E0);return s._reactRootContainer=M,s[pi]=M.current,Qo(s.nodeType===8?s.parentNode:s),jr(function(){Pu(o,M,c,f)}),M}function Mu(s,o,c,f,m){var _=c._reactRootContainer;if(_){var C=_;if(typeof m=="function"){var k=m;m=function(){var M=Iu(C);k.call(M)}}Pu(o,C,s,m)}else C=SC(c,o,s,m,f);return Iu(C)}np=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Fo(o.pendingLanes);c!==0&&(ch(o,c|1),Ut(o,it()),(ke&6)===0&&(Gs=it()+500,Hi()))}break;case 13:jr(function(){var f=xi(s,1);if(f!==null){var m=Nt();jn(f,s,1,m)}}),jd(s,1)}},hh=function(s){if(s.tag===13){var o=xi(s,134217728);if(o!==null){var c=Nt();jn(o,s,134217728,c)}jd(s,134217728)}},ip=function(s){if(s.tag===13){var o=er(s),c=xi(s,o);if(c!==null){var f=Nt();jn(c,s,o,f)}jd(s,o)}},rp=function(){return Fe},sp=function(s,o){var c=Fe;try{return Fe=s,o()}finally{Fe=c}},mi=function(s,o,c){switch(o){case"input":if($n(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var m=Hl(f);if(!m)throw Error(t(90));ps(f),$n(f,m)}}}break;case"textarea":ys(s,c);break;case"select":o=c.value,o!=null&&tn(s,!!c.multiple,o,!1)}},qn=Md,Mt=jr;var CC={usingClientEntryPoint:!1,Events:[ta,ks,Hl,No,Lt,Md]},ma={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TC={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Hm(s),s===null?null:s.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||EC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{kl=Au.inject(TC),Qn=Au}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CC,Kt.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vd(o))throw Error(t(200));return wC(s,o,null,c)},Kt.createRoot=function(s,o){if(!Vd(s))throw Error(t(299));var c=!1,f="",m=w0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Fd(s,1,!1,null,null,c,!1,f,m),s[pi]=o.current,Qo(s.nodeType===8?s.parentNode:s),new zd(o)},Kt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Hm(o),s=s===null?null:s.stateNode,s},Kt.flushSync=function(s){return jr(s)},Kt.hydrate=function(s,o,c){if(!Lu(o))throw Error(t(200));return Mu(null,s,o,!0,c)},Kt.hydrateRoot=function(s,o,c){if(!Vd(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,m=!1,_="",C=w0;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),o=v0(o,null,s,1,c??null,m,!1,_,C),s[pi]=o.current,Qo(s),f)for(s=0;s<f.length;s++)c=f[s],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new ku(o)},Kt.render=function(s,o,c){if(!Lu(o))throw Error(t(200));return Mu(null,s,o,!1,c)},Kt.unmountComponentAtNode=function(s){if(!Lu(s))throw Error(t(40));return s._reactRootContainer?(jr(function(){Mu(null,null,s,!1,function(){s._reactRootContainer=null,s[pi]=null})}),!0):!1},Kt.unstable_batchedUpdates=Md,Kt.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Lu(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Mu(s,o,c,!1,f)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var L0;function DC(){if(L0)return Wd.exports;L0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wd.exports=AC(),Wd.exports}var M0;function OC(){if(M0)return Du;M0=1;var n=DC();return Du.createRoot=n.createRoot,Du.hydrateRoot=n.hydrateRoot,Du}var bC=OC();const NC=Tg(bC);var G=al();const FC=Tg(G),Rg=G.createContext({});function Pg(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const Mc=G.createContext(null),Ig=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class jC extends G.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zC({children:n,isPresent:e}){const t=G.useId(),i=G.useRef(null),r=G.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=G.useContext(Ig);return G.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:d}=r.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=t;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),E.jsx(jC,{isPresent:e,childRef:i,sizeRef:r,children:G.cloneElement(n,{ref:i})})}const VC=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:l})=>{const u=Pg(BC),h=G.useId(),d=G.useCallback(p=>{u.set(p,!0);for(const y of u.values())if(!y)return;i&&i()},[u,i]),g=G.useMemo(()=>({id:h,initial:e,isPresent:t,custom:r,onExitComplete:d,register:p=>(u.set(p,!1),()=>u.delete(p))}),a?[Math.random(),d]:[t,d]);return G.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[t]),G.useEffect(()=>{!t&&!u.size&&i&&i()},[t]),l==="popLayout"&&(n=E.jsx(zC,{isPresent:t,children:n})),E.jsx(Mc.Provider,{value:g,children:n})};function BC(){return new Map}function _x(n=!0){const e=G.useContext(Mc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=G.useId();G.useEffect(()=>{n&&r(a)},[n]);const l=G.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,l]:[!0]}const Ou=n=>n.key||"";function A0(n){const e=[];return G.Children.forEach(n,t=>{G.isValidElement(t)&&e.push(t)}),e}const kg=typeof window<"u",vx=kg?G.useLayoutEffect:G.useEffect,Sr=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:l=!1})=>{const[u,h]=_x(l),d=G.useMemo(()=>A0(n),[n]),g=l&&!u?[]:d.map(Ou),p=G.useRef(!0),y=G.useRef(d),v=Pg(()=>new Map),[x,S]=G.useState(d),[w,R]=G.useState(d);vx(()=>{p.current=!1,y.current=d;for(let I=0;I<w.length;I++){const L=Ou(w[I]);g.includes(L)?v.delete(L):v.get(L)!==!0&&v.set(L,!1)}},[w,g.length,g.join("-")]);const T=[];if(d!==x){let I=[...d];for(let L=0;L<w.length;L++){const N=w[L],V=Ou(N);g.includes(V)||(I.splice(L,0,N),T.push(N))}a==="wait"&&T.length&&(I=T),R(A0(I)),S(d);return}const{forceRender:P}=G.useContext(Rg);return E.jsx(E.Fragment,{children:w.map(I=>{const L=Ou(I),N=l&&!u?!1:d===w||g.includes(L),V=()=>{if(v.has(L))v.set(L,!0);else return;let j=!0;v.forEach(U=>{U||(j=!1)}),j&&(P?.(),R(y.current),l&&h?.(),i&&i())};return E.jsx(VC,{isPresent:N,initial:!p.current||t?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:r,mode:a,onExitComplete:N?void 0:V,children:I},L)})})},cn=n=>n;let xx=cn;function Lg(n){let e;return()=>(e===void 0&&(e=n()),e)}const fo=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Ii=n=>n*1e3,ki=n=>n/1e3,GC={useManualTiming:!1};function WC(n){let e=new Set,t=new Set,i=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(h.schedule(d),n()),d(l)}const h={schedule:(d,g=!1,p=!1)=>{const v=p&&i?e:t;return g&&a.add(d),v.has(d)||v.add(d),d},cancel:d=>{t.delete(d),a.delete(d)},process:d=>{if(l=d,i){r=!0;return}i=!0,[e,t]=[t,e],e.forEach(u),e.clear(),i=!1,r&&(r=!1,h.process(d))}};return h}const bu=["read","resolveKeyframes","update","preRender","render","postRender"],UC=40;function wx(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=bu.reduce((R,T)=>(R[T]=WC(a),R),{}),{read:u,resolveKeyframes:h,update:d,preRender:g,render:p,postRender:y}=l,v=()=>{const R=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(R-r.timestamp,UC),1),r.timestamp=R,r.isProcessing=!0,u.process(r),h.process(r),d.process(r),g.process(r),p.process(r),y.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(v))},x=()=>{t=!0,i=!0,r.isProcessing||n(v)};return{schedule:bu.reduce((R,T)=>{const P=l[T];return R[T]=(I,L=!1,N=!1)=>(t||x(),P.schedule(I,L,N)),R},{}),cancel:R=>{for(let T=0;T<bu.length;T++)l[bu[T]].cancel(R)},state:r,steps:l}}const{schedule:Xe,cancel:xr,state:vt,steps:Xd}=wx(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),Ex=G.createContext({strict:!1}),D0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},go={};for(const n in D0)go[n]={isEnabled:e=>D0[n].some(t=>!!e[t])};function KC(n){for(const e in n)go[e]={...go[e],...n[e]}}const XC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ic(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||XC.has(n)}let Sx=n=>!ic(n);function YC(n){n&&(Sx=e=>e.startsWith("on")?!ic(e):n(e))}try{YC(require("@emotion/is-prop-valid").default)}catch{}function HC(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(Sx(r)||t===!0&&ic(r)||!e&&!ic(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function $C(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const Ac=G.createContext({});function Va(n){return typeof n=="string"||Array.isArray(n)}function Dc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Mg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ag=["initial",...Mg];function Oc(n){return Dc(n.animate)||Ag.some(e=>Va(n[e]))}function Cx(n){return!!(Oc(n)||n.variants)}function ZC(n,e){if(Oc(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Va(t)?t:void 0,animate:Va(i)?i:void 0}}return n.inherit!==!1?e:{}}function qC(n){const{initial:e,animate:t}=ZC(n,G.useContext(Ac));return G.useMemo(()=>({initial:e,animate:t}),[O0(e),O0(t)])}function O0(n){return Array.isArray(n)?n.join(" "):n}const QC=Symbol.for("motionComponentSymbol");function to(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function JC(n,e,t){return G.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):to(t)&&(t.current=i))},[e])}const Dg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eT="framerAppearId",Tx="data-"+Dg(eT),{schedule:Og}=wx(queueMicrotask,!1),Rx=G.createContext({});function tT(n,e,t,i,r){var a,l;const{visualElement:u}=G.useContext(Ac),h=G.useContext(Ex),d=G.useContext(Mc),g=G.useContext(Ig).reducedMotion,p=G.useRef(null);i=i||h.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:u,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const y=p.current,v=G.useContext(Rx);y&&!y.projection&&r&&(y.type==="html"||y.type==="svg")&&nT(p.current,t,r,v);const x=G.useRef(!1);G.useInsertionEffect(()=>{y&&x.current&&y.update(t,d)});const S=t[Tx],w=G.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return vx(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Og.render(y.render),w.current&&y.animationState&&y.animationState.animateChanges())}),G.useEffect(()=>{y&&(!w.current&&y.animationState&&y.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,S)}),w.current=!1))}),y}function nT(n,e,t,i){const{layoutId:r,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Px(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||u&&to(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:d})}function Px(n){if(n)return n.options.allowProjection!==!1?n.projection:Px(n.parent)}function iT({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){var a,l;n&&KC(n);function u(d,g){let p;const y={...G.useContext(Ig),...d,layoutId:rT(d)},{isStatic:v}=y,x=qC(d),S=i(d,v);if(!v&&kg){sT();const w=oT(y);p=w.MeasureLayout,x.visualElement=tT(r,S,y,e,w.ProjectionNode)}return E.jsxs(Ac.Provider,{value:x,children:[p&&x.visualElement?E.jsx(p,{visualElement:x.visualElement,...y}):null,t(r,d,JC(S,x.visualElement,g),S,v,x.visualElement)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${(l=(a=r.displayName)!==null&&a!==void 0?a:r.name)!==null&&l!==void 0?l:""})`}`;const h=G.forwardRef(u);return h[QC]=r,h}function rT({layoutId:n}){const e=G.useContext(Rg).id;return e&&n!==void 0?e+"-"+n:n}function sT(n,e){G.useContext(Ex).strict}function oT(n){const{drag:e,layout:t}=go;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const aT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bg(n){return typeof n!="string"||n.includes("-")?!1:!!(aT.indexOf(n)>-1||/[A-Z]/u.test(n))}function b0(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Ng(n,e,t,i){if(typeof e=="function"){const[r,a]=b0(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=b0(i);e=e(t!==void 0?t:n.custom,r,a)}return e}const jf=n=>Array.isArray(n),lT=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),uT=n=>jf(n)?n[n.length-1]||0:n,It=n=>!!(n&&n.getVelocity);function Qu(n){const e=It(n)?n.get():n;return lT(e)?e.toValue():e}function cT({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,a){const l={latestValues:hT(i,r,a,n),renderState:e()};return t&&(l.onMount=u=>t({props:i,current:u,...l}),l.onUpdate=u=>t(u)),l}const Ix=n=>(e,t)=>{const i=G.useContext(Ac),r=G.useContext(Mc),a=()=>cT(n,e,i,r);return t?a():Pg(a)};function hT(n,e,t,i){const r={},a=i(n,{});for(const y in a)r[y]=Qu(a[y]);let{initial:l,animate:u}=n;const h=Oc(n),d=Cx(n);e&&d&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const p=g?u:l;if(p&&typeof p!="boolean"&&!Dc(p)){const y=Array.isArray(p)?p:[p];for(let v=0;v<y.length;v++){const x=Ng(n,y[v]);if(x){const{transitionEnd:S,transition:w,...R}=x;for(const T in R){let P=R[T];if(Array.isArray(P)){const I=g?P.length-1:0;P=P[I]}P!==null&&(r[T]=P)}for(const T in S)r[T]=S[T]}}}return r}const Ro=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hs=new Set(Ro),kx=n=>e=>typeof e=="string"&&e.startsWith(n),Lx=kx("--"),dT=kx("var(--"),Fg=n=>dT(n)?fT.test(n.split("/*")[0].trim()):!1,fT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mx=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Di=(n,e,t)=>t>e?e:t<n?n:t,Po={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ba={...Po,transform:n=>Di(0,1,n)},Nu={...Po,default:1},ll=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),cr=ll("deg"),oi=ll("%"),ye=ll("px"),gT=ll("vh"),mT=ll("vw"),N0={...oi,parse:n=>oi.parse(n)/100,transform:n=>oi.transform(n*100)},pT={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},yT={rotate:cr,rotateX:cr,rotateY:cr,rotateZ:cr,scale:Nu,scaleX:Nu,scaleY:Nu,scaleZ:Nu,skew:cr,skewX:cr,skewY:cr,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Ba,originX:N0,originY:N0,originZ:ye},F0={...Po,transform:Math.round},jg={...pT,...yT,zIndex:F0,size:ye,fillOpacity:Ba,strokeOpacity:Ba,numOctaves:F0},_T={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vT=Ro.length;function xT(n,e,t){let i="",r=!0;for(let a=0;a<vT;a++){const l=Ro[a],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const d=Mx(u,jg[l]);if(!h){r=!1;const g=_T[l]||l;i+=`${g}(${d}) `}t&&(e[l]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function zg(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let l=!1,u=!1;for(const h in e){const d=e[h];if(hs.has(h)){l=!0;continue}else if(Lx(h)){r[h]=d;continue}else{const g=Mx(d,jg[h]);h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}}if(e.transform||(l||t?i.transform=xT(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${d} ${g}`}}const wT={offset:"stroke-dashoffset",array:"stroke-dasharray"},ET={offset:"strokeDashoffset",array:"strokeDasharray"};function ST(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?wT:ET;n[a.offset]=ye.transform(-i);const l=ye.transform(e),u=ye.transform(t);n[a.array]=`${l} ${u}`}function j0(n,e,t){return typeof n=="string"?n:ye.transform(e+t*n)}function CT(n,e,t){const i=j0(e,n.x,n.width),r=j0(t,n.y,n.height);return`${i} ${r}`}function Vg(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...d},g,p){if(zg(n,d,p),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v,dimensions:x}=n;y.transform&&(x&&(v.transform=y.transform),delete y.transform),x&&(r!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=CT(x,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),i!==void 0&&(y.scale=i),l!==void 0&&ST(y,l,u,h,!1)}const Bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ax=()=>({...Bg(),attrs:{}}),Gg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Dx(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const a in t)n.style.setProperty(a,t[a])}const Ox=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bx(n,e,t,i){Dx(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(Ox.has(r)?r:Dg(r),e.attrs[r])}const rc={};function TT(n){Object.assign(rc,n)}function Nx(n,{layout:e,layoutId:t}){return hs.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!rc[n]||n==="opacity")}function Wg(n,e,t){var i;const{style:r}=n,a={};for(const l in r)(It(r[l])||e.style&&It(e.style[l])||Nx(l,n)||((i=t?.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[l]=r[l]);return a}function Fx(n,e,t){const i=Wg(n,e,t);for(const r in n)if(It(n[r])||It(e[r])){const a=Ro.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}function RT(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const z0=["x","y","width","height","cx","cy","r"],PT={useVisualState:Ix({scrapeMotionValuesFromProps:Fx,createRenderState:Ax,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let a=!!n.drag;if(!a){for(const u in r)if(hs.has(u)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let u=0;u<z0.length;u++){const h=z0[u];n[h]!==e[h]&&(l=!0)}l&&Xe.read(()=>{RT(t,i),Xe.render(()=>{Vg(i,r,Gg(t.tagName),n.transformTemplate),bx(t,i)})})}})},IT={useVisualState:Ix({scrapeMotionValuesFromProps:Wg,createRenderState:Bg})};function jx(n,e,t){for(const i in e)!It(e[i])&&!Nx(i,t)&&(n[i]=e[i])}function kT({transformTemplate:n},e){return G.useMemo(()=>{const t=Bg();return zg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function LT(n,e){const t=n.style||{},i={};return jx(i,t,n),Object.assign(i,kT(n,e)),i}function MT(n,e){const t={},i=LT(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function AT(n,e,t,i){const r=G.useMemo(()=>{const a=Ax();return Vg(a,e,Gg(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};jx(a,n.style,n),r.style={...a,...r.style}}return r}function DT(n=!1){return(t,i,r,{latestValues:a},l)=>{const h=(bg(t)?AT:MT)(i,a,l,t),d=HC(i,typeof t=="string",n),g=t!==G.Fragment?{...d,...h,ref:r}:{},{children:p}=i,y=G.useMemo(()=>It(p)?p.get():p,[p]);return G.createElement(t,{...g,children:y})}}function OT(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...bg(i)?PT:IT,preloadedFeatures:n,useRender:DT(r),createVisualElement:e,Component:i};return iT(l)}}function zx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function bc(n,e,t){const i=n.getProps();return Ng(i,e,t!==void 0?t:i.custom,n)}const bT=Lg(()=>window.ScrollTimeline!==void 0);class NT{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(bT()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,a)=>{r&&r(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class FT extends NT{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ug(n,e){return n?n[e]||n.default||n:void 0}const zf=2e4;function Vx(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<zf;)e+=t,i=n.next(e);return e>=zf?1/0:e}function Kg(n){return typeof n=="function"}function V0(n,e){n.timeline=e,n.onfinish=null}const Xg=n=>Array.isArray(n)&&typeof n[0]=="number",jT={linearEasing:void 0};function zT(n,e){const t=Lg(n);return()=>{var i;return(i=jT[e])!==null&&i!==void 0?i:t()}}const sc=zT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bx=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=n(fo(0,r-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function Gx(n){return!!(typeof n=="function"&&sc()||!n||typeof n=="string"&&(n in Vf||sc())||Xg(n)||Array.isArray(n)&&n.every(Gx))}const Ca=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Vf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ca([0,.65,.55,1]),circOut:Ca([.55,0,1,.45]),backIn:Ca([.31,.01,.66,-.59]),backOut:Ca([.33,1.53,.69,.99])};function Wx(n,e){if(n)return typeof n=="function"&&sc()?Bx(n,e):Xg(n)?Ca(n):Array.isArray(n)?n.map(t=>Wx(t,e)||Vf.easeOut):Vf[n]}const Vn={x:!1,y:!1};function Ux(){return Vn.x||Vn.y}function VT(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let r=document;const a=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function Kx(n,e){const t=VT(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function B0(n){return e=>{e.pointerType==="touch"||Ux()||n(e)}}function BT(n,e,t={}){const[i,r,a]=Kx(n,t),l=B0(u=>{const{target:h}=u,d=e(u);if(typeof d!="function"||!h)return;const g=B0(p=>{d(p),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,r)});return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),a}const Xx=(n,e)=>e?n===e?!0:Xx(n,e.parentElement):!1,Yg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,GT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WT(n){return GT.has(n.tagName)||n.tabIndex!==-1}const Ta=new WeakSet;function G0(n){return e=>{e.key==="Enter"&&n(e)}}function Yd(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UT=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=G0(()=>{if(Ta.has(t))return;Yd(t,"down");const r=G0(()=>{Yd(t,"up")}),a=()=>Yd(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function W0(n){return Yg(n)&&!Ux()}function KT(n,e,t={}){const[i,r,a]=Kx(n,t),l=u=>{const h=u.currentTarget;if(!W0(u)||Ta.has(h))return;Ta.add(h);const d=e(u),g=(v,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),!(!W0(v)||!Ta.has(h))&&(Ta.delete(h),typeof d=="function"&&d(v,{success:x}))},p=v=>{g(v,t.useGlobalTarget||Xx(h,v.target))},y=v=>{g(v,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",y,r)};return i.forEach(u=>{!WT(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),u.addEventListener("focus",d=>UT(d,r),r)}),a}function XT(n){return n==="x"||n==="y"?Vn[n]?null:(Vn[n]=!0,()=>{Vn[n]=!1}):Vn.x||Vn.y?null:(Vn.x=Vn.y=!0,()=>{Vn.x=Vn.y=!1})}const Yx=new Set(["width","height","top","left","right","bottom",...Ro]);let Ju;function YT(){Ju=void 0}const ai={now:()=>(Ju===void 0&&ai.set(vt.isProcessing||GC.useManualTiming?vt.timestamp:performance.now()),Ju),set:n=>{Ju=n,queueMicrotask(YT)}};function Hg(n,e){n.indexOf(e)===-1&&n.push(e)}function $g(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Zg{constructor(){this.subscriptions=[]}add(e){return Hg(this.subscriptions,e),()=>$g(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Hx(n,e){return e?n*(1e3/e):0}const U0=30,HT=n=>!isNaN(parseFloat(n));class $T{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const a=ai.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ai.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Zg);const i=this.events[e].add(t);return e==="change"?()=>{i(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>U0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,U0);return Hx(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ga(n,e){return new $T(n,e)}function ZT(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ga(t))}function qT(n,e){const t=bc(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const l in a){const u=uT(a[l]);ZT(n,l,u)}}function QT(n){return!!(It(n)&&n.add)}function Bf(n,e){const t=n.getValue("willChange");if(QT(t))return t.add(e)}function $x(n){return n.props[Tx]}const Zx=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,JT=1e-7,eR=12;function tR(n,e,t,i,r){let a,l,u=0;do l=e+(t-e)/2,a=Zx(l,i,r)-n,a>0?t=l:e=l;while(Math.abs(a)>JT&&++u<eR);return l}function ul(n,e,t,i){if(n===e&&t===i)return cn;const r=a=>tR(a,0,1,n,t);return a=>a===0||a===1?a:Zx(r(a),e,i)}const qx=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Qx=n=>e=>1-n(1-e),Jx=ul(.33,1.53,.69,.99),qg=Qx(Jx),e1=qx(qg),t1=n=>(n*=2)<1?.5*qg(n):.5*(2-Math.pow(2,-10*(n-1))),Qg=n=>1-Math.sin(Math.acos(n)),n1=Qx(Qg),i1=qx(Qg),r1=n=>/^0[^.\s]+$/u.test(n);function nR(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||r1(n):!0}const Oa=n=>Math.round(n*1e5)/1e5,Jg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iR(n){return n==null}const rR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,em=(n,e)=>t=>!!(typeof t=="string"&&rR.test(t)&&t.startsWith(n)||e&&!iR(t)&&Object.prototype.hasOwnProperty.call(t,e)),s1=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,l,u]=i.match(Jg);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},sR=n=>Di(0,255,n),Hd={...Po,transform:n=>Math.round(sR(n))},Zr={test:em("rgb","red"),parse:s1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Hd.transform(n)+", "+Hd.transform(e)+", "+Hd.transform(t)+", "+Oa(Ba.transform(i))+")"};function oR(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Gf={test:em("#"),parse:oR,transform:Zr.transform},no={test:em("hsl","hue"),parse:s1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+oi.transform(Oa(e))+", "+oi.transform(Oa(t))+", "+Oa(Ba.transform(i))+")"},Rt={test:n=>Zr.test(n)||Gf.test(n)||no.test(n),parse:n=>Zr.test(n)?Zr.parse(n):no.test(n)?no.parse(n):Gf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Zr.transform(n):no.transform(n)},aR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lR(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Jg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(aR))===null||t===void 0?void 0:t.length)||0)>0}const o1="number",a1="color",uR="var",cR="var(",K0="${}",hR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wa(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const u=e.replace(hR,h=>(Rt.test(h)?(i.color.push(a),r.push(a1),t.push(Rt.parse(h))):h.startsWith(cR)?(i.var.push(a),r.push(uR),t.push(h)):(i.number.push(a),r.push(o1),t.push(parseFloat(h))),++a,K0)).split(K0);return{values:t,split:u,indexes:i,types:r}}function l1(n){return Wa(n).values}function u1(n){const{split:e,types:t}=Wa(n),i=e.length;return r=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],r[l]!==void 0){const u=t[l];u===o1?a+=Oa(r[l]):u===a1?a+=Rt.transform(r[l]):a+=r[l]}return a}}const dR=n=>typeof n=="number"?0:n;function fR(n){const e=l1(n);return u1(n)(e.map(dR))}const wr={test:lR,parse:l1,createTransformer:u1,getAnimatableNone:fR},gR=new Set(["brightness","contrast","saturate","opacity"]);function mR(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Jg)||[];if(!i)return n;const r=t.replace(i,"");let a=gR.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const pR=/\b([a-z-]*)\(.*?\)/gu,Wf={...wr,getAnimatableNone:n=>{const e=n.match(pR);return e?e.map(mR).join(" "):n}},yR={...jg,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:Wf,WebkitFilter:Wf},tm=n=>yR[n];function c1(n,e){let t=tm(n);return t!==Wf&&(t=wr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const _R=new Set(["auto","none","0"]);function vR(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!_R.has(a)&&Wa(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=c1(t,r)}const X0=n=>n===Po||n===ye,Y0=(n,e)=>parseFloat(n.split(", ")[e]),H0=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return Y0(r[1],e);{const a=i.match(/^matrix\((.+)\)$/u);return a?Y0(a[1],n):0}},xR=new Set(["x","y","z"]),wR=Ro.filter(n=>!xR.has(n));function ER(n){const e=[];return wR.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const mo={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:H0(4,13),y:H0(5,14)};mo.translateX=mo.x;mo.translateY=mo.y;const ts=new Set;let Uf=!1,Kf=!1;function h1(){if(Kf){const n=Array.from(ts).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=ER(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,l])=>{var u;(u=i.getValue(a))===null||u===void 0||u.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Kf=!1,Uf=!1,ts.forEach(n=>n.complete()),ts.clear()}function d1(){ts.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Kf=!0)})}function SR(){d1(),h1()}class nm{constructor(e,t,i,r,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ts.add(this),Uf||(Uf=!0,Xe.read(d1),Xe.resolveKeyframes(h1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=r?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&l===void 0&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ts.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ts.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const f1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),CR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TR(n){const e=CR.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function g1(n,e,t=1){const[i,r]=TR(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return f1(l)?parseFloat(l):l}return Fg(r)?g1(r,e,t+1):r}const m1=n=>e=>e.test(n),RR={test:n=>n==="auto",parse:n=>n},p1=[Po,ye,oi,cr,mT,gT,RR],$0=n=>p1.find(m1(n));class y1 extends nm{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),Fg(d))){const g=g1(d,t.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Yx.has(i)||e.length!==2)return;const[r,a]=e,l=$0(r),u=$0(a);if(l!==u)if(X0(l)&&X0(u))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)nR(e[r])&&i.push(r);i.length&&vR(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(i);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=mo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const Z0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(wr.test(n)||n==="0")&&!n.startsWith("url("));function PR(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function IR(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=Z0(r,e),u=Z0(a,e);return!l||!u?!1:PR(n)||(t==="spring"||Kg(t))&&i}const kR=n=>n!==null;function Nc(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(kR),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return!a||i===void 0?r[a]:i}const LR=40;class _1{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ai.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>LR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&SR(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ai.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:a,delay:l,onComplete:u,onUpdate:h,isGenerator:d}=this.options;if(!d&&!IR(e,i,r,a))if(l)this.options.duration=0;else{h&&h(Nc(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const qe=(n,e,t)=>n+(e-n)*t;function $d(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function MR({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,l=0;if(!e)r=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;r=$d(h,u,n+1/3),a=$d(h,u,n),l=$d(h,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function oc(n,e){return t=>t>0?e:n}const Zd=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},AR=[Gf,Zr,no],DR=n=>AR.find(e=>e.test(n));function q0(n){const e=DR(n);if(!e)return!1;let t=e.parse(n);return e===no&&(t=MR(t)),t}const Q0=(n,e)=>{const t=q0(n),i=q0(e);if(!t||!i)return oc(n,e);const r={...t};return a=>(r.red=Zd(t.red,i.red,a),r.green=Zd(t.green,i.green,a),r.blue=Zd(t.blue,i.blue,a),r.alpha=qe(t.alpha,i.alpha,a),Zr.transform(r))},OR=(n,e)=>t=>e(n(t)),cl=(...n)=>n.reduce(OR),Xf=new Set(["none","hidden"]);function bR(n,e){return Xf.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function NR(n,e){return t=>qe(n,e,t)}function im(n){return typeof n=="number"?NR:typeof n=="string"?Fg(n)?oc:Rt.test(n)?Q0:zR:Array.isArray(n)?v1:typeof n=="object"?Rt.test(n)?Q0:FR:oc}function v1(n,e){const t=[...n],i=t.length,r=n.map((a,l)=>im(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)t[l]=r[l](a);return t}}function FR(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=im(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function jR(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=n.indexes[l][r[l]],h=(t=n.values[u])!==null&&t!==void 0?t:0;i[a]=h,r[l]++}return i}const zR=(n,e)=>{const t=wr.createTransformer(e),i=Wa(n),r=Wa(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Xf.has(n)&&!r.values.length||Xf.has(e)&&!i.values.length?bR(n,e):cl(v1(jR(i,r),r.values),t):oc(n,e)};function x1(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?qe(n,e,t):im(n)(n,e)}const VR=5;function w1(n,e,t){const i=Math.max(e-VR,0);return Hx(t-n(i),e-i)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qd=.001;function BR({duration:n=tt.duration,bounce:e=tt.bounce,velocity:t=tt.velocity,mass:i=tt.mass}){let r,a,l=1-e;l=Di(tt.minDamping,tt.maxDamping,l),n=Di(tt.minDuration,tt.maxDuration,ki(n)),l<1?(r=d=>{const g=d*l,p=g*n,y=g-t,v=Yf(d,l),x=Math.exp(-p);return qd-y/v*x},a=d=>{const p=d*l*n,y=p*t+t,v=Math.pow(l,2)*Math.pow(d,2)*n,x=Math.exp(-p),S=Yf(Math.pow(d,2),l);return(-r(d)+qd>0?-1:1)*((y-v)*x)/S}):(r=d=>{const g=Math.exp(-d*n),p=(d-t)*n+1;return-qd+g*p},a=d=>{const g=Math.exp(-d*n),p=(t-d)*(n*n);return g*p});const u=5/n,h=WR(r,a,u);if(n=Ii(n),isNaN(h))return{stiffness:tt.stiffness,damping:tt.damping,duration:n};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:l*2*Math.sqrt(i*d),duration:n}}}const GR=12;function WR(n,e,t){let i=t;for(let r=1;r<GR;r++)i=i-n(i)/e(i);return i}function Yf(n,e){return n*Math.sqrt(1-e*e)}const UR=["duration","bounce"],KR=["stiffness","damping","mass"];function J0(n,e){return e.some(t=>n[t]!==void 0)}function XR(n){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...n};if(!J0(n,KR)&&J0(n,UR))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Di(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:tt.mass,stiffness:r,damping:a}}else{const t=BR(n);e={...e,...t,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function E1(n=tt.visualDuration,e=tt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:d,mass:g,duration:p,velocity:y,isResolvedFromDuration:v}=XR({...t,velocity:-ki(t.velocity||0)}),x=y||0,S=d/(2*Math.sqrt(h*g)),w=l-a,R=ki(Math.sqrt(h/g)),T=Math.abs(w)<5;i||(i=T?tt.restSpeed.granular:tt.restSpeed.default),r||(r=T?tt.restDelta.granular:tt.restDelta.default);let P;if(S<1){const L=Yf(R,S);P=N=>{const V=Math.exp(-S*R*N);return l-V*((x+S*R*w)/L*Math.sin(L*N)+w*Math.cos(L*N))}}else if(S===1)P=L=>l-Math.exp(-R*L)*(w+(x+R*w)*L);else{const L=R*Math.sqrt(S*S-1);P=N=>{const V=Math.exp(-S*R*N),j=Math.min(L*N,300);return l-V*((x+S*R*w)*Math.sinh(j)+L*w*Math.cosh(j))/L}}const I={calculatedDuration:v&&p||null,next:L=>{const N=P(L);if(v)u.done=L>=p;else{let V=0;S<1&&(V=L===0?Ii(x):w1(P,L,N));const j=Math.abs(V)<=i,U=Math.abs(l-N)<=r;u.done=j&&U}return u.value=u.done?l:N,u},toString:()=>{const L=Math.min(Vx(I),zf),N=Bx(V=>I.next(L*V).value,L,30);return L+"ms "+N}};return I}function e_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:d=.5,restSpeed:g}){const p=n[0],y={done:!1,value:p},v=j=>u!==void 0&&j<u||h!==void 0&&j>h,x=j=>u===void 0?h:h===void 0||Math.abs(u-j)<Math.abs(h-j)?u:h;let S=t*e;const w=p+S,R=l===void 0?w:l(w);R!==w&&(S=R-p);const T=j=>-S*Math.exp(-j/i),P=j=>R+T(j),I=j=>{const U=T(j),$=P(j);y.done=Math.abs(U)<=d,y.value=y.done?R:$};let L,N;const V=j=>{v(y.value)&&(L=j,N=E1({keyframes:[y.value,x(y.value)],velocity:w1(P,j,y.value),damping:r,stiffness:a,restDelta:d,restSpeed:g}))};return V(0),{calculatedDuration:null,next:j=>{let U=!1;return!N&&L===void 0&&(U=!0,I(j),V(j)),L!==void 0&&j>=L?N.next(j-L):(!U&&I(j),y)}}}const YR=ul(.42,0,1,1),HR=ul(0,0,.58,1),S1=ul(.42,0,.58,1),$R=n=>Array.isArray(n)&&typeof n[0]!="number",ZR={linear:cn,easeIn:YR,easeInOut:S1,easeOut:HR,circIn:Qg,circInOut:i1,circOut:n1,backIn:qg,backInOut:e1,backOut:Jx,anticipate:t1},t_=n=>{if(Xg(n)){xx(n.length===4);const[e,t,i,r]=n;return ul(e,t,i,r)}else if(typeof n=="string")return ZR[n];return n};function qR(n,e,t){const i=[],r=t||x1,a=n.length-1;for(let l=0;l<a;l++){let u=r(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||cn:e;u=cl(h,u)}i.push(u)}return i}function QR(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(xx(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=qR(e,i,r),h=u.length,d=g=>{if(l&&g<n[0])return e[0];let p=0;if(h>1)for(;p<n.length-2&&!(g<n[p+1]);p++);const y=fo(n[p],n[p+1],g);return u[p](y)};return t?g=>d(Di(n[0],n[a-1],g)):d}function JR(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=fo(0,e,i);n.push(qe(t,1,r))}}function e2(n){const e=[0];return JR(e,n.length-1),e}function t2(n,e){return n.map(t=>t*e)}function n2(n,e){return n.map(()=>e||S1).splice(0,n.length-1)}function ac({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=$R(i)?i.map(t_):t_(i),a={done:!1,value:e[0]},l=t2(t&&t.length===e.length?t:e2(e),n),u=QR(l,e,{ease:Array.isArray(r)?r:n2(e,r)});return{calculatedDuration:n,next:h=>(a.value=u(h),a.done=h>=n,a)}}const i2=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Xe.update(e,!0),stop:()=>xr(e),now:()=>vt.isProcessing?vt.timestamp:ai.now()}},r2={decay:e_,inertia:e_,tween:ac,keyframes:ac,spring:E1},s2=n=>n/100;class rm extends _1{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:i,element:r,keyframes:a}=this.options,l=r?.KeyframeResolver||nm,u=(h,d)=>this.onKeyframesResolved(h,d);this.resolver=new l(a,u,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=this.options,u=Kg(t)?t:r2[t]||ac;let h,d;u!==ac&&typeof e[0]!="number"&&(h=cl(s2,x1(e[0],e[1])),e=[0,100]);const g=u({...this.options,keyframes:e});a==="mirror"&&(d=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=Vx(g));const{calculatedDuration:p}=g,y=p+r,v=y*(i+1)-r;return{generator:g,mirroredGenerator:d,mapPercentToKeyframes:h,calculatedDuration:p,resolvedDuration:y,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:d,totalDuration:g,resolvedDuration:p}=i;if(this.startTime===null)return a.next(0);const{delay:y,repeat:v,repeatType:x,repeatDelay:S,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-y*(this.speed>=0?1:-1),T=this.speed>=0?R<0:R>g;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let P=this.currentTime,I=a;if(v){const j=Math.min(this.currentTime,g)/p;let U=Math.floor(j),$=j%1;!$&&j>=1&&($=1),$===1&&U--,U=Math.min(U,v+1),U%2&&(x==="reverse"?($=1-$,S&&($-=S/p)):x==="mirror"&&(I=l)),P=Di(0,1,$)*p}const L=T?{done:!1,value:h[0]}:I.next(P);u&&(L.value=u(L.value));let{done:N}=L;!T&&d!==null&&(N=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return V&&r!==void 0&&(L.value=Nc(h,this.options,r)),w&&w(L.value),V&&this.finish(),L}get duration(){const{resolved:e}=this;return e?ki(e.calculatedDuration):0}get time(){return ki(this.currentTime)}set time(e){e=Ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ki(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=i2,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const o2=new Set(["opacity","clipPath","filter","transform"]);function a2(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const d={[e]:t};h&&(d.offset=h);const g=Wx(u,r);return Array.isArray(g)&&(d.easing=g),n.animate(d,{delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const l2=Lg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lc=10,u2=2e4;function c2(n){return Kg(n.type)||n.type==="spring"||!Gx(n.ease)}function h2(n,e){const t=new rm({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let a=0;for(;!i.done&&a<u2;)i=t.sample(a),r.push(i.value),a+=lc;return{times:void 0,keyframes:r,duration:a-lc,ease:"linear"}}const C1={anticipate:t1,backInOut:e1,circInOut:i1};function d2(n){return n in C1}class n_ extends _1{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:a}=this.options;this.resolver=new y1(a,(l,u)=>this.onKeyframesResolved(l,u),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:a,type:l,motionValue:u,name:h,startTime:d}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof a=="string"&&sc()&&d2(a)&&(a=C1[a]),c2(this.options)){const{onComplete:p,onUpdate:y,motionValue:v,element:x,...S}=this.options,w=h2(e,S);e=w.keyframes,e.length===1&&(e[1]=e[0]),i=w.duration,r=w.times,a=w.ease,l="keyframes"}const g=a2(u.owner.current,h,e,{...this.options,duration:i,times:r,ease:a});return g.startTime=d??this.calcStartTime(),this.pendingTimeline?(V0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:p}=this.options;u.set(Nc(e,this.options,t)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:r,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ki(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ki(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return cn;const{animation:i}=t;V0(i,e)}return cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:a,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:g,onComplete:p,element:y,...v}=this.options,x=new rm({...v,keyframes:i,duration:r,type:a,ease:l,times:u,isGenerator:!0}),S=Ii(this.time);d.setWithVelocity(x.sample(S-lc).value,x.sample(S).value,lc)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:a,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=t.owner.getProps();return l2()&&i&&o2.has(i)&&!h&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}}const f2={type:"spring",stiffness:500,damping:25,restSpeed:10},g2=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),m2={type:"keyframes",duration:.8},p2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y2=(n,{keyframes:e})=>e.length>2?m2:hs.has(n)?n.startsWith("scale")?g2(e[1]):f2:p2;function _2({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:d,...g}){return!!Object.keys(g).length}const sm=(n,e,t,i={},r,a)=>l=>{const u=Ug(i,n)||{},h=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Ii(h);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:r};_2(u)||(g={...g,...y2(n,g)}),g.duration&&(g.duration=Ii(g.duration)),g.repeatDelay&&(g.repeatDelay=Ii(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let p=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(p=!0)),p&&!a&&e.get()!==void 0){const y=Nc(g.keyframes,u);if(y!==void 0)return Xe.update(()=>{g.onUpdate(y),g.onComplete()}),new FT([])}return!a&&n_.supports(g)?new n_(g):new rm(g)};function v2({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function T1(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const d=[],g=r&&n.animationState&&n.animationState.getState()[r];for(const p in h){const y=n.getValue(p,(a=n.latestValues[p])!==null&&a!==void 0?a:null),v=h[p];if(v===void 0||g&&v2(g,p))continue;const x={delay:t,...Ug(l||{},p)};let S=!1;if(window.MotionHandoffAnimation){const R=$x(n);if(R){const T=window.MotionHandoffAnimation(R,p,Xe);T!==null&&(x.startTime=T,S=!0)}}Bf(n,p),y.start(sm(p,y,v,n.shouldReduceMotion&&Yx.has(p)?{type:!1}:x,n,S));const w=y.animation;w&&d.push(w)}return u&&Promise.all(d).then(()=>{Xe.update(()=>{u&&qT(n,u)})}),d}function Hf(n,e,t={}){var i;const r=bc(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(a=t.transitionOverride);const l=r?()=>Promise.all(T1(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:g=0,staggerChildren:p,staggerDirection:y}=a;return x2(n,e,g+d,p,y,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,g]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>g())}else return Promise.all([l(),u(t.delay)])}function x2(n,e,t=0,i=0,r=1,a){const l=[],u=(n.variantChildren.size-1)*i,h=r===1?(d=0)=>d*i:(d=0)=>u-d*i;return Array.from(n.variantChildren).sort(w2).forEach((d,g)=>{d.notify("AnimationStart",e),l.push(Hf(d,e,{...a,delay:t+h(g)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(l)}function w2(n,e){return n.sortNodePosition(e)}function E2(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>Hf(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=Hf(n,e,t);else{const r=typeof e=="function"?bc(n,e,t.custom):e;i=Promise.all(T1(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const S2=Ag.length;function R1(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?R1(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<S2;t++){const i=Ag[t],r=n.props[i];(Va(r)||r===!1)&&(e[i]=r)}return e}const C2=[...Mg].reverse(),T2=Mg.length;function R2(n){return e=>Promise.all(e.map(({animation:t,options:i})=>E2(n,t,i)))}function P2(n){let e=R2(n),t=i_(),i=!0;const r=h=>(d,g)=>{var p;const y=bc(n,g,h==="exit"?(p=n.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(y){const{transition:v,transitionEnd:x,...S}=y;d={...d,...S,...x}}return d};function a(h){e=h(n)}function l(h){const{props:d}=n,g=R1(n.parent)||{},p=[],y=new Set;let v={},x=1/0;for(let w=0;w<T2;w++){const R=C2[w],T=t[R],P=d[R]!==void 0?d[R]:g[R],I=Va(P),L=R===h?T.isActive:null;L===!1&&(x=w);let N=P===g[R]&&P!==d[R]&&I;if(N&&i&&n.manuallyAnimateOnMount&&(N=!1),T.protectedKeys={...v},!T.isActive&&L===null||!P&&!T.prevProp||Dc(P)||typeof P=="boolean")continue;const V=I2(T.prevProp,P);let j=V||R===h&&T.isActive&&!N&&I||w>x&&I,U=!1;const $=Array.isArray(P)?P:[P];let re=$.reduce(r(R),{});L===!1&&(re={});const{prevResolvedValues:ee={}}=T,Q={...ee,...re},te=J=>{j=!0,y.has(J)&&(U=!0,y.delete(J)),T.needsAnimating[J]=!0;const B=n.getValue(J);B&&(B.liveStyle=!1)};for(const J in Q){const B=re[J],Z=ee[J];if(v.hasOwnProperty(J))continue;let K=!1;jf(B)&&jf(Z)?K=!zx(B,Z):K=B!==Z,K?B!=null?te(J):y.add(J):B!==void 0&&y.has(J)?te(J):T.protectedKeys[J]=!0}T.prevProp=P,T.prevResolvedValues=re,T.isActive&&(v={...v,...re}),i&&n.blockInitialAnimation&&(j=!1),j&&(!(N&&V)||U)&&p.push(...$.map(J=>({animation:J,options:{type:R}})))}if(y.size){const w={};y.forEach(R=>{const T=n.getBaseTarget(R),P=n.getValue(R);P&&(P.liveStyle=!0),w[R]=T??null}),p.push({animation:w})}let S=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(p):Promise.resolve()}function u(h,d){var g;if(t[h].isActive===d)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(y=>{var v;return(v=y.animationState)===null||v===void 0?void 0:v.setActive(h,d)}),t[h].isActive=d;const p=l(h);for(const y in t)t[y].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=i_(),i=!0}}}function I2(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!zx(e,n):!1}function Gr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i_(){return{animate:Gr(!0),whileInView:Gr(),whileHover:Gr(),whileTap:Gr(),whileDrag:Gr(),whileFocus:Gr(),exit:Gr()}}let Cr=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};class k2 extends Cr{constructor(e){super(e),e.animationState||(e.animationState=P2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let L2=0;class M2 extends Cr{constructor(){super(...arguments),this.id=L2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const A2={animation:{Feature:k2},exit:{Feature:M2}};function Ua(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function hl(n){return{point:{x:n.pageX,y:n.pageY}}}const D2=n=>e=>Yg(e)&&n(e,hl(e));function ba(n,e,t,i){return Ua(n,e,D2(t),i)}const r_=(n,e)=>Math.abs(n-e);function O2(n,e){const t=r_(n.x,e.x),i=r_(n.y,e.y);return Math.sqrt(t**2+i**2)}class P1{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Jd(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=O2(p.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:x}=p,{timestamp:S}=vt;this.history.push({...x,timestamp:S});const{onStart:w,onMove:R}=this.handlers;y||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Qd(y,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Jd(p.type==="pointercancel"?this.lastMoveEventInfo:Qd(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,w),x&&x(p,w)},!Yg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const l=hl(e),u=Qd(l,this.transformPagePoint),{point:h}=u,{timestamp:d}=vt;this.history=[{...h,timestamp:d}];const{onSessionStart:g}=t;g&&g(e,Jd(u,this.history)),this.removeListeners=cl(ba(this.contextWindow,"pointermove",this.handlePointerMove),ba(this.contextWindow,"pointerup",this.handlePointerUp),ba(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xr(this.updatePoint)}}function Qd(n,e){return e?{point:e(n.point)}:n}function s_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jd({point:n},e){return{point:n,delta:s_(n,I1(e)),offset:s_(n,b2(e)),velocity:N2(e,.1)}}function b2(n){return n[0]}function I1(n){return n[n.length-1]}function N2(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=I1(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Ii(e)));)t--;if(!i)return{x:0,y:0};const a=ki(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const k1=1e-4,F2=1-k1,j2=1+k1,L1=.01,z2=0-L1,V2=0+L1;function hn(n){return n.max-n.min}function B2(n,e,t){return Math.abs(n-e)<=t}function o_(n,e,t,i=.5){n.origin=i,n.originPoint=qe(e.min,e.max,n.origin),n.scale=hn(t)/hn(e),n.translate=qe(t.min,t.max,n.origin)-n.originPoint,(n.scale>=F2&&n.scale<=j2||isNaN(n.scale))&&(n.scale=1),(n.translate>=z2&&n.translate<=V2||isNaN(n.translate))&&(n.translate=0)}function Na(n,e,t,i){o_(n.x,e.x,t.x,i?i.originX:void 0),o_(n.y,e.y,t.y,i?i.originY:void 0)}function a_(n,e,t){n.min=t.min+e.min,n.max=n.min+hn(e)}function G2(n,e,t){a_(n.x,e.x,t.x),a_(n.y,e.y,t.y)}function l_(n,e,t){n.min=e.min-t.min,n.max=n.min+hn(e)}function Fa(n,e,t){l_(n.x,e.x,t.x),l_(n.y,e.y,t.y)}function W2(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?qe(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?qe(t,n,i.max):Math.min(n,t)),n}function u_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function U2(n,{top:e,left:t,bottom:i,right:r}){return{x:u_(n.x,t,r),y:u_(n.y,e,i)}}function c_(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function K2(n,e){return{x:c_(n.x,e.x),y:c_(n.y,e.y)}}function X2(n,e){let t=.5;const i=hn(n),r=hn(e);return r>i?t=fo(e.min,e.max-i,n.min):i>r&&(t=fo(n.min,n.max-r,e.min)),Di(0,1,t)}function Y2(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const $f=.35;function H2(n=$f){return n===!1?n=0:n===!0&&(n=$f),{x:h_(n,"left","right"),y:h_(n,"top","bottom")}}function h_(n,e,t){return{min:d_(n,e),max:d_(n,t)}}function d_(n,e){return typeof n=="number"?n:n[e]||0}const f_=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:f_(),y:f_()}),g_=()=>({min:0,max:0}),st=()=>({x:g_(),y:g_()});function Sn(n){return[n("x"),n("y")]}function M1({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function $2({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Z2(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function ef(n){return n===void 0||n===1}function Zf({scale:n,scaleX:e,scaleY:t}){return!ef(n)||!ef(e)||!ef(t)}function Kr(n){return Zf(n)||A1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function A1(n){return m_(n.x)||m_(n.y)}function m_(n){return n&&n!=="0%"}function uc(n,e,t){const i=n-t,r=e*i;return t+r}function p_(n,e,t,i,r){return r!==void 0&&(n=uc(n,r,i)),uc(n,t,i)+e}function qf(n,e=0,t=1,i,r){n.min=p_(n.min,e,t,i,r),n.max=p_(n.max,e,t,i,r)}function D1(n,{x:e,y:t}){qf(n.x,e.translate,e.scale,e.originPoint),qf(n.y,t.translate,t.scale,t.originPoint)}const y_=.999999999999,__=1.0000000000001;function q2(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,l;for(let u=0;u<r;u++){a=t[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&so(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,D1(n,l)),i&&Kr(a.latestValues)&&so(n,a.latestValues))}e.x<__&&e.x>y_&&(e.x=1),e.y<__&&e.y>y_&&(e.y=1)}function ro(n,e){n.min=n.min+e,n.max=n.max+e}function v_(n,e,t,i,r=.5){const a=qe(n.min,n.max,r);qf(n,e,t,a,i)}function so(n,e){v_(n.x,e.x,e.scaleX,e.scale,e.originX),v_(n.y,e.y,e.scaleY,e.scale,e.originY)}function O1(n,e){return M1(Z2(n.getBoundingClientRect(),e))}function Q2(n,e,t){const i=O1(n,t),{scroll:r}=e;return r&&(ro(i.x,r.offset.x),ro(i.y,r.offset.y)),i}const b1=({current:n})=>n?n.ownerDocument.defaultView:null,J2=new WeakMap;class eP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(hl(g).point)},a=(g,p)=>{const{drag:y,dragPropagation:v,onDragStart:x}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XT(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sn(w=>{let R=this.getAxisMotionValue(w).get()||0;if(oi.test(R)){const{projection:T}=this.visualElement;if(T&&T.layout){const P=T.layout.layoutBox[w];P&&(R=hn(P)*(parseFloat(R)/100))}}this.originPoint[w]=R}),x&&Xe.postRender(()=>x(g,p)),Bf(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(g,p)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:x,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:w}=p;if(v&&this.currentDirection===null){this.currentDirection=tP(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),S&&S(g,p)},u=(g,p)=>this.stop(g,p),h=()=>Sn(g=>{var p;return this.getAnimationState(g)==="paused"&&((p=this.getAxisMotionValue(g).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new P1(e,{onSessionStart:r,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:b1(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Xe.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Fu(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=W2(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&to(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=U2(r.layoutBox,t):this.constraints=!1,this.elastic=H2(i),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Y2(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!to(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=Q2(i,r.root,this.visualElement.getTransformPagePoint());let l=K2(r.layout.layoutBox,a);if(t){const u=t($2(l));this.hasMutatedConstraints=!!u,u&&(l=M1(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=Sn(g=>{if(!Fu(g,t,this.currentDirection))return;let p=h&&h[g]||{};l&&(p={min:0,max:0});const y=r?200:1e6,v=r?40:1e7,x={type:"inertia",velocity:i?e[g]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(g,x)});return Promise.all(d).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Bf(this.visualElement,e),i.start(sm(e,i,0,t,this.visualElement,!1))}stopAnimation(){Sn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Sn(t=>{const{drag:i}=this.getProps();if(!Fu(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[t];a.set(e[t]-qe(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!to(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Sn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();r[l]=X2({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Sn(l=>{if(!Fu(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];u.set(qe(h,d,r[l]))})}addListeners(){if(!this.visualElement.current)return;J2.set(this.visualElement,this);const e=this.visualElement.current,t=ba(e,"pointerdown",h=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();to(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Xe.read(i);const l=Ua(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Sn(g=>{const p=this.getAxisMotionValue(g);p&&(this.originPoint[g]+=h[g].translate,p.set(p.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=$f,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Fu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function tP(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class nP extends Cr{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new eP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const x_=n=>(e,t)=>{n&&Xe.postRender(()=>n(e,t))};class iP extends Cr{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new P1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:x_(e),onStart:x_(t),onMove:i,onEnd:(a,l)=>{delete this.session,r&&Xe.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=ba(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ec={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function w_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ya={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ye.test(n))n=parseFloat(n);else return n;const t=w_(n,e.target.x),i=w_(n,e.target.y);return`${t}% ${i}%`}},rP={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=wr.parse(n);if(r.length>5)return i;const a=wr.createTransformer(n),l=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;r[0+l]/=u,r[1+l]/=h;const d=qe(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=d),typeof r[3+l]=="number"&&(r[3+l]/=d),a(r)}};class sP extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;TT(oP),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ec.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,r||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Xe.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Og.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function N1(n){const[e,t]=_x(),i=G.useContext(Rg);return E.jsx(sP,{...n,layoutGroup:i,switchLayoutGroup:G.useContext(Rx),isPresent:e,safeToRemove:t})}const oP={borderRadius:{...ya,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ya,borderTopRightRadius:ya,borderBottomLeftRadius:ya,borderBottomRightRadius:ya,boxShadow:rP};function aP(n,e,t){const i=It(n)?n:Ga(n);return i.start(sm("",i,e,t)),i.animation}function lP(n){return n instanceof SVGElement&&n.tagName!=="svg"}const uP=(n,e)=>n.depth-e.depth;class cP{constructor(){this.children=[],this.isDirty=!1}add(e){Hg(this.children,e),this.isDirty=!0}remove(e){$g(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uP),this.isDirty=!1,this.children.forEach(e)}}function hP(n,e){const t=ai.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(xr(i),n(a-e))};return Xe.read(i,!0),()=>xr(i)}const F1=["TopLeft","TopRight","BottomLeft","BottomRight"],dP=F1.length,E_=n=>typeof n=="string"?parseFloat(n):n,S_=n=>typeof n=="number"||ye.test(n);function fP(n,e,t,i,r,a){r?(n.opacity=qe(0,t.opacity!==void 0?t.opacity:1,gP(i)),n.opacityExit=qe(e.opacity!==void 0?e.opacity:1,0,mP(i))):a&&(n.opacity=qe(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let l=0;l<dP;l++){const u=`border${F1[l]}Radius`;let h=C_(e,u),d=C_(t,u);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||S_(h)===S_(d)?(n[u]=Math.max(qe(E_(h),E_(d),i),0),(oi.test(d)||oi.test(h))&&(n[u]+="%")):n[u]=d}(e.rotate||t.rotate)&&(n.rotate=qe(e.rotate||0,t.rotate||0,i))}function C_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const gP=j1(0,.5,n1),mP=j1(.5,.95,cn);function j1(n,e,t){return i=>i<n?0:i>e?1:t(fo(n,e,i))}function T_(n,e){n.min=e.min,n.max=e.max}function wn(n,e){T_(n.x,e.x),T_(n.y,e.y)}function R_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function P_(n,e,t,i,r){return n-=e,n=uc(n,1/t,i),r!==void 0&&(n=uc(n,1/r,i)),n}function pP(n,e=0,t=1,i=.5,r,a=n,l=n){if(oi.test(e)&&(e=parseFloat(e),e=qe(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=qe(a.min,a.max,i);n===a&&(u-=e),n.min=P_(n.min,e,t,u,r),n.max=P_(n.max,e,t,u,r)}function I_(n,e,[t,i,r],a,l){pP(n,e[t],e[i],e[r],e.scale,a,l)}const yP=["x","scaleX","originX"],_P=["y","scaleY","originY"];function k_(n,e,t,i){I_(n.x,e,yP,t?t.x:void 0,i?i.x:void 0),I_(n.y,e,_P,t?t.y:void 0,i?i.y:void 0)}function L_(n){return n.translate===0&&n.scale===1}function z1(n){return L_(n.x)&&L_(n.y)}function M_(n,e){return n.min===e.min&&n.max===e.max}function vP(n,e){return M_(n.x,e.x)&&M_(n.y,e.y)}function A_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function V1(n,e){return A_(n.x,e.x)&&A_(n.y,e.y)}function D_(n){return hn(n.x)/hn(n.y)}function O_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class xP{constructor(){this.members=[]}add(e){Hg(this.members,e),e.scheduleRender()}remove(e){if($g(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wP(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((r||a||l)&&(i=`translate3d(${r}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:g,rotateX:p,rotateY:y,skewX:v,skewY:x}=t;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),p&&(i+=`rotateX(${p}deg) `),y&&(i+=`rotateY(${y}deg) `),v&&(i+=`skewX(${v}deg) `),x&&(i+=`skewY(${x}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ra=typeof window<"u"&&window.MotionDebug!==void 0,tf=["","X","Y","Z"],EP={visibility:"hidden"},b_=1e3;let SP=0;function nf(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function B1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=$x(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Xe,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&B1(i)}function G1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=e?.()){this.id=SP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ra&&(Xr.totalNodes=Xr.resolvedTargetDeltas=Xr.recalculatedProjection=0),this.nodes.forEach(RP),this.nodes.forEach(MP),this.nodes.forEach(AP),this.nodes.forEach(PP),Ra&&window.MotionDebug.record(Xr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new cP)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Zg),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lP(l),this.instance=l;const{layoutId:h,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(d||h)&&(this.isLayoutDirty=!0),n){let p;const y=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=hP(y,250),ec.hasAnimatedSinceResize&&(ec.hasAnimatedSinceResize=!1,this.nodes.forEach(F_))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||FP,{onLayoutAnimationStart:w,onLayoutAnimationComplete:R}=g.getProps(),T=!this.targetLayout||!V1(this.targetLayout,x)||v,P=!y&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,P);const I={...Ug(S,"layout"),onPlay:w,onComplete:R};(g.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else y||F_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DP),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const p=this.path[g];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N_);return}this.isUpdating||this.nodes.forEach(kP),this.isUpdating=!1,this.nodes.forEach(LP),this.nodes.forEach(CP),this.nodes.forEach(TP),this.clearAllSnapshots();const u=ai.now();vt.delta=Di(0,1e3/60,u-vt.timestamp),vt.timestamp=u,vt.isProcessing=!0,Xd.update.process(vt),Xd.preRender.process(vt),Xd.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Og.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IP),this.sharedNodes.forEach(OP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!z1(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;l&&(u||Kr(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),jP(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return st();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(zP))){const{scroll:g}=this.root;g&&(ro(h.x,g.offset.x),ro(h.y,g.offset.y))}return h}removeElementScroll(l){var u;const h=st();if(wn(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:p,options:y}=g;g!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&wn(h,l),ro(h.x,p.offset.x),ro(h.y,p.offset.y))}return h}applyTransform(l,u=!1){const h=st();wn(h,l);for(let d=0;d<this.path.length;d++){const g=this.path[d];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&so(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Kr(g.latestValues)&&so(h,g.latestValues)}return Kr(this.latestValues)&&so(h,this.latestValues),h}removeTransform(l){const u=st();wn(u,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Kr(d.latestValues))continue;Zf(d.latestValues)&&d.updateSnapshot();const g=st(),p=d.measurePageBox();wn(g,p),k_(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Kr(this.latestValues)&&k_(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),Fa(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),D1(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),Fa(this.relativeTargetOrigin,this.target,v.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ra&&Xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zf(this.parent.latestValues)||A1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(d=!1),d)return;const{layout:g,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||p))return;wn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;q2(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=st());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R_(this.prevProjectionDelta.x,this.projectionDelta.x),R_(this.prevProjectionDelta.y,this.projectionDelta.y)),Na(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!O_(this.projectionDelta.x,this.prevProjectionDelta.x)||!O_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ra&&Xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=io(),this.projectionDelta=io(),this.projectionDeltaWithTransform=io()}setAnimationOrigin(l,u=!1){const h=this.snapshot,d=h?h.latestValues:{},g={...this.latestValues},p=io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=st(),v=h?h.source:void 0,x=this.layout?this.layout.source:void 0,S=v!==x,w=this.getStack(),R=!w||w.members.length<=1,T=!!(S&&!R&&this.options.crossfade===!0&&!this.path.some(NP));this.animationProgress=0;let P;this.mixTargetDelta=I=>{const L=I/1e3;j_(p.x,l.x,L),j_(p.y,l.y,L),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fa(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bP(this.relativeTarget,this.relativeTargetOrigin,y,L),P&&vP(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=st()),wn(P,this.relativeTarget)),S&&(this.animationValues=g,fP(g,d,this.latestValues,L,T,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{ec.hasAnimatedSinceResize=!0,this.currentAnimation=aP(0,b_,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:d,latestValues:g}=l;if(!(!u||!h||!d)){if(this!==l&&this.layout&&d&&W1(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||st();const p=hn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+p;const y=hn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}wn(u,h),so(u,g),Na(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new xP),this.sharedNodes.get(l).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const d={};h.z&&nf("z",l,d,this.animationValues);for(let g=0;g<tf.length;g++)nf(`rotate${tf[g]}`,l,d,this.animationValues),nf(`skew${tf[g]}`,l,d,this.animationValues);l.render();for(const g in d)l.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EP;const d={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Qu(l?.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Qu(l?.pointerEvents)||""),this.hasProjected&&!Kr(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=wP(this.projectionDeltaWithTransform,this.treeScale,y),g&&(d.transform=g(y,d.transform));const{x:v,y:x}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,p.animationValues?d.opacity=p===this?(h=(u=y.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in rc){if(y[S]===void 0)continue;const{correct:w,applyTo:R}=rc[S],T=d.transform==="none"?y[S]:w(y[S],p);if(R){const P=R.length;for(let I=0;I<P;I++)d[R[I]]=T}else d[S]=T}return this.options.layoutId&&(d.pointerEvents=p===this?Qu(l?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(N_),this.root.sharedNodes.clear()}}}function CP(n){n.updateLayout()}function TP(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Sn(p=>{const y=l?t.measuredBox[p]:t.layoutBox[p],v=hn(y);y.min=i[p].min,y.max=y.min+v}):W1(a,t.layoutBox,i)&&Sn(p=>{const y=l?t.measuredBox[p]:t.layoutBox[p],v=hn(i[p]);y.max=y.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+v)});const u=io();Na(u,i,t.layoutBox);const h=io();l?Na(h,n.applyTransform(r,!0),t.measuredBox):Na(h,i,t.layoutBox);const d=!z1(u);let g=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:v}=p;if(y&&v){const x=st();Fa(x,t.layoutBox,y.layoutBox);const S=st();Fa(S,i,v.layoutBox),V1(x,S)||(g=!0),p.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=x,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function RP(n){Ra&&Xr.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function PP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function IP(n){n.clearSnapshot()}function N_(n){n.clearMeasurements()}function kP(n){n.isLayoutDirty=!1}function LP(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function F_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function MP(n){n.resolveTargetDelta()}function AP(n){n.calcProjection()}function DP(n){n.resetSkewAndRotation()}function OP(n){n.removeLeadSnapshot()}function j_(n,e,t){n.translate=qe(e.translate,0,t),n.scale=qe(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function z_(n,e,t,i){n.min=qe(e.min,t.min,i),n.max=qe(e.max,t.max,i)}function bP(n,e,t,i){z_(n.x,e.x,t.x,i),z_(n.y,e.y,t.y,i)}function NP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const FP={duration:.45,ease:[.4,0,.1,1]},V_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),B_=V_("applewebkit/")&&!V_("chrome/")?Math.round:cn;function G_(n){n.min=B_(n.min),n.max=B_(n.max)}function jP(n){G_(n.x),G_(n.y)}function W1(n,e,t){return n==="position"||n==="preserve-aspect"&&!B2(D_(e),D_(t),.2)}function zP(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const VP=G1({attachResizeListener:(n,e)=>Ua(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rf={current:void 0},U1=G1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rf.current){const n=new VP({});n.mount(window),n.setOptions({layoutScroll:!0}),rf.current=n}return rf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),BP={pan:{Feature:iP},drag:{Feature:nP,ProjectionNode:U1,MeasureLayout:N1}};function W_(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&Xe.postRender(()=>a(e,hl(e)))}class GP extends Cr{mount(){const{current:e}=this.node;e&&(this.unmount=BT(e,t=>(W_(this.node,t,"Start"),i=>W_(this.node,i,"End"))))}unmount(){}}class WP extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cl(Ua(this.node.current,"focus",()=>this.onFocus()),Ua(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function U_(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&Xe.postRender(()=>a(e,hl(e)))}class UP extends Cr{mount(){const{current:e}=this.node;e&&(this.unmount=KT(e,t=>(U_(this.node,t,"Start"),(i,{success:r})=>U_(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qf=new WeakMap,sf=new WeakMap,KP=n=>{const e=Qf.get(n.target);e&&e(n)},XP=n=>{n.forEach(KP)};function YP({root:n,...e}){const t=n||document;sf.has(t)||sf.set(t,{});const i=sf.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(XP,{root:n,...e})),i[r]}function HP(n,e,t){const i=YP(e);return Qf.set(n,t),i.observe(n),()=>{Qf.delete(n),i.unobserve(n)}}const $P={some:0,all:1};class ZP extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:$P[r]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:p}=this.node.getProps(),y=d?g:p;y&&y(h)};return HP(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(qP(e,t))&&this.startObserver()}unmount(){}}function qP({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const QP={inView:{Feature:ZP},tap:{Feature:UP},focus:{Feature:WP},hover:{Feature:GP}},JP={layout:{ProjectionNode:U1,MeasureLayout:N1}},Jf={current:null},K1={current:!1};function eI(){if(K1.current=!0,!!kg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jf.current=n.matches;n.addListener(e),e()}else Jf.current=!1}const tI=[...p1,Rt,wr],nI=n=>tI.find(m1(n)),K_=new WeakMap;function iI(n,e,t){for(const i in e){const r=e[i],a=t[i];if(It(r))n.addValue(i,r);else if(It(a))n.addValue(i,Ga(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=n.getStaticValue(i);n.addValue(i,Ga(l!==void 0?l:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const X_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rI{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ai.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Xe.render(this.render,!1,!0))};const{latestValues:h,renderState:d,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Oc(t),this.isVariantNode=Cx(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in y){const x=y[v];h[v]!==void 0&&It(x)&&x.set(h[v],!1)}}mount(e){this.current=e,K_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),K1.current||eI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K_.delete(this.current),this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=hs.has(e),r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in go){const t=go[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<X_.length;i++){const r=X_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=e[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=iI(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Ga(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(f1(r)||r1(r))?r=parseFloat(r):!nI(r)&&wr.test(t)&&(r=c1(e,t)),this.setBaseTarget(e,It(r)?r.get():r)),It(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const l=Ng(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(r=l[e])}if(i&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!It(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Zg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class X1 extends rI{constructor(){super(...arguments),this.KeyframeResolver=y1}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;It(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function sI(n){return window.getComputedStyle(n)}class oI extends X1{constructor(){super(...arguments),this.type="html",this.renderInstance=Dx}readValueFromInstance(e,t){if(hs.has(t)){const i=tm(t);return i&&i.default||0}else{const i=sI(e),r=(Lx(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return O1(e,t)}build(e,t,i){zg(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Wg(e,t,i)}}class aI extends X1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(hs.has(t)){const i=tm(t);return i&&i.default||0}return t=Ox.has(t)?t:Dg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Fx(e,t,i)}build(e,t,i){Vg(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){bx(e,t,i,r)}mount(e){this.isSVGTag=Gg(e.tagName),super.mount(e)}}const lI=(n,e)=>bg(n)?new aI(e):new oI(e,{allowProjection:n!==G.Fragment}),uI=OT({...A2,...QP,...BP,...JP},lI),Be=$C(uI),Xt={ADD:"add",REMOVE:"remove"},po={PROPERTYCHANGE:"propertychange"},Ce={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Fc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function cI(n,e,t){let i,r;t=t||Li;let a=0,l=n.length,u=!1;for(;a<l;)i=a+(l-a>>1),r=+t(n[i],e),r<0?a=i+1:(l=i,u=!r);return u?a:~a}function Li(n,e){return n>e?1:n<e?-1:0}function hI(n,e){return n<e?1:n>e?-1:0}function om(n,e,t){if(n[0]<=e)return 0;const i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){const a=n[r];if(a===e)return r;if(a<e)return t(e,n[r-1],a)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function dI(n,e,t){for(;e<t;){const i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function am(n,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function Tr(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function fI(n,e,t){const i=e||Li;return n.every(function(r,a){if(a===0)return!0;const l=i(n[a-1],r);return!(l>0||l===0)})}function Ka(){return!0}function jc(){return!1}function Xa(){}function Y1(n){let e,t,i;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==i||!Tr(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function gI(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function dl(n){for(const e in n)delete n[e]}function yo(n){let e;for(e in n)return!1;return!e}class bi{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class zc extends Fc{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const a=t?new bi(e):e;a.target||(a.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in l||(l[i]=0,u[i]=0),++l[i];let h;for(let d=0,g=r.length;d<g;++d)if("handleEvent"in r[d]?h=r[d].handleEvent(a):h=r[d].call(this,a),h===!1||a.propagationStopped){h=!1;break}if(--l[i]===0){let d=u[i];for(delete u[i];d--;)this.removeEventListener(i,Xa);delete l[i]}return h}disposeInternal(){this.listeners_&&dl(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Xa,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}function De(n,e,t,i,r){if(r){const l=t;t=function(u){return n.removeEventListener(e,t),l.call(i??this,u)}}else i&&i!==n&&(t=t.bind(i));const a={target:n,type:e,listener:t};return n.addEventListener(e,t),a}function cc(n,e,t,i){return De(n,e,t,i,!0)}function He(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),dl(n))}class fl extends zc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ce.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=De(this,e[a],t);return r}return De(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let a=0;a<r;++a)i[a]=cc(this,e[a],t)}else i=cc(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)mI(i);else if(Array.isArray(e))for(let r=0,a=e.length;r<a;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}fl.prototype.on;fl.prototype.once;fl.prototype.un;function mI(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)He(n[e]);else He(n)}function Ae(){throw new Error("Unimplemented abstract method.")}let pI=0;function Oe(n){return n.ol_uid||(n.ol_uid=String(++pI))}class Y_ extends bi{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class li extends fl{constructor(e){super(),this.on,this.once,this.un,Oe(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Y_(i,e,t)),i=po.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Y_(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const r=this.values_||(this.values_={});if(i)r[e]=t;else{const a=r[e];r[e]=t,a!==t&&this.notify(e,a)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],yo(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const H_={LENGTH:"length"};class ju extends bi{constructor(e,t,i){super(e),this.element=t,this.index=i}}class Tn extends li{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let i=1,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(H_.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new ju(Xt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ju(Xt.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new ju(Xt.REMOVE,r,e)),this.dispatchEvent(new ju(Xt.ADD,t,e))}updateLength_(){this.set(H_.LENGTH,this.array_.length)}assertUnique_(e,t){const i=this.array_;for(let r=0,a=i.length;r<a;++r)if(i[r]===e&&r!==t)throw new Error("Duplicate item added to a unique collection")}}function Ne(n,e){if(!n)throw new Error(e)}class _o extends li{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new _o(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(He(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=De(e,Ce.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?yI(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function yI(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(Ne(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}const gt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function $_(n){const e=Ln();for(let t=0,i=n.length;t<i;++t)ja(e,n[t]);return e}function lm(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function H1(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function $1(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function vo(n,e){return Z1(n,e[0],e[1])}function Pa(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Z1(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function eg(n,e){const t=n[0],i=n[1],r=n[2],a=n[3],l=e[0],u=e[1];let h=gt.UNKNOWN;return l<t?h=h|gt.LEFT:l>r&&(h=h|gt.RIGHT),u<i?h=h|gt.BELOW:u>a&&(h=h|gt.ABOVE),h===gt.UNKNOWN&&(h=gt.INTERSECTING),h}function Ln(){return[1/0,1/0,-1/0,-1/0]}function Er(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function Vc(n){return Er(1/0,1/0,-1/0,-1/0,n)}function q1(n,e){const t=n[0],i=n[1];return Er(t,i,t,i,e)}function um(n,e,t,i,r){const a=Vc(r);return Q1(a,n,e,t,i)}function Ya(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function _I(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function ja(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Q1(n,e,t,i,r){for(;t<i;t+=r)vI(n,e[t],e[t+1]);return n}function vI(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function J1(n,e){let t;return t=e(Bc(n)),t||(t=e(Gc(n)),t)||(t=e(Wc(n)),t)||(t=e(ds(n)),t)?t:!1}function tg(n){let e=0;return Uc(n)||(e=ze(n)*jt(n)),e}function Bc(n){return[n[0],n[1]]}function Gc(n){return[n[2],n[1]]}function rs(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function xI(n,e){let t;if(e==="bottom-left")t=Bc(n);else if(e==="bottom-right")t=Gc(n);else if(e==="top-left")t=ds(n);else if(e==="top-right")t=Wc(n);else throw new Error("Invalid corner");return t}function ng(n,e,t,i,r){const[a,l,u,h,d,g,p,y]=ew(n,e,t,i);return Er(Math.min(a,u,d,p),Math.min(l,h,g,y),Math.max(a,u,d,p),Math.max(l,h,g,y),r)}function ew(n,e,t,i){const r=e*i[0]/2,a=e*i[1]/2,l=Math.cos(t),u=Math.sin(t),h=r*l,d=r*u,g=a*l,p=a*u,y=n[0],v=n[1];return[y-h+p,v-d-g,y-h-p,v-d+g,y+h-p,v+d+g,y+h+p,v+d-g,y-h+p,v-d-g]}function jt(n){return n[3]-n[1]}function ns(n,e,t){const i=t||Ln();return $t(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):Vc(i),i}function ds(n){return[n[0],n[3]]}function Wc(n){return[n[2],n[3]]}function ze(n){return n[2]-n[0]}function $t(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Uc(n){return n[2]<n[0]||n[3]<n[1]}function wI(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function EI(n,e,t){let i=!1;const r=eg(n,e),a=eg(n,t);if(r===gt.INTERSECTING||a===gt.INTERSECTING)i=!0;else{const l=n[0],u=n[1],h=n[2],d=n[3],g=e[0],p=e[1],y=t[0],v=t[1],x=(v-p)/(y-g);let S,w;a&gt.ABOVE&&!(r&gt.ABOVE)&&(S=y-(v-d)/x,i=S>=l&&S<=h),!i&&a&gt.RIGHT&&!(r&gt.RIGHT)&&(w=v-(y-h)*x,i=w>=u&&w<=d),!i&&a&gt.BELOW&&!(r&gt.BELOW)&&(S=y-(v-u)/x,i=S>=l&&S<=h),!i&&a&gt.LEFT&&!(r&gt.LEFT)&&(w=v-(y-l)*x,i=w>=u&&w<=d)}return i}function tw(n,e){const t=e.getExtent(),i=rs(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const r=ze(t),l=Math.floor((i[0]-t[0])/r)*r;n[0]-=l,n[2]-=l}return n}function nw(n,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];tw(n,e);const r=ze(i);if(ze(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}function Qe(n,e,t){return Math.min(Math.max(n,e),t)}function SI(n,e,t,i,r,a){const l=r-t,u=a-i;if(l!==0||u!==0){const h=((n-t)*l+(e-i)*u)/(l*l+u*u);h>1?(t=r,i=a):h>0&&(t+=l*h,i+=u*h)}return lo(n,e,t,i)}function lo(n,e,t,i){const r=t-n,a=i-e;return r*r+a*a}function CI(n){const e=n.length;for(let i=0;i<e;i++){let r=i,a=Math.abs(n[i][i]);for(let u=i+1;u<e;u++){const h=Math.abs(n[u][i]);h>a&&(a=h,r=u)}if(a===0)return null;const l=n[r];n[r]=n[i],n[i]=l;for(let u=i+1;u<e;u++){const h=-n[u][i]/n[i][i];for(let d=i;d<e+1;d++)i==d?n[u][d]=0:n[u][d]+=h*n[i][d]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function Z_(n){return n*180/Math.PI}function yr(n){return n*Math.PI/180}function is(n,e){const t=n%e;return t*e<0?t+e:t}function ln(n,e,t){return n+t*(e-n)}function gl(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}function Tb(n,e){return Math.round(gl(n,e))}function zu(n,e){return Math.floor(gl(n,e))}function Vu(n,e){return Math.ceil(gl(n,e))}function ig(n,e,t){if(n>=e&&n<t)return n;const i=t-e;return((n-e)%i+i)%i+e}function TI(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function hc(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function cm(n,e){const t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,a=n[1]*t+n[0]*i;return n[0]=r,n[1]=a,n}function RI(n,e){return n[0]*=e,n[1]*=e,n}function iw(n,e){if(e.canWrapX()){const t=ze(e.getExtent()),i=PI(n,e,t);i&&(n[0]-=i*t)}return n}function PI(n,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||ze(i),r=Math.floor((n[0]-i[0])/t)),r}function rw(...n){console.warn(...n)}const xo={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class hm{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||xo[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const ml=6378137,oo=Math.PI*ml,II=[-oo,-oo,oo,oo],kI=[-180,-85,180,85],Bu=ml*Math.log(Math.tan(Math.PI/2));class Us extends hm{constructor(e){super({code:e,units:"m",extent:II,global:!0,worldExtent:kI,getPointResolution:function(t,i){return t/Math.cosh(i[1]/ml)}})}}const q_=[new Us("EPSG:3857"),new Us("EPSG:102100"),new Us("EPSG:102113"),new Us("EPSG:900913"),new Us("http://www.opengis.net/def/crs/EPSG/0/3857"),new Us("http://www.opengis.net/gml/srs/epsg.xml#3857")];function LI(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let a=0;a<r;a+=i){e[a]=oo*n[a]/180;let l=ml*Math.log(Math.tan(Math.PI*(+n[a+1]+90)/360));l>Bu?l=Bu:l<-Bu&&(l=-Bu),e[a+1]=l}return e}function MI(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let a=0;a<r;a+=i)e[a]=180*n[a]/oo,e[a+1]=360*Math.atan(Math.exp(n[a+1]/ml))/Math.PI-90;return e}const AI=6378137,Q_=[-180,-90,180,90],DI=Math.PI*AI/180;class Wr extends hm{constructor(e,t){super({code:e,units:"degrees",extent:Q_,axisOrientation:t,global:!0,metersPerUnit:DI,worldExtent:Q_})}}const J_=[new Wr("CRS:84"),new Wr("EPSG:4326","neu"),new Wr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Wr("urn:ogc:def:crs:OGC:2:84"),new Wr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Wr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Wr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let rg={};function OI(n){return rg[n]||rg[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function bI(n,e){rg[n]=e}let uo={};function Ha(n,e,t){const i=n.getCode(),r=e.getCode();i in uo||(uo[i]={}),uo[i][r]=t}function of(n,e){return n in uo&&e in uo[n]?uo[n][e]:null}const dc=.9996,In=.00669438,Kc=In*In,Xc=Kc*In,qr=In/(1-In),ev=Math.sqrt(1-In),wo=(1-ev)/(1+ev),sw=wo*wo,dm=sw*wo,fm=dm*wo,ow=fm*wo,aw=1-In/4-3*Kc/64-5*Xc/256,NI=3*In/8+3*Kc/32+45*Xc/1024,FI=15*Kc/256+45*Xc/1024,jI=35*Xc/3072,zI=3/2*wo-27/32*dm+269/512*ow,VI=21/16*sw-55/32*fm,BI=151/96*dm-417/128*ow,GI=1097/512*fm,fc=6378137;function WI(n,e,t){const i=n-5e5,l=(t.north?e:e-1e7)/dc/(fc*aw),u=l+zI*Math.sin(2*l)+VI*Math.sin(4*l)+BI*Math.sin(6*l)+GI*Math.sin(8*l),h=Math.sin(u),d=h*h,g=Math.cos(u),p=h/g,y=p*p,v=y*y,x=1-In*d,S=Math.sqrt(1-In*d),w=fc/S,R=(1-In)/x,T=qr*g**2,P=T*T,I=i/(w*dc),L=I*I,N=L*I,V=N*I,j=V*I,U=j*I,$=u-p/R*(L/2-V/24*(5+3*y+10*T-4*P-9*qr))+U/720*(61+90*y+298*T+45*v-252*qr-3*P);let re=(I-N/6*(1+2*y+T)+j/120*(5-2*T+28*y-3*P+8*qr+24*v))/g;return re=ig(re+yr(lw(t.number)),-Math.PI,Math.PI),[Z_(re),Z_($)]}const tv=-80,nv=84,UI=-180,KI=180;function XI(n,e,t){n=ig(n,UI,KI),e<tv?e=tv:e>nv&&(e=nv);const i=yr(e),r=Math.sin(i),a=Math.cos(i),l=r/a,u=l*l,h=u*u,d=yr(n),g=lw(t.number),p=yr(g),y=fc/Math.sqrt(1-In*r**2),v=qr*a**2,x=a*ig(d-p,-Math.PI,Math.PI),S=x*x,w=S*x,R=w*x,T=R*x,P=T*x,I=fc*(aw*i-NI*Math.sin(2*i)+FI*Math.sin(4*i)-jI*Math.sin(6*i)),L=dc*y*(x+w/6*(1-u+v)+T/120*(5-18*u+h+72*v-58*qr))+5e5;let N=dc*(I+y*l*(S/2+R/24*(5-u+9*v+4*v**2)+P/720*(61-58*u+h+600*v-330*qr)));return t.north||(N+=1e7),[L,N]}function lw(n){return(n-1)*6-180+3}const YI=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function uw(n){let e=0;for(const r of YI){const a=n.match(r);if(a){e=parseInt(a[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function iv(n,e){return function(t,i,r,a){const l=t.length;r=r>1?r:2,a=a??r,i||(r>2?i=t.slice():i=new Array(l));for(let u=0;u<l;u+=a){const h=t[u],d=t[u+1],g=n(h,d,e);i[u]=g[0],i[u+1]=g[1]}return i}}function HI(n){return uw(n)?new hm({code:n,units:"m"}):null}function $I(n){const e=uw(n.getCode());return e?{forward:iv(XI,e),inverse:iv(WI,e)}:null}const ZI=63710088e-1;function rv(n,e,t){t=t||ZI;const i=yr(n[1]),r=yr(e[1]),a=(r-i)/2,l=yr(e[0]-n[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}const qI=[$I],QI=[HI];let sg=!0;function cw(n){sg=!1}function gm(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function og(n){bI(n.getCode(),n),Ha(n,n,gm)}function JI(n){n.forEach(og)}function Qt(n){if(typeof n!="string")return n;const e=OI(n);if(e)return e;for(const t of QI){const i=t(n);if(i)return i}return null}function gc(n,e,t,i){n=Qt(n);let r;const a=n.getPointResolutionFunc();if(a){if(r=a(e,t),i&&i!==n.getUnits()){const l=n.getMetersPerUnit();l&&(r=r*l/xo[i])}}else{const l=n.getUnits();if(l=="degrees"&&!i||i=="degrees")r=e;else{const u=pm(n,Qt("EPSG:4326"));if(!u&&l!=="degrees")r=e*n.getMetersPerUnit();else{let d=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];d=u(d,d,2);const g=rv(d.slice(0,2),d.slice(2,4)),p=rv(d.slice(4,6),d.slice(6,8));r=(g+p)/2}const h=i?xo[i]:n.getMetersPerUnit();h!==void 0&&(r/=h)}}return r}function sv(n){JI(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Ha(e,t,gm)})})}function ek(n,e,t,i){n.forEach(function(r){e.forEach(function(a){Ha(r,a,t),Ha(a,r,i)})})}function mm(n,e){return n?typeof n=="string"?Qt(n):n:Qt(e)}function tk(n){return(function(e,t,i,r){const a=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(a);for(let l=0;l<a;l+=r){const u=n(e.slice(l,l+i)),h=u.length;for(let d=0,g=r;d<g;++d)t[l+d]=d>=h?e[l+d]:u[d]}return t})}function ss(n,e){return cw(),Yc(n,"EPSG:4326","EPSG:3857")}function ov(n,e){const t=Yc(n,"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=is(i+180,360)-180),t}function tc(n,e){if(n===e)return!0;const t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||pm(n,e)===gm)&&t}function pm(n,e){const t=n.getCode(),i=e.getCode();let r=of(t,i);if(r)return r;let a=null,l=null;for(const h of qI)a||(a=h(n)),l||(l=h(e));if(!a&&!l)return null;const u="EPSG:4326";if(l)if(a)r=af(a.inverse,l.forward);else{const h=of(t,u);h&&(r=af(h,l.forward))}else{const h=of(u,i);h&&(r=af(a.inverse,h))}return r&&(og(n),og(e),Ha(n,e,r)),r}function af(n,e){return function(t,i,r,a){return i=n(t,i,r,a),e(i,i,r,a)}}function mc(n,e){const t=Qt(n),i=Qt(e);return pm(t,i)}function Yc(n,e,t){const i=mc(e,t);if(!i){const r=Qt(e).getCode(),a=Qt(t).getCode();throw new Error(`No transform available between ${r} and ${a}`)}return i(n,void 0,n.length)}function ag(n,e){return n}function Ri(n,e){return sg&&!hc(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(sg=!1,rw("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function hw(n,e){return n}function gr(n,e){return n}function nk(){sv(q_),sv(J_),ek(J_,q_,LI,MI)}nk();new Array(6);function Kn(){return[1,0,0,1,0,0]}function ik(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function mt(n,e){const t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Oi(n,e,t,i,r,a,l,u){const h=Math.sin(a),d=Math.cos(a);return n[0]=i*d,n[1]=r*h,n[2]=-i*h,n[3]=r*d,n[4]=l*i*d-u*i*h+e,n[5]=l*r*h+u*r*d+t,n}function dw(n,e){const t=rk(e);Ne(t!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],a=e[2],l=e[3],u=e[4],h=e[5];return n[0]=l/t,n[1]=-r/t,n[2]=-a/t,n[3]=i/t,n[4]=(a*h-l*u)/t,n[5]=-(i*h-r*u)/t,n}function rk(n){return n[0]*n[3]-n[1]*n[2]}const sk=[1e5,1e5,1e5,1e5,2,2];function ok(n){return"matrix("+n.join(", ")+")"}function lg(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function ak(n,e){const t=lg(n),i=lg(e);for(let r=0;r<6;++r)if(Math.round((t[r]-i[r])*sk[r])!==0)return!1;return!0}function _r(n,e,t,i,r,a,l){a=a||[],l=l||2;let u=0;for(let h=e;h<t;h+=i){const d=n[h],g=n[h+1];a[u++]=r[0]*d+r[2]*g+r[4],a[u++]=r[1]*d+r[3]*g+r[5];for(let p=2;p<l;p++)a[u++]=n[h+p]}return a&&a.length!=u&&(a.length=u),a}function fw(n,e,t,i,r,a,l){l=l||[];const u=Math.cos(r),h=Math.sin(r),d=a[0],g=a[1];let p=0;for(let y=e;y<t;y+=i){const v=n[y]-d,x=n[y+1]-g;l[p++]=d+v*u-x*h,l[p++]=g+v*h+x*u;for(let S=y+2;S<y+i;++S)l[p++]=n[S]}return l&&l.length!=p&&(l.length=p),l}function lk(n,e,t,i,r,a,l,u){u=u||[];const h=l[0],d=l[1];let g=0;for(let p=e;p<t;p+=i){const y=n[p]-h,v=n[p+1]-d;u[g++]=h+r*y,u[g++]=d+a*v;for(let x=p+2;x<p+i;++x)u[g++]=n[x]}return u&&u.length!=g&&(u.length=g),u}function uk(n,e,t,i,r,a,l){l=l||[];let u=0;for(let h=e;h<t;h+=i){l[u++]=n[h]+r,l[u++]=n[h+1]+a;for(let d=h+2;d<h+i;++d)l[u++]=n[d]}return l&&l.length!=u&&(l.length=u),l}const av=Kn(),ck=[NaN,NaN];class hk extends li{constructor(){super(),this.extent_=Ln(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Y1((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Ae()}closestPointXY(e,t,i,r){return Ae()}containsXY(e,t){return this.closestPointXY(e,t,ck,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ae()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Vc(t),this.extentRevision_=this.getRevision()}return wI(this.extent_,e)}rotate(e,t){Ae()}scale(e,t,i){Ae()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ae()}getType(){return Ae()}applyTransform(e){Ae()}intersectsExtent(e){return Ae()}translate(e,t){Ae()}transform(e,t){const i=Qt(e),r=i.getUnits()=="tile-pixels"?function(a,l,u){const h=i.getExtent(),d=i.getWorldExtent(),g=jt(d)/jt(h);Oi(av,d[0],d[3],g,-g,0,0,0);const p=_r(a,0,a.length,u,av,l),y=mc(i,t);return y?y(p,p,u):p}:mc(i,t);return this.applyTransform(r),this}}class ym extends hk{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return um(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ae()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=lv(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Ae()}setLayout(e,t,i){let r;if(e)r=lv(e);else{for(let a=0;a<i;++a){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=dk(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();fw(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=rs(this.getExtent()));const r=this.getFlatCoordinates();if(r){const a=this.getStride();lk(r,0,r.length,a,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();uk(i,0,i.length,r,e,t,i),this.changed()}}}function dk(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function lv(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function fk(n,e,t){const i=n.getFlatCoordinates();if(!i)return null;const r=n.getStride();return _r(i,0,i.length,r,e,t)}function uv(n,e,t,i,r,a,l){const u=n[e],h=n[e+1],d=n[t]-u,g=n[t+1]-h;let p;if(d===0&&g===0)p=e;else{const y=((r-u)*d+(a-h)*g)/(d*d+g*g);if(y>1)p=t;else if(y>0){for(let v=0;v<i;++v)l[v]=ln(n[e+v],n[t+v],y);l.length=i;return}else p=e}for(let y=0;y<i;++y)l[y]=n[p+y];l.length=i}function gw(n,e,t,i,r){let a=n[e],l=n[e+1];for(e+=i;e<t;e+=i){const u=n[e],h=n[e+1],d=lo(a,l,u,h);d>r&&(r=d),a=u,l=h}return r}function mw(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const u=t[a];r=gw(n,e,u,i,r),e=u}return r}function Rb(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const u=t[a];r=mw(n,e,u,i,r),e=u[u.length-1]}return r}function pw(n,e,t,i,r,a,l,u,h,d,g){if(e==t)return d;let p,y;if(r===0){if(y=lo(l,u,n[e],n[e+1]),y<d){for(p=0;p<i;++p)h[p]=n[e+p];return h.length=i,y}return d}g=g||[NaN,NaN];let v=e+i;for(;v<t;)if(uv(n,v-i,v,i,l,u,g),y=lo(l,u,g[0],g[1]),y<d){for(d=y,p=0;p<i;++p)h[p]=g[p];h.length=i,v+=i}else v+=i*Math.max((Math.sqrt(y)-Math.sqrt(d))/r|0,1);if(a&&(uv(n,t-i,e,i,l,u,g),y=lo(l,u,g[0],g[1]),y<d)){for(d=y,p=0;p<i;++p)h[p]=g[p];h.length=i}return d}function yw(n,e,t,i,r,a,l,u,h,d,g){g=g||[NaN,NaN];for(let p=0,y=t.length;p<y;++p){const v=t[p];d=pw(n,e,v,i,r,a,l,u,h,d,g),e=v}return d}function Pb(n,e,t,i,r,a,l,u,h,d,g){g=g||[NaN,NaN];for(let p=0,y=t.length;p<y;++p){const v=t[p];d=yw(n,e,v,i,r,a,l,u,h,d,g),e=v[v.length-1]}return d}function gk(n,e,t,i){for(let r=0,a=t.length;r<a;++r)n[e++]=t[r];return e}function _w(n,e,t,i){for(let r=0,a=t.length;r<a;++r){const l=t[r];for(let u=0;u<i;++u)n[e++]=l[u]}return e}function vw(n,e,t,i,r){r=r||[];let a=0;for(let l=0,u=t.length;l<u;++l){const h=_w(n,e,t[l],i);r[a++]=h,e=h}return r.length=a,r}function Ib(n,e,t,i,r){r=r||[];let a=0;for(let l=0,u=t.length;l<u;++l){const h=vw(n,e,t[l],i,r[a]);h.length===0&&(h[0]=e),r[a++]=h,e=h[h.length-1]}return r.length=a,r}function ao(n,e,t,i,r){r=r!==void 0?r:[];let a=0;for(let l=e;l<t;l+=i)r[a++]=n.slice(l,l+i);return r.length=a,r}function pc(n,e,t,i,r){r=r!==void 0?r:[];let a=0;for(let l=0,u=t.length;l<u;++l){const h=t[l];r[a++]=ao(n,e,h,i,r[a]),e=h}return r.length=a,r}function cv(n,e,t,i,r){r=r!==void 0?r:[];let a=0;for(let l=0,u=t.length;l<u;++l){const h=t[l];r[a++]=h.length===1&&h[0]===e?[]:pc(n,e,h,i,r[a]),e=h[h.length-1]}return r.length=a,r}function hv(n,e,t,i,r,a,l){let u,h;const d=(t-e)/i;if(d===1)u=e;else if(d===2)u=e,h=r;else if(d!==0){let g=n[e],p=n[e+1],y=0;const v=[0];for(let w=e+i;w<t;w+=i){const R=n[w],T=n[w+1];y+=Math.sqrt((R-g)*(R-g)+(T-p)*(T-p)),v.push(y),g=R,p=T}const x=r*y,S=cI(v,x);S<0?(h=(x-v[-S-2])/(v[-S-1]-v[-S-2]),u=e+(-S-2)*i):u=e+S*i}l=l>1?l:2,a=a||new Array(l);for(let g=0;g<l;++g)a[g]=u===void 0?NaN:h===void 0?n[u+g]:ln(n[u+g],n[u+i+g],h);return a}function dv(n,e,t,i,r,a){if(t==e)return null;let l;if(r<n[e+i-1])return a?(l=n.slice(e,e+i),l[i-1]=r,l):null;if(n[t-1]<r)return a?(l=n.slice(t-i,t),l[i-1]=r,l):null;if(r==n[e+i-1])return n.slice(e,e+i);let u=e/i,h=t/i;for(;u<h;){const y=u+h>>1;r<n[(y+1)*i-1]?h=y:u=y+1}const d=n[u*i-1];if(r==d)return n.slice((u-1)*i,(u-1)*i+i);const g=n[(u+1)*i-1],p=(r-d)/(g-d);l=[];for(let y=0;y<i-1;++y)l.push(ln(n[(u-1)*i+y],n[u*i+y],p));return l.push(r),l}function kb(n,e,t,i,r,a,l){if(l)return dv(n,e,t[t.length-1],i,r,a);let u;if(r<n[i-1])return a?(u=n.slice(0,i),u[i-1]=r,u):null;if(n[n.length-1]<r)return a?(u=n.slice(n.length-i),u[i-1]=r,u):null;for(let h=0,d=t.length;h<d;++h){const g=t[h];if(e!=g){if(r<n[e+i-1])return null;if(r<=n[g-1])return dv(n,e,g,i,r,!1);e=g}}return null}function mk(n,e,t,i,r){return!J1(r,function(l){return!Qr(n,e,t,i,l[0],l[1])})}function Qr(n,e,t,i,r,a){let l=0,u=n[t-i],h=n[t-i+1];for(;e<t;e+=i){const d=n[e],g=n[e+1];h<=a?g>a&&(d-u)*(a-h)-(r-u)*(g-h)>0&&l++:g<=a&&(d-u)*(a-h)-(r-u)*(g-h)<0&&l--,u=d,h=g}return l!==0}function _m(n,e,t,i,r,a){if(t.length===0||!Qr(n,e,t[0],i,r,a))return!1;for(let l=1,u=t.length;l<u;++l)if(Qr(n,t[l-1],t[l],i,r,a))return!1;return!0}function Lb(n,e,t,i,r,a){if(t.length===0)return!1;for(let l=0,u=t.length;l<u;++l){const h=t[l];if(_m(n,e,h,i,r,a))return!0;e=h[h.length-1]}return!1}function pk(n,e,t,i,r){let a;for(e+=i;e<t;e+=i)if(a=r(n.slice(e-i,e),n.slice(e,e+i)),a)return a;return!1}function vm(n,e,t,i,r,a){return a=a??Q1(Ln(),n,e,t,i),$t(r,a)?a[0]>=r[0]&&a[2]<=r[2]||a[1]>=r[1]&&a[3]<=r[3]?!0:pk(n,e,t,i,function(l,u){return EI(r,l,u)}):!1}function Mb(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){if(vm(n,e,t[a],i,r))return!0;e=t[a]}return!1}function xw(n,e,t,i,r){return!!(vm(n,e,t,i,r)||Qr(n,e,t,i,r[0],r[1])||Qr(n,e,t,i,r[0],r[3])||Qr(n,e,t,i,r[2],r[1])||Qr(n,e,t,i,r[2],r[3]))}function ww(n,e,t,i,r){if(!xw(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let a=1,l=t.length;a<l;++a)if(mk(n,t[a-1],t[a],i,r)&&!vm(n,t[a-1],t[a],i,r))return!1;return!0}function Ab(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const u=t[a];if(ww(n,e,u,i,r))return!0;e=u[u.length-1]}return!1}function yk(n,e,t,i){let r=n[e],a=n[e+1],l=0;for(let u=e+i;u<t;u+=i){const h=n[u],d=n[u+1];l+=Math.sqrt((h-r)*(h-r)+(d-a)*(d-a)),r=h,a=d}return l}function xm(n,e,t,i,r,a,l){const u=(t-e)/i;if(u<3){for(;e<t;e+=i)a[l++]=n[e],a[l++]=n[e+1];return l}const h=new Array(u);h[0]=1,h[u-1]=1;const d=[e,t-i];let g=0;for(;d.length>0;){const p=d.pop(),y=d.pop();let v=0;const x=n[y],S=n[y+1],w=n[p],R=n[p+1];for(let T=y+i;T<p;T+=i){const P=n[T],I=n[T+1],L=SI(P,I,x,S,w,R);L>v&&(g=T,v=L)}v>r&&(h[(g-e)/i]=1,y+i<g&&d.push(y,g),g+i<p&&d.push(g,p))}for(let p=0;p<u;++p)h[p]&&(a[l++]=n[e+p*i],a[l++]=n[e+p*i+1]);return l}function _k(n,e,t,i,r,a,l,u){for(let h=0,d=t.length;h<d;++h){const g=t[h];l=xm(n,e,g,i,r,a,l),u.push(l),e=g}return l}function Yr(n,e){return e*Math.round(n/e)}function vk(n,e,t,i,r,a,l){if(e==t)return l;let u=Yr(n[e],r),h=Yr(n[e+1],r);e+=i,a[l++]=u,a[l++]=h;let d,g;do if(d=Yr(n[e],r),g=Yr(n[e+1],r),e+=i,e==t)return a[l++]=d,a[l++]=g,l;while(d==u&&g==h);for(;e<t;){const p=Yr(n[e],r),y=Yr(n[e+1],r);if(e+=i,p==d&&y==g)continue;const v=d-u,x=g-h,S=p-u,w=y-h;if(v*w==x*S&&(v<0&&S<v||v==S||v>0&&S>v)&&(x<0&&w<x||x==w||x>0&&w>x)){d=p,g=y;continue}a[l++]=d,a[l++]=g,u=d,h=g,d=p,g=y}return a[l++]=d,a[l++]=g,l}function wm(n,e,t,i,r,a,l,u){for(let h=0,d=t.length;h<d;++h){const g=t[h];l=vk(n,e,g,i,r,a,l),u.push(l),e=g}return l}function Db(n,e,t,i,r,a,l,u){for(let h=0,d=t.length;h<d;++h){const g=t[h],p=[];l=wm(n,e,g,i,r,a,l,p),u.push(p),e=g[g.length-1]}return l}class os extends ym{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new os(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const a=this.flatCoordinates,l=lo(e,t,a[0],a[1]);if(l<r){const u=this.stride;for(let h=0;h<u;++h)i[h]=a[h];return i.length=u,l}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return q1(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Z1(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=gk(this.flatCoordinates,0,e,this.stride),this.changed()}}const Rn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},as=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",xk=as.includes("safari")&&!as.includes("chrom");xk&&(as.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(as));const wk=as.includes("webkit")&&!as.includes("edge"),Ew=as.includes("macintosh"),Ek=typeof devicePixelRatio<"u"?devicePixelRatio:1,un=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Sw=typeof Image<"u"&&Image.prototype.decode,Cw=(function(){let n=!1;try{const e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n})(),Se={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function ct(n,e,t,i){let r;return t&&t.length?r=t.shift():un?r=new class extends OffscreenCanvas{style={}}(n??300,e??150):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}let lf;function yc(){return lf||(lf=ct(1,1)),lf}function Hc(n){const e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function fv(n,e){const t=e.parentNode;t&&t.replaceChild(n,e)}function Sk(n){for(;n.lastChild;)n.lastChild.remove()}function Ck(n,e){const t=n.childNodes;for(let i=0;;++i){const r=t[i],a=e[i];if(!r&&!a)break;if(r!==a){if(!r){n.appendChild(a);continue}if(!a){n.removeChild(r),--i;continue}n.insertBefore(a,r)}}}function Tw(){return new Proxy({childNodes:[],appendChild:function(e){return this.childNodes.push(e),e},remove:function(){},removeChild:function(e){const t=this.childNodes.indexOf(e);if(t===-1)throw new Error("Node to remove was not found");return this.childNodes.splice(t,1),e},insertBefore:function(e,t){const i=this.childNodes.indexOf(t);if(i===-1)throw new Error("Reference node not found");return this.childNodes.splice(i,0,e),e},style:{}},{get(e,t,i){return t==="firstElementChild"?e.childNodes.length>0?e.childNodes[0]:null:Reflect.get(e,t,i)}})}function mr(n){return typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas}const Em=[NaN,NaN,NaN,0];let uf;function Tk(){return uf||(uf=ct(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),uf}const Rk=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Pk=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Ik=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,kk=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Gu(n,e){return n.endsWith("%")?Number(n.substring(0,n.length-1))/e:Number(n)}function za(n){throw new Error('failed to parse "'+n+'" as color')}function Rw(n){if(n.toLowerCase().startsWith("rgb")){const a=n.match(Pk)||n.match(Rk)||n.match(Ik);if(a){const l=a[4],u=100/255;return[Qe(Gu(a[1],u)+.5|0,0,255),Qe(Gu(a[2],u)+.5|0,0,255),Qe(Gu(a[3],u)+.5|0,0,255),l!==void 0?Qe(Gu(l,100),0,1):1]}za(n)}if(n.startsWith("#")){if(kk.test(n)){const a=n.substring(1),l=a.length<=4?1:2,u=[0,0,0,255];for(let h=0,d=a.length;h<d;h+=l){let g=parseInt(a.substring(h,h+l),16);l===1&&(g+=g<<4),u[h/l]=g}return u[3]=u[3]/255,u}za(n)}const e=Tk();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=n,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=n,e.fillStyle===t&&za(n));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return Rw(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=gl(r[3]/255,3),r}function Lk(n){return typeof n=="string"?n:Cm(n)}const Mk=1024,_a={};let cf=0;function Ak(n){if(n.length===4)return n;const e=n.slice();return e[3]=1,e}function hf(n){return n>.0031308?Math.pow(n,1/2.4)*269.025-14.025:n*3294.6}function df(n){return n>.2068965?Math.pow(n,3):(n-4/29)*(108/841)}function ff(n){return n>10.314724?Math.pow((n+14.025)/269.025,2.4):n/3294.6}function gf(n){return n>.0088564?Math.pow(n,1/3):n/(108/841)+4/29}function gv(n){const e=ff(n[0]),t=ff(n[1]),i=ff(n[2]),r=gf(e*.222488403+t*.716873169+i*.06060791),a=500*(gf(e*.452247074+t*.399439023+i*.148375274)-r),l=200*(r-gf(e*.016863605+t*.117638439+i*.865350722)),u=Math.atan2(l,a)*(180/Math.PI);return[116*r-16,Math.sqrt(a*a+l*l),u<0?u+360:u,n[3]]}function Dk(n){const e=(n[0]+16)/116,t=n[1],i=n[2]*Math.PI/180,r=df(e),a=df(e+t/500*Math.cos(i)),l=df(e-t/200*Math.sin(i)),u=hf(a*3.021973625-r*1.617392459-l*.404875592),h=hf(a*-.943766287+r*1.916279586+l*.027607165),d=hf(a*.069407491-r*.22898585+l*1.159737864);return[Qe(u+.5|0,0,255),Qe(h+.5|0,0,255),Qe(d+.5|0,0,255),n[3]]}function Sm(n){if(n==="none")return Em;if(_a.hasOwnProperty(n))return _a[n];if(cf>=Mk){let t=0;for(const i in _a)(t++&3)===0&&(delete _a[i],--cf)}const e=Rw(n);e.length!==4&&za(n);for(const t of e)isNaN(t)&&za(n);return _a[n]=e,++cf,e}function Eo(n){return Array.isArray(n)?n:Sm(n)}function Cm(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);const r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}function Ok(n,e,t){const i=n;let r=!0,a=!1,l=!1;const u=[cc(i,Ce.LOAD,function(){l=!0,a||e()})];return i.src&&Sw?(a=!0,i.decode().then(function(){r&&e()}).catch(function(h){r&&(l?e():t())})):u.push(cc(i,Ce.ERROR,t)),function(){r=!1,u.forEach(He)}}function bk(n,e){return new Promise((t,i)=>{function r(){l(),t(n)}function a(){l(),i(new Error("Image load error"))}function l(){n.removeEventListener("load",r),n.removeEventListener("error",a)}n.addEventListener("load",r),n.addEventListener("error",a)})}function Nk(n,e){return e&&(n.src=e),n.src&&Sw?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):bk(n)}class Fk{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const r=mf(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){const r=mf(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,a){const l=mf(e,t,i),u=l in this.cache_;this.cache_[l]=r,a&&(r.getImageState()===Se.IDLE&&r.load(),r.getImageState()===Se.LOADING?r.ready().then(()=>{this.patternCache_[l]=yc().createPattern(r.getImage(1),"repeat")}):this.patternCache_[l]=yc().createPattern(r.getImage(1),"repeat")),u||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function mf(n,e,t){const i=t?Eo(t):"null";return e+":"+n+":"+i}const Pn=new Fk;let va=null;class Pw extends zc{constructor(e,t,i,r,a){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=a,this.imageState_=r===void 0?Se.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Se.LOADED){va||(va=ct(1,1,void 0,{willReadFrequently:!0})),va.drawImage(this.image_,0,0);try{va.getImageData(0,0,1,1),this.tainted_=!1}catch{va=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ce.CHANGE)}handleImageError_(){this.imageState_=Se.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Se.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=ct(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Se.IDLE){this.image_||this.initializeImage_(),this.imageState_=Se.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Nk(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Se.LOADED)return;const t=this.image_,i=ct(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=Lk(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Se.LOADED||this.imageState_===Se.ERROR)e();else{const t=()=>{(this.imageState_===Se.LOADED||this.imageState_===Se.ERROR)&&(this.removeEventListener(Ce.CHANGE,t),e())};this.addEventListener(Ce.CHANGE,t)}})),this.ready_}}function _c(n,e,t,i,r,a){let l=e===void 0?void 0:Pn.get(e,t,r);return l||(l=new Pw(n,n&&"src"in n?n.src||void 0:e,t,i,r),Pn.set(e,t,r,l,a)),a&&l&&!Pn.getPattern(e,t,r)&&Pn.set(e,t,r,l,a),l}function si(n){return n?Array.isArray(n)?Cm(n):typeof n=="object"&&"src"in n?jk(n):n:null}function jk(n){if(!n.offset||!n.size)return Pn.getPattern(n.src,"anonymous",n.color);const e=n.src+":"+n.offset,t=Pn.getPattern(e,void 0,n.color);if(t)return t;const i=Pn.get(n.src,"anonymous",null);if(i.getImageState()!==Se.LOADED)return null;const r=ct(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),_c(r.canvas,e,void 0,Se.LOADED,n.color,!0),Pn.getPattern(e,void 0,n.color)}class Iw{drawCustom(e,t,i,r,a){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const Wu="ol-hidden",pl="ol-unselectable",Tm="ol-control",mv="ol-collapsed",zk=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),pv=["style","variant","weight","size","lineHeight","family"],ug={normal:400,bold:700},cg=function(n){const e=n.match(zk);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=pv.length;i<r;++i){const a=e[i+1];a!==void 0&&(t[pv[i]]=typeof a=="string"?a.trim():a)}return isNaN(Number(t.weight))&&t.weight in ug&&(t.weight=ug[t.weight]),t.families=t.family.split(/,\s?/).map(i=>i.trim().replace(/^['"]|['"]$/g,"")),t},kw="10px sans-serif",Yt="#000",So="round",Mi=[],Ai=0,Co="round",$a=10,Za="#000",qa="center",vc="middle",Jr=[0,0,0,0],Qa=1,qs=new li;let xa=null,yv;const hg={},Vk=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function Bk(n,e,t){return`${n} ${e} 16px "${t}"`}const Gk=(function(){let e,t;async function i(a){await t.ready;const l=await t.load(a);if(l.length===0)return!1;const u=cg(a),h=u.families[0].toLowerCase(),d=u.weight;return l.some(g=>{const p=g.family.replace(/^['"]|['"]$/g,"").toLowerCase(),y=ug[g.weight]||g.weight;return p===h&&g.style===u.style&&y==d})}async function r(){await t.ready;let a=!0;const l=qs.getProperties(),u=Object.keys(l).filter(h=>l[h]<100);for(let h=u.length-1;h>=0;--h){const d=u[h];let g=l[d];g<100&&(await i(d)?(dl(hg),qs.set(d,100)):(g+=10,qs.set(d,g,!0),g<100&&(a=!1)))}e=void 0,a||(e=setTimeout(r,100))}return async function(a){t||(t=un?self.fonts:document.fonts);const l=cg(a);if(!l)return;const u=l.families;let h=!1;for(const d of u){if(Vk.has(d))continue;const g=Bk(l.style,l.weight,d);qs.get(g)===void 0&&(qs.set(g,0,!0),h=!0)}h&&(clearTimeout(e),e=setTimeout(r,100))}})(),Wk=(function(){let n;return function(e){let t=hg[e];if(t==null){if(un){const i=cg(e),r=Lw(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);hg[e]=t}return t}})();function Lw(n,e){return xa||(xa=ct(1,1)),n!=yv&&(xa.font=n,yv=xa.font),xa.measureText(e)}function Mw(n,e){return Lw(n,e).width}function _v(n,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((r,a)=>Math.max(r,Mw(n,a)),0);return t[e]=i,i}function Uk(n,e){const t=[],i=[],r=[];let a=0,l=0,u=0,h=0;for(let d=0,g=e.length;d<=g;d+=2){const p=e[d];if(p===`
`||d===g){a=Math.max(a,l),r.push(l),l=0,u+=h,h=0;continue}const y=e[d+1]||n.font,v=Mw(y,p);t.push(v),l+=v;const x=Wk(y);i.push(x),h=Math.max(h,x)}return{width:a,height:u,widths:t,heights:i,lineWidths:r}}function Kk(n,e,t,i,r,a,l,u,h,d,g){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=p=>p.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(h,d),n.scale(g[0],g[1]),Xk(i,n)):g[0]<0||g[1]<0?(n.translate(h,d),n.scale(g[0],g[1]),n.drawImage(i,r,a,l,u,0,0,l,u)):n.drawImage(i,r,a,l,u,h,d,l*g[0],u*g[1]),n.restore()}function Xk(n,e){const t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class Yk extends Iw{constructor(e,t,i,r,a,l,u){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?gl(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=a,this.squaredTolerance_=l,this.userTransform_=u,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Kn()}drawImages_(e,t,i,r){if(!this.image_)return;const a=_r(e,t,i,r,this.transform_,this.pixelCoordinates_),l=this.context_,u=this.tmpLocalTransform_,h=l.globalAlpha;this.imageOpacity_!=1&&(l.globalAlpha=h*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let g=0,p=a.length;g<p;g+=2){const y=a[g]-this.imageAnchorX_,v=a[g+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=y+this.imageAnchorX_,S=v+this.imageAnchorY_;Oi(u,x,S,1,1,d,-x,-S),l.save(),l.transform.apply(l,u),l.translate(x,S),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.restore()}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,y,v,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(l.globalAlpha=h)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const a=_r(e,t,i,r,this.transform_,this.pixelCoordinates_),l=this.context_;let u=this.textRotation_;for(this.transformRotation_===0&&(u-=this.viewRotation_),this.textRotateWithView_&&(u+=this.viewRotation_);t<i;t+=r){const h=a[t]+this.textOffsetX_,d=a[t+1]+this.textOffsetY_;u!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(l.save(),l.translate(h-this.textOffsetX_,d-this.textOffsetY_),l.rotate(u),l.translate(this.textOffsetX_,this.textOffsetY_),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.restore()):(this.textStrokeState_&&l.strokeText(this.text_,h,d),this.textFillState_&&l.fillText(this.text_,h,d))}}moveToLineTo_(e,t,i,r,a){const l=this.context_,u=_r(e,t,i,r,this.transform_,this.pixelCoordinates_);l.moveTo(u[0],u[1]);let h=u.length;a&&(h-=2);for(let d=2;d<h;d+=2)l.lineTo(u[d],u[d+1]);return a&&l.closePath(),i}drawRings_(e,t,i,r){for(let a=0,l=i.length;a<l;++a)t=this.moveToLineTo_(e,t,i[a],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$t(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=fk(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],a=Math.sqrt(i*i+r*r),l=this.context_;l.beginPath(),l.arc(t[0],t[1],a,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$t(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if($t(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let a=0;const l=e.getEnds(),u=e.getStride();i.beginPath();for(let h=0,d=l.length;h<d;++h)a=this.moveToLineTo_(r,a,l[h],u,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$t(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$t(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const a=e.getEndss(),l=e.getStride();t.beginPath();for(let u=0,h=a.length;u<h;++u){const d=a[u];r=this.drawRings_(i,r,d,l)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Tr(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:qa;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:si(i||Yt)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),r=t.getLineCap(),a=t.getLineDash(),l=t.getLineDashOffset(),u=t.getLineJoin(),h=t.getWidth(),d=t.getMiterLimit(),g=a||Mi;this.strokeState_={lineCap:r!==void 0?r:So,lineDash:this.pixelRatio_===1?g:g.map(p=>p*this.pixelRatio_),lineDashOffset:(l||Ai)*this.pixelRatio_,lineJoin:u!==void 0?u:Co,lineWidth:(h!==void 0?h:Qa)*this.pixelRatio_,miterLimit:d!==void 0?d:$a,strokeStyle:si(i||Za)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),a=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const l=e.getScaleArray();this.imageScale_=[l[0]*this.pixelRatio_/i,l[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const v=t.getColor();this.textFillState_={fillStyle:si(v||Yt)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const v=i.getColor(),x=i.getLineCap(),S=i.getLineDash(),w=i.getLineDashOffset(),R=i.getLineJoin(),T=i.getWidth(),P=i.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:So,lineDash:S||Mi,lineDashOffset:w||Ai,lineJoin:R!==void 0?R:Co,lineWidth:T!==void 0?T:Qa,miterLimit:P!==void 0?P:$a,strokeStyle:si(v||Za)}}const r=e.getFont(),a=e.getOffsetX(),l=e.getOffsetY(),u=e.getRotateWithView(),h=e.getRotation(),d=e.getScaleArray(),g=e.getText(),p=e.getTextAlign(),y=e.getTextBaseline();this.textState_={font:r!==void 0?r:kw,textAlign:p!==void 0?p:qa,textBaseline:y!==void 0?y:vc},this.text_=g!==void 0?Array.isArray(g)?g.reduce((v,x,S)=>v+=S%2?" ":x,""):g:"",this.textOffsetX_=a!==void 0?this.pixelRatio_*a:0,this.textOffsetY_=l!==void 0?this.pixelRatio_*l:0,this.textRotateWithView_=u!==void 0?u:!1,this.textRotation_=h!==void 0?h:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}}const Hk=.5,Aw={Point:nL,LineString:Jk,Polygon:rL,MultiPoint:iL,MultiLineString:eL,MultiPolygon:tL,GeometryCollection:Qk,Circle:Zk};function $k(n,e){return parseInt(Oe(n),10)-parseInt(Oe(e),10)}function vv(n,e){const t=Dw(n,e);return t*t}function Dw(n,e){return Hk*n/e}function Zk(n,e,t,i,r){const a=t.getFill(),l=t.getStroke();if(a||l){const h=n.getBuilder(t.getZIndex(),"Circle");h.setFillStrokeStyle(a,l),h.drawCircle(e,i,r)}const u=t.getText();if(u&&u.getText()){const h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(u),h.drawText(e,i)}}function xv(n,e,t,i,r,a,l,u){const h=[],d=t.getImage();if(d){let y=!0;const v=d.getImageState();v==Se.LOADED||v==Se.ERROR?y=!1:v==Se.IDLE&&d.load(),y&&h.push(d.ready())}const g=t.getFill();g&&g.loading()&&h.push(g.ready());const p=h.length>0;return p&&Promise.all(h).then(()=>r(null)),qk(n,e,t,i,a,l,u),p}function qk(n,e,t,i,r,a,l){const u=t.getGeometryFunction()(e);if(!u)return;const h=u.simplifyTransformed(i,r);if(t.getRenderer())Ow(n,h,t,e,l);else{const g=Aw[h.getType()];g(n,h,t,e,l,a)}}function Ow(n,e,t,i,r){if(e.getType()=="GeometryCollection"){const l=e.getGeometries();for(let u=0,h=l.length;u<h;++u)Ow(n,l[u],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function Qk(n,e,t,i,r,a){const l=e.getGeometriesArray();let u,h;for(u=0,h=l.length;u<h;++u){const d=Aw[l[u].getType()];d(n,l[u],t,i,r,a)}}function Jk(n,e,t,i,r){const a=t.getStroke();if(a){const u=n.getBuilder(t.getZIndex(),"LineString");u.setFillStrokeStyle(null,a),u.drawLineString(e,i,r)}const l=t.getText();if(l&&l.getText()){const u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,i,r)}}function eL(n,e,t,i,r){const a=t.getStroke();if(a){const u=n.getBuilder(t.getZIndex(),"LineString");u.setFillStrokeStyle(null,a),u.drawMultiLineString(e,i,r)}const l=t.getText();if(l&&l.getText()){const u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,i,r)}}function tL(n,e,t,i,r){const a=t.getFill(),l=t.getStroke();if(l||a){const h=n.getBuilder(t.getZIndex(),"Polygon");h.setFillStrokeStyle(a,l),h.drawMultiPolygon(e,i,r)}const u=t.getText();if(u&&u.getText()){const h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(u),h.drawText(e,i,r)}}function nL(n,e,t,i,r,a){const l=t.getImage(),u=t.getText(),h=u&&u.getText(),d=a&&l&&h?{}:void 0;if(l){if(l.getImageState()!=Se.LOADED)return;const g=n.getBuilder(t.getZIndex(),"Image");g.setImageStyle(l,d),g.drawPoint(e,i,r)}if(h){const g=n.getBuilder(t.getZIndex(),"Text");g.setTextStyle(u,d),g.drawText(e,i,r)}}function iL(n,e,t,i,r,a){const l=t.getImage(),u=l&&l.getOpacity()!==0,h=t.getText(),d=h&&h.getText(),g=a&&u&&d?{}:void 0;if(u){if(l.getImageState()!=Se.LOADED)return;const p=n.getBuilder(t.getZIndex(),"Image");p.setImageStyle(l,g),p.drawMultiPoint(e,i,r)}if(d){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(h,g),p.drawText(e,i,r)}}function rL(n,e,t,i,r){const a=t.getFill(),l=t.getStroke();if(a||l){const h=n.getBuilder(t.getZIndex(),"Polygon");h.setFillStrokeStyle(a,l),h.drawPolygon(e,i,r)}const u=t.getText();if(u&&u.getText()){const h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(u),h.drawText(e,i,r)}}let sL=!1;function oL(n,e,t,i,r,a,l){const u=new XMLHttpRequest;u.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(u.responseType="arraybuffer"),u.withCredentials=sL,u.onload=function(h){if(!u.status||u.status>=200&&u.status<300){const d=e.getType();try{let g;d=="text"||d=="json"?g=u.responseText:d=="xml"?g=u.responseXML||u.responseText:d=="arraybuffer"&&(g=u.response),g?a(e.readFeatures(g,{extent:t,featureProjection:r}),e.readProjection(g)):l()}catch{l()}}else l()},u.onerror=l,u.send()}function wv(n,e){return function(t,i,r,a,l){oL(n,e,t,i,r,(u,h)=>{this.addFeatures(u),a!==void 0&&a(u)},()=>{this.changed(),l!==void 0&&l()})}}function aL(n,e){return[[-1/0,-1/0,1/0,1/0]]}function lL(n,e,t,i){const r=[];let a=Ln();for(let l=0,u=t.length;l<u;++l){const h=t[l];a=um(n,e,h[0],i),r.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=h[h.length-1]}return r}function Rm(n,e,t,i,r,a,l){let u,h,d,g,p,y,v;const x=r[a+1],S=[];for(let T=0,P=t.length;T<P;++T){const I=t[T];for(g=n[I-i],y=n[I-i+1],u=e;u<I;u+=i)p=n[u],v=n[u+1],(x<=y&&v<=x||y<=x&&x<=v)&&(d=(x-y)/(v-y)*(p-g)+g,S.push(d)),g=p,y=v}let w=NaN,R=-1/0;for(S.sort(Li),g=S[0],u=1,h=S.length;u<h;++u){p=S[u];const T=Math.abs(p-g);T>R&&(d=(g+p)/2,_m(n,e,t,i,d,x)&&(w=d,R=T)),g=p}return isNaN(w)&&(w=r[a]),l?(l.push(w,x,R),l):[w,x,R]}function uL(n,e,t,i,r){let a=[];for(let l=0,u=t.length;l<u;++l){const h=t[l];a=Rm(n,e,h,i,r,2*l,a),e=h[h.length-1]}return a}function cL(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const a=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=a}e+=i,t-=i}}function Pm(n,e,t,i){let r=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){const u=n[e],h=n[e+1];r+=(u-a)*(h+l),a=u,l=h}return r===0?void 0:r>0}function bw(n,e,t,i,r){r=r!==void 0?r:!1;for(let a=0,l=t.length;a<l;++a){const u=t[a],h=Pm(n,e,u,i);if(a===0){if(r&&h||!r&&!h)return!1}else if(r&&!h||!r&&h)return!1;e=u}return!0}function Ob(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const u=t[a];if(!bw(n,e,u,i,r))return!1;u.length&&(e=u[u.length-1])}return!0}function dg(n,e,t,i,r){r=r!==void 0?r:!1;for(let a=0,l=t.length;a<l;++a){const u=t[a],h=Pm(n,e,u,i);(a===0?r&&h||!r&&!h:r&&!h||!r&&h)&&cL(n,e,u,i),e=u}return e}function bb(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a)e=dg(n,e,t[a],i,r);return e}function hL(n,e){const t=[];let i=0,r=0,a;for(let l=0,u=e.length;l<u;++l){const h=e[l],d=Pm(n,i,h,2);if(a===void 0&&(a=d),d===a)t.push(e.slice(r,l+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=l+1,i=h}return t}function Nw(n,e,t,i){let r=0;const a=n[t-i],l=n[t-i+1];let u=0,h=0;for(;e<t;e+=i){const d=n[e]-a,g=n[e+1]-l;r+=h*d-u*g,u=d,h=g}return r/2}function Fw(n,e,t,i){let r=0;for(let a=0,l=t.length;a<l;++a){const u=t[a];r+=Nw(n,e,u,i),e=u}return r}function Nb(n,e,t,i){let r=0;for(let a=0,l=t.length;a<l;++a){const u=t[a];r+=Fw(n,e,u,i),e=u[u.length-1]}return r}class Ja extends ym{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Ja(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<$1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),pw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return Nw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ao(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=xm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Ja(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_w(this.flatCoordinates,0,e,this.stride),this.changed()}}class el extends ym{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?am(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new el(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<$1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(mw(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yw(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return _m(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return Fw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),dg(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,pc(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=rs(this.getExtent());this.flatInteriorPoint_=Rm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new os(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Ja(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let a=0;for(let l=0,u=i.length;l<u;++l){const h=i[l],d=new Ja(t.slice(a,h),e);r.push(d),a=h}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;bw(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=dg(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=wm(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new el(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return ww(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=vw(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Ev(n){if(Uc(n))throw new Error("Cannot create polygon from empty extent");const e=n[0],t=n[1],i=n[2],r=n[3],a=[e,t,e,r,i,r,i,t,e,t];return new el(a,"XY",[a.length])}const Sv=Kn();class Bn{constructor(e,t,i,r,a,l){this.styleFunction,this.extent_,this.id_=l,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=a,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?q1(this.flatCoordinates_):um(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=rs(this.getExtent());this.flatInteriorPoints_=Rm(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=hL(this.flatCoordinates_,this.ends_),t=lL(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=uL(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=hv(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let r=0,a=i.length;r<a;++r){const l=i[r],u=hv(e,t,l,2,.5);am(this.flatMidpoints_,u),t=l}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Qt(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const r=jt(i)/jt(t);Oi(Sv,i[0],i[3],r,-r,0,0,0),_r(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Sv,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Bn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Y1((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=xm(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=_k(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=wm(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new Bn(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Bn.prototype.getFlatCoordinates=Bn.prototype.getOrientedFlatCoordinates;function jw(n,e,t=0,i=n.length-1,r=dL){for(;i>t;){if(i-t>600){const h=i-t+1,d=e-t+1,g=Math.log(h),p=.5*Math.exp(2*g/3),y=.5*Math.sqrt(g*p*(h-p)/h)*(d-h/2<0?-1:1),v=Math.max(t,Math.floor(e-d*p/h+y)),x=Math.min(i,Math.floor(e+(h-d)*p/h+y));jw(n,e,v,x,r)}const a=n[e];let l=t,u=i;for(wa(n,t,e),r(n[i],a)>0&&wa(n,t,i);l<u;){for(wa(n,l,u),l++,u--;r(n[l],a)<0;)l++;for(;r(n[u],a)>0;)u--}r(n[t],a)===0?wa(n,t,u):(u++,wa(n,u,i)),u<=e&&(t=u+1),e<=u&&(i=u-1)}}function wa(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function dL(n,e){return n<e?-1:n>e?1:0}let zw=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Ku(e,t))return i;const r=this.toBBox,a=[];for(;t;){for(let l=0;l<t.children.length;l++){const u=t.children[l],h=t.leaf?r(u):u;Ku(e,h)&&(t.leaf?i.push(u):yf(e,h)?this._all(u,i):a.push(u))}t=a.pop()}return i}collides(e){let t=this.data;if(!Ku(e,t))return!1;const i=[];for(;t;){for(let r=0;r<t.children.length;r++){const a=t.children[r],l=t.leaf?this.toBBox(a):a;if(Ku(e,l)){if(t.leaf||yf(e,l))return!0;i.push(a)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Qs([]),this}remove(e,t){if(!e)return this;let i=this.data;const r=this.toBBox(e),a=[],l=[];let u,h,d;for(;i||a.length;){if(i||(i=a.pop(),h=a[a.length-1],u=l.pop(),d=!0),i.leaf){const g=fL(e,i.children,t);if(g!==-1)return i.children.splice(g,1),a.push(i),this._condense(a),this}!d&&!i.leaf&&yf(i,r)?(a.push(i),l.push(u),u=0,h=i,i=i.children[0]):h?(u++,i=h.children[u],d=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){const a=i-t+1;let l=this._maxEntries,u;if(a<=l)return u=Qs(e.slice(t,i+1)),Ks(u,this.toBBox),u;r||(r=Math.ceil(Math.log(a)/Math.log(l)),l=Math.ceil(a/Math.pow(l,r-1))),u=Qs([]),u.leaf=!1,u.height=r;const h=Math.ceil(a/l),d=h*Math.ceil(Math.sqrt(l));Cv(e,t,i,d,this.compareMinX);for(let g=t;g<=i;g+=d){const p=Math.min(g+d-1,i);Cv(e,g,p,h,this.compareMinY);for(let y=g;y<=p;y+=h){const v=Math.min(y+h-1,p);u.children.push(this._build(e,y,v,r-1))}}return Ks(u,this.toBBox),u}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let a=1/0,l=1/0,u;for(let h=0;h<t.children.length;h++){const d=t.children[h],g=pf(d),p=pL(e,d)-g;p<l?(l=p,a=g<a?g:a,u=d):p===l&&g<a&&(a=g,u=d)}t=u||t.children[0]}return t}_insert(e,t,i){const r=i?e:this.toBBox(e),a=[],l=this._chooseSubtree(r,this.data,t,a);for(l.children.push(e),ka(l,r);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(r,a,t)}_split(e,t){const i=e[t],r=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,r);const l=this._chooseSplitIndex(i,a,r),u=Qs(i.children.splice(l,i.children.length-l));u.height=i.height,u.leaf=i.leaf,Ks(i,this.toBBox),Ks(u,this.toBBox),t?e[t-1].children.push(u):this._splitRoot(i,u)}_splitRoot(e,t){this.data=Qs([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ks(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,a=1/0,l=1/0;for(let u=t;u<=i-t;u++){const h=Ia(e,0,u,this.toBBox),d=Ia(e,u,i,this.toBBox),g=yL(h,d),p=pf(h)+pf(d);g<a?(a=g,r=u,l=p<l?p:l):g===a&&p<l&&(l=p,r=u)}return r||i-t}_chooseSplitAxis(e,t,i){const r=e.leaf?this.compareMinX:gL,a=e.leaf?this.compareMinY:mL,l=this._allDistMargin(e,t,i,r),u=this._allDistMargin(e,t,i,a);l<u&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);const a=this.toBBox,l=Ia(e,0,t,a),u=Ia(e,i-t,i,a);let h=Uu(l)+Uu(u);for(let d=t;d<i-t;d++){const g=e.children[d];ka(l,e.leaf?a(g):g),h+=Uu(l)}for(let d=i-t-1;d>=t;d--){const g=e.children[d];ka(u,e.leaf?a(g):g),h+=Uu(u)}return h}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)ka(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Ks(e[t],this.toBBox)}};function fL(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function Ks(n,e){Ia(n,0,n.children.length,e,n)}function Ia(n,e,t,i,r){r||(r=Qs(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let a=e;a<t;a++){const l=n.children[a];ka(r,n.leaf?i(l):l)}return r}function ka(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function gL(n,e){return n.minX-e.minX}function mL(n,e){return n.minY-e.minY}function pf(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Uu(n){return n.maxX-n.minX+(n.maxY-n.minY)}function pL(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function yL(n,e){const t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),a=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,a-i)}function yf(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Ku(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Qs(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Cv(n,e,t,i,r){const a=[e,t];for(;a.length;){if(t=a.pop(),e=a.pop(),t-e<=i)continue;const l=e+Math.ceil((t-e)/i/2)*i;jw(n,l,e,t,r),a.push(e,l,l,t)}}class Tv{constructor(e){this.rbush_=new zw(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Oe(t)]=i}load(e,t){const i=new Array(t.length);for(let r=0,a=t.length;r<a;r++){const l=e[r],u=t[r],h={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3],value:u};i[r]=h,this.items_[Oe(u)]=h}this.rbush_.load(i)}remove(e){const t=Oe(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[Oe(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Ya(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,a=e.length;r<a;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return yo(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Er(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class Vw extends li{constructor(e){super(),this.projection=Qt(e.projection),this.attributions_=Rv(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Rv(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Rv(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}const En={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class rr extends bi{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class Im extends Vw{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Xa,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Ne(this.format_,"`format` must be set when `url` is set"),this.loader_=wv(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:aL;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new Tv:null,this.loadedExtentsRtree_=new Tv,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new Tn(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Oe(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new rr(En.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof Bn||(this.featureChangeKeys_[e]=[De(t,Ce.CHANGE,this.handleFeatureChange_,this),De(t,po.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof Bn){const a=this.idIndex_[r];a instanceof Bn?Array.isArray(a)?a.push(t):this.idIndex_[r]=[a,t]:i=!1}else i=!1}return i&&(Ne(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],r=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],h=Oe(u);this.addToIndex_(h,u)&&i.push(u)}for(let a=0,l=i.length;a<l;a++){const u=i[a],h=Oe(u);this.setupChangeEvents_(h,u);const d=u.getGeometry();if(d){const g=d.getExtent();t.push(g),r.push(u)}else this.nullGeometryFeatures_[h]=u}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(En.ADDFEATURE))for(let a=0,l=i.length;a<l;a++)this.dispatchEvent(new rr(En.ADDFEATURE,i[a]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(En.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(En.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Xt.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Xt.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(He);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new rr(En.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const a=r.getGeometry();if(a instanceof Bn||a.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof Bn||r.intersectsExtent(e)){const a=t(i);if(a)return a}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),yo(this.nullGeometryFeatures_)||am(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=nw(e,t);return[].concat(...r.map(a=>this.featuresRtree_.getInExtent(a)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],r=e[1];let a=null;const l=[NaN,NaN];let u=1/0;const h=[-1/0,-1/0,1/0,1/0];return t=t||Ka,this.featuresRtree_.forEachInExtent(h,function(d){if(t(d)){const g=d.getGeometry(),p=u;if(u=g instanceof Bn?0:g.closestPointXY(i,r,l,u),u<p){a=d;const y=Math.sqrt(u);h[0]=i-y,h[1]=r-y,h[2]=i+y,h[3]=r+y}}}),a}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=Oe(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const l=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(l,t)):this.featuresRtree_&&this.featuresRtree_.update(l,t)}const a=t.getId();if(a!==void 0){const l=a.toString();this.idIndex_[l]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[l]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new rr(En.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Oe(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&yo(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const r=this.loadedExtentsRtree_,a=this.strategy_(e,t,i);for(let l=0,u=a.length;l<u;++l){const h=a[l];r.forEachInExtent(h,function(g){return Pa(g.extent,h)})||(++this.loadingExtentsCount_,this.dispatchEvent(new rr(En.FEATURESLOADSTART)),this.loader_.call(this,h,t,i,g=>{--this.loadingExtentsCount_,this.dispatchEvent(new rr(En.FEATURESLOADEND,void 0,g))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new rr(En.FEATURESLOADERROR))}),r.insert(h,{extent:h.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(Ya(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Oe(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(He),delete this.featureChangeKeys_[t];const r=e.getId();if(r!==void 0){const a=r.toString(),l=this.idIndex_[a];l===e?delete this.idIndex_[a]:Array.isArray(l)&&(l.splice(l.indexOf(e),1),l.length===1&&(this.idIndex_[a]=l[0]))}return delete this.uidIndex_[t],this.hasListener(En.REMOVEFEATURE)&&this.dispatchEvent(new rr(En.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Ne(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(wv(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}class Xn{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Xn({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=_c(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Se.IDLE&&t.load(),t.getImageState()===Se.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Oe(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Eo(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class Io{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Io({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}function Pv(n){return n[0]>0&&n[1]>0}function _L(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function qt(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}class $c{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=qt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new $c({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ae()}getImage(e){return Ae()}getHitDetectionImage(){return Ae()}getPixelRatio(e){return 1}getImageState(){return Ae()}getImageSize(){return Ae()}getOrigin(){return Ae()}getSize(){return Ae()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=qt(e)}listenImageChange(e){Ae()}load(){Ae()}unlistenImageChange(e){Ae()}ready(){return Promise.resolve()}}class Zc extends $c{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Se.LOADING:Se.LOADED,this.imageState_===Se.LOADING&&this.ready().then(()=>this.imageState_=Se.LOADED),this.render()}clone(){const e=this.getScale(),t=new Zc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=Pn.get(i,null,null)?.getImage(1);if(!r){const a=this.renderOptions_,l=Math.ceil(a.size*e),u=ct(l,l);this.draw_(a,u,e),r=u.canvas,Pn.set(i,null,null,new Pw(r,void 0,null,Se.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,a=this.radius2_===void 0?r:this.radius2_;if(r<a){const N=r;r=a,a=N}const l=this.radius2_===void 0?this.points_:this.points_*2,u=2*Math.PI/l,h=a*Math.sin(u),d=Math.sqrt(a*a-h*h),g=r-d,p=Math.sqrt(h*h+g*g),y=p/h;if(e==="miter"&&y<=i)return y*t;const v=t/2/y,x=t/2*(g/p),w=Math.sqrt((r+v)*(r+v)+x*x)-r;if(this.radius2_===void 0||e==="bevel")return w*2;const R=r*Math.sin(u),T=Math.sqrt(r*r-R*R),P=a-T,L=Math.sqrt(R*R+P*P)/R;if(L<=i){const N=L*t/2-a-r;return 2*Math.max(w,N)}return w*2}createRenderOptions(){let e=So,t=Co,i=0,r=null,a=0,l,u=0;this.stroke_&&(l=si(this.stroke_.getColor()??Za),u=this.stroke_.getWidth()??Qa,r=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??Co,e=this.stroke_.getLineCap()??So,i=this.stroke_.getMiterLimit()??$a);const h=this.calculateLineJoinSize_(t,u,i),d=Math.max(this.radius,this.radius2_||0),g=Math.ceil(2*d+h);return{strokeStyle:l,strokeWidth:u,size:g,lineCap:e,lineDash:r,lineDashOffset:a,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=Yt),t.fillStyle=si(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Eo(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=ct(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const a=this.angle_-Math.PI/2,l=2*Math.PI/t;for(let u=0;u<t;u++){const h=a+u*l,d=u%2===0?i:r;e.lineTo(d*Math.cos(h),d*Math.sin(h))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Yt,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class fs extends Zc{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new fs({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class kn{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Iv,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new kn({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Iv,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function vL(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(Ne(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}let _f=null;function Bw(n,e){if(!_f){const t=new Xn({color:"rgba(255,255,255,0.4)"}),i=new Io({color:"#3399CC",width:1.25});_f=[new kn({image:new fs({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return _f}function Iv(n){return n.getGeometry()}const xL="#333";class yl{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=qt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Xn({color:xL}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new yl({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()instanceof Xn?this.getFill().clone():this.getFill(),stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=qt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Pt={ANIMATING:0,INTERACTING:1},fe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Xu=[fe.FILL],pr=[fe.STROKE],es=[fe.BEGIN_PATH],kv=[fe.CLOSE_PATH];class _l extends Iw{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,a=this.coordinates;let l=a.length;for(let u=0,h=e.length;u<h;u+=t)r[0]=e[u],r[1]=e[u+1],vo(i,r)&&(a[l++]=r[0],a[l++]=r[1]);return l}appendFlatLineCoordinates(e,t,i,r,a,l){const u=this.coordinates;let h=u.length;const d=this.getBufferedMaxExtent();l&&(t+=r);let g=e[t],p=e[t+1];const y=this.tmpCoordinate_;let v=!0,x,S,w;for(x=t+r;x<i;x+=r)y[0]=e[x],y[1]=e[x+1],w=eg(d,y),w!==S?(v&&(u[h++]=g,u[h++]=p,v=!1),u[h++]=y[0],u[h++]=y[1]):w===gt.INTERSECTING?(u[h++]=y[0],u[h++]=y[1],v=!1):v=!0,g=y[0],p=y[1],S=w;return(a&&v||x===t+r)&&(u[h++]=g,u[h++]=p),h}drawCustomCoordinates_(e,t,i,r,a){for(let l=0,u=i.length;l<u;++l){const h=i[l],d=this.appendFlatLineCoordinates(e,t,h,r,!1,!1);a.push(d),t=h}return t}drawCustom(e,t,i,r,a){this.beginGeometry(e,t,a);const l=e.getType(),u=e.getStride(),h=this.coordinates.length;let d,g,p,y,v;switch(l){case"MultiPolygon":d=e.getOrientedFlatCoordinates(),y=[];const x=e.getEndss();v=0;for(let S=0,w=x.length;S<w;++S){const R=[];v=this.drawCustomCoordinates_(d,v,x[S],u,R),y.push(R)}this.instructions.push([fe.CUSTOM,h,y,e,i,cv,a]),this.hitDetectionInstructions.push([fe.CUSTOM,h,y,e,r||i,cv,a]);break;case"Polygon":case"MultiLineString":p=[],d=l=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),v=this.drawCustomCoordinates_(d,0,e.getEnds(),u,p),this.instructions.push([fe.CUSTOM,h,p,e,i,pc,a]),this.hitDetectionInstructions.push([fe.CUSTOM,h,p,e,r||i,pc,a]);break;case"LineString":case"Circle":d=e.getFlatCoordinates(),g=this.appendFlatLineCoordinates(d,0,d.length,u,!1,!1),this.instructions.push([fe.CUSTOM,h,g,e,i,ao,a]),this.hitDetectionInstructions.push([fe.CUSTOM,h,g,e,r||i,ao,a]);break;case"MultiPoint":d=e.getFlatCoordinates(),g=this.appendFlatPointCoordinates(d,u),g>h&&(this.instructions.push([fe.CUSTOM,h,g,e,i,ao,a]),this.hitDetectionInstructions.push([fe.CUSTOM,h,g,e,r||i,ao,a]));break;case"Point":d=e.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),g=this.coordinates.length,this.instructions.push([fe.CUSTOM,h,g,e,i,void 0,a]),this.hitDetectionInstructions.push([fe.CUSTOM,h,g,e,r||i,void 0,a]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[fe.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[fe.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let r,a,l=-1;for(t=0;t<i;++t)r=e[t],a=r[0],a==fe.END_GEOMETRY?l=t:a==fe.BEGIN_GEOMETRY&&(r[2]=t,dI(this.hitDetectionInstructions,l,t),l=-1)}fillStyleToState(e,t={}){if(e){const i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=si(i||Yt)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const i=e.getColor();t.strokeStyle=si(i||Za);const r=e.getLineCap();t.lineCap=r!==void 0?r:So;const a=e.getLineDash();t.lineDash=a?a.slice():Mi;const l=e.getLineDashOffset();t.lineDashOffset=l||Ai;const u=e.getLineJoin();t.lineJoin=u!==void 0?u:Co;const h=e.getWidth();t.lineWidth=h!==void 0?h:Qa;const d=e.getMiterLimit();t.miterLimit=d!==void 0?d:$a,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){const t=e.fillStyle,i=[fe.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[fe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,r=e.lineCap,a=e.lineDash,l=e.lineDashOffset,u=e.lineJoin,h=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||a!=e.currentLineDash&&!Tr(e.currentLineDash,a)||e.currentLineDashOffset!=l||e.currentLineJoin!=u||e.currentLineWidth!=h||e.currentMiterLimit!=d)&&(t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=a,e.currentLineDashOffset=l,e.currentLineJoin=u,e.currentLineWidth=h,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[fe.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=H1(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;lm(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class wL extends _l{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!vo(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length,u=this.appendFlatPointCoordinates(r,a);this.instructions.push([fe.DRAW_IMAGE,l,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([fe.DRAW_IMAGE,l,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),a=[];for(let h=0,d=r.length;h<d;h+=e.getStride())(!this.maxExtent||vo(this.maxExtent,r.slice(h,h+2)))&&a.push(r[h],r[h+1]);const l=this.coordinates.length,u=this.appendFlatPointCoordinates(a,2);this.instructions.push([fe.DRAW_IMAGE,l,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([fe.DRAW_IMAGE,l,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),r=e.getSize(),a=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class EL extends _l{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){const a=this.coordinates.length,l=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),u=[fe.MOVE_TO_LINE_TO,a,l];return this.instructions.push(u),this.hitDetectionInstructions.push(u),i}drawLineString(e,t,i){const r=this.state,a=r.strokeStyle,l=r.lineWidth;if(a===void 0||l===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Ai],es);const u=e.getFlatCoordinates(),h=e.getStride();this.drawFlatCoordinates_(u,0,u.length,h),this.hitDetectionInstructions.push(pr),this.endGeometry(t)}drawMultiLineString(e,t,i){const r=this.state,a=r.strokeStyle,l=r.lineWidth;if(a===void 0||l===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Ai],es);const u=e.getEnds(),h=e.getFlatCoordinates(),d=e.getStride();let g=0;for(let p=0,y=u.length;p<y;++p)g=this.drawFlatCoordinates_(h,g,u[p],d);this.hitDetectionInstructions.push(pr),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(pr),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(pr),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(es)}}class Lv extends _l{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){const a=this.state,l=a.fillStyle!==void 0,u=a.strokeStyle!==void 0,h=i.length;this.instructions.push(es),this.hitDetectionInstructions.push(es);for(let d=0;d<h;++d){const g=i[d],p=this.coordinates.length,y=this.appendFlatLineCoordinates(e,t,g,r,!0,!u),v=[fe.MOVE_TO_LINE_TO,p,y];this.instructions.push(v),this.hitDetectionInstructions.push(v),u&&(this.instructions.push(kv),this.hitDetectionInstructions.push(kv)),t=g}return l&&(this.instructions.push(Xu),this.hitDetectionInstructions.push(Xu)),u&&(this.instructions.push(pr),this.hitDetectionInstructions.push(pr)),t}drawCircle(e,t,i){const r=this.state,a=r.fillStyle,l=r.strokeStyle;if(a===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_FILL_STYLE,Yt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Ai]);const u=e.getFlatCoordinates(),h=e.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(u,0,u.length,h,!1,!1);const g=[fe.CIRCLE,d];this.instructions.push(es,g),this.hitDetectionInstructions.push(es,g),r.fillStyle!==void 0&&(this.instructions.push(Xu),this.hitDetectionInstructions.push(Xu)),r.strokeStyle!==void 0&&(this.instructions.push(pr),this.hitDetectionInstructions.push(pr)),this.endGeometry(t)}drawPolygon(e,t,i){const r=this.state,a=r.fillStyle,l=r.strokeStyle;if(a===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_FILL_STYLE,Yt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Ai]);const u=e.getEnds(),h=e.getOrientedFlatCoordinates(),d=e.getStride();this.drawFlatCoordinatess_(h,0,u,d),this.endGeometry(t)}drawMultiPolygon(e,t,i){const r=this.state,a=r.fillStyle,l=r.strokeStyle;if(a===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_FILL_STYLE,Yt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Ai]);const u=e.getEndss(),h=e.getOrientedFlatCoordinates(),d=e.getStride();let g=0;for(let p=0,y=u.length;p<y;++p)g=this.drawFlatCoordinatess_(h,g,u[p],d);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Yr(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function SL(n,e,t,i,r){const a=[];let l=t,u=0,h=e.slice(t,2);for(;u<n&&l+r<i;){const[d,g]=h.slice(-2),p=e[l+r],y=e[l+r+1],v=Math.sqrt((p-d)*(p-d)+(y-g)*(y-g));if(u+=v,u>=n){const x=(n-u+v)/v,S=ln(d,p,x),w=ln(g,y,x);h.push(S,w),a.push(h),h=[S,w],u==n&&(l+=r),u=0}else if(u<n)h.push(e[l+r],e[l+r+1]),l+=r;else{const x=v-u,S=ln(d,p,x/v),w=ln(g,y,x/v);h.push(S,w),a.push(h),h=[S,w],u=0,l+=r}}return u>0&&a.push(h),a}function CL(n,e,t,i,r){let a=t,l=t,u=0,h=0,d=t,g,p,y,v,x,S,w,R,T,P;for(p=t;p<i;p+=r){const I=e[p],L=e[p+1];x!==void 0&&(T=I-x,P=L-S,v=Math.sqrt(T*T+P*P),w!==void 0&&(h+=y,g=Math.acos((w*T+R*P)/(y*v)),g>n&&(h>u&&(u=h,a=d,l=p),h=0,d=p-r)),y=v,w=T,R=P),x=I,S=L}return h+=v,h>u?[d,p]:[a,l]}const xc={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class TL extends _l{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Yt]={fillStyle:Yt},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const r=this.textFillState_,a=this.textStrokeState_,l=this.textState_;if(this.text_===""||!l||!r&&!a)return;const u=this.coordinates;let h=u.length;const d=e.getType();let g=null,p=e.getStride();if(l.placement==="line"&&(d=="LineString"||d=="MultiLineString"||d=="Polygon"||d=="MultiPolygon")){if(!$t(this.maxExtent,e.getExtent()))return;let y;if(g=e.getFlatCoordinates(),d=="LineString")y=[g.length];else if(d=="MultiLineString")y=e.getEnds();else if(d=="Polygon")y=e.getEnds().slice(0,1);else if(d=="MultiPolygon"){const w=e.getEndss();y=[];for(let R=0,T=w.length;R<T;++R)y.push(w[R][0])}this.beginGeometry(e,t,i);const v=l.repeat,x=v?void 0:l.textAlign;let S=0;for(let w=0,R=y.length;w<R;++w){let T;v?T=SL(v*this.resolution,g,S,y[w],p):T=[g.slice(S,y[w])];for(let P=0,I=T.length;P<I;++P){const L=T[P];let N=0,V=L.length;if(x==null){const U=CL(l.maxAngle,L,0,L.length,2);N=U[0],V=U[1]}for(let U=N;U<V;U+=p)u.push(L[U],L[U+1]);const j=u.length;S=y[w],this.drawChars_(h,j),h=j}}this.endGeometry(t)}else{let y=l.overflow?null:[];switch(d){case"Point":case"MultiPoint":g=e.getFlatCoordinates();break;case"LineString":g=e.getFlatMidpoint();break;case"Circle":g=e.getCenter();break;case"MultiLineString":g=e.getFlatMidpoints(),p=2;break;case"Polygon":g=e.getFlatInteriorPoint(),l.overflow||y.push(g[2]/this.resolution),p=3;break;case"MultiPolygon":const I=e.getFlatInteriorPoints();g=[];for(let L=0,N=I.length;L<N;L+=3)l.overflow||y.push(I[L+2]/this.resolution),g.push(I[L],I[L+1]);if(g.length===0)return;p=2;break}const v=this.appendFlatPointCoordinates(g,p);if(v===h)return;if(y&&(v-h)/2!==g.length/p){let I=h/2;y=y.filter((L,N)=>{const V=u[(I+N)*2]===g[N*p]&&u[(I+N)*2+1]===g[N*p+1];return V||--I,V})}this.saveTextStates_();const x=l.backgroundFill?this.createFill(this.fillStyleToState(l.backgroundFill)):null,S=l.backgroundStroke?this.createStroke(this.strokeStyleToState(l.backgroundStroke)):null;this.beginGeometry(e,t,i);let w=l.padding;if(w!=Jr&&(l.scale[0]<0||l.scale[1]<0)){let I=l.padding[0],L=l.padding[1],N=l.padding[2],V=l.padding[3];l.scale[0]<0&&(L=-L,V=-V),l.scale[1]<0&&(I=-I,N=-N),w=[I,L,N,V]}const R=this.pixelRatio;this.instructions.push([fe.DRAW_IMAGE,h,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,w==Jr?Jr:w.map(function(I){return I*R}),x,S,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]);const T=1/R,P=x?x.slice(0):null;P&&(P[1]=Yt),this.hitDetectionInstructions.push([fe.DRAW_IMAGE,h,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[T,T],NaN,this.declutterMode_,this.declutterImageWithText_,w,P,S,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Yt:this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const a=this.textKey_;a in this.textStates||(this.textStates[a]={font:t.font,textAlign:t.textAlign||qa,justify:t.justify,textBaseline:t.textBaseline||vc,scale:t.scale});const l=this.fillKey_;i&&(l in this.fillStates||(this.fillStates[l]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,r=this.textState_,a=this.strokeKey_,l=this.textKey_,u=this.fillKey_;this.saveTextStates_();const h=this.pixelRatio,d=xc[r.textBaseline],g=this.textOffsetY_*h,p=this.text_,y=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([fe.DRAW_CHARS,e,t,d,r.overflow,u,r.maxAngle,h,g,a,y*h,p,l,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([fe.DRAW_CHARS,e,t,d,r.overflow,u&&Yt,r.maxAngle,h,g,a,y*h,p,l,1/h,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,a;if(!e)this.text_="";else{const l=e.getFill();l?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=si(l.getColor()||Yt)):(r=null,this.textFillState_=r);const u=e.getStroke();if(!u)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);const S=u.getLineDash(),w=u.getLineDashOffset(),R=u.getWidth(),T=u.getMiterLimit();a.lineCap=u.getLineCap()||So,a.lineDash=S?S.slice():Mi,a.lineDashOffset=w===void 0?Ai:w,a.lineJoin=u.getLineJoin()||Co,a.lineWidth=R===void 0?Qa:R,a.miterLimit=T===void 0?$a:T,a.strokeStyle=si(u.getColor()||Za)}i=this.textState_;const h=e.getFont()||kw;Gk(h);const d=e.getScaleArray();i.overflow=e.getOverflow(),i.font=h,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||vc,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Jr,i.scale=d===void 0?[1,1]:d;const g=e.getOffsetX(),p=e.getOffsetY(),y=e.getRotateWithView(),v=e.getKeepUpright(),x=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=g===void 0?0:g,this.textOffsetY_=p===void 0?0:p,this.textRotateWithView_=y===void 0?!1:y,this.textKeepUpright_=v===void 0?!0:v,this.textRotation_=x===void 0?0:x,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Oe(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Oe(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const RL={Circle:Lv,Default:_l,Image:wL,LineString:EL,Polygon:Lv,Text:TL};class PL{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const r in i){const a=i[r].finish();e[t][r]=a}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let a=r[t];if(a===void 0){const l=RL[t];a=new l(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=a}return a}}function IL(n,e,t,i,r,a,l,u,h,d,g,p,y=!0){let v=n[e],x=n[e+1],S=0,w=0,R=0,T=0;function P(){S=v,w=x,e+=i,v=n[e],x=n[e+1],T+=R,R=Math.sqrt((v-S)*(v-S)+(x-w)*(x-w))}do P();while(e<t-i&&T+R<a);let I=R===0?0:(a-T)/R;const L=ln(S,v,I),N=ln(w,x,I),V=e-i,j=T,U=a+u*h(d,r,g);for(;e<t-i&&T+R<U;)P();I=R===0?0:(U-T)/R;const $=ln(S,v,I),re=ln(w,x,I);let ee=!1;if(y)if(p){const J=[L,N,$,re];fw(J,0,4,2,p,J,J),ee=J[0]>J[2]}else ee=L>$;const Q=Math.PI,te=[],le=V+i===e;e=V,R=0,T=j,v=n[e],x=n[e+1];let ne;if(le){P(),ne=Math.atan2(x-w,v-S),ee&&(ne+=ne>0?-Q:Q);const J=($+L)/2,B=(re+N)/2;return te[0]=[J,B,(U-a)/2,ne,r],te}r=r.replace(/\n/g," ");for(let J=0,B=r.length;J<B;){P();let Z=Math.atan2(x-w,v-S);if(ee&&(Z+=Z>0?-Q:Q),ne!==void 0){let he=Z-ne;if(he+=he>Q?-2*Q:he<-Q?2*Q:0,Math.abs(he)>l)return null}ne=Z;const K=J;let A=0;for(;J<B;++J){const he=ee?B-J-1:J,xe=u*h(d,r[he],g);if(e+i<t&&T+R<a+A+xe/2)break;A+=xe}if(J===K)continue;const O=ee?r.substring(B-K,B-J):r.substring(K,J);I=R===0?0:(a+A/2-T)/R;const ce=ln(S,v,I),de=ln(w,x,I);te.push([ce,de,A/2,Z,O]),a+=A}return te}class Gw{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(yc(),{get:(e,t)=>{if(typeof yc()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,i)=>(this.push_(t,i),!0)})}push_(...e){const t=this.instructions_,i=this.zIndex+this.offset_;t[i]||(t[i]=[]),t[i].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){const a=t[i];if(typeof a=="function"){a(e);continue}const l=t[++i];if(typeof e[a]=="function")e[a](...l);else{if(typeof l=="function"){e[a]=l(e);continue}e[a]=l}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Xs=Ln(),sr=[],Ci=[],Ti=[],or=[];function Mv(n){return n[3].declutterBox}const Av=new RegExp("[-----]");function vf(n,e){return e==="start"?e=Av.test(n)?"right":"left":e==="end"&&(e=Av.test(n)?"left":"right"),xc[e]}function kL(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}function LL(n,e,t){return t%2===0&&(n+=e),n}class ML{constructor(e,t,i,r,a){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Kn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=a?new Gw:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){const a=e+t+i+r;if(this.labels_[a])return this.labels_[a];const l=r?this.strokeStates[r]:null,u=i?this.fillStates[i]:null,h=this.textStates[t],d=this.pixelRatio,g=[h.scale[0]*d,h.scale[1]*d],p=h.justify?xc[h.justify]:vf(Array.isArray(e)?e[0]:e,h.textAlign||qa),y=r&&l.lineWidth?l.lineWidth:0,v=Array.isArray(e)?e:String(e).split(`
`).reduce(kL,[]),{width:x,height:S,widths:w,heights:R,lineWidths:T}=Uk(h,v),P=x+y,I=[],L=(P+2)*g[0],N=(S+y)*g[1],V={width:L<0?Math.floor(L):Math.ceil(L),height:N<0?Math.floor(N):Math.ceil(N),contextInstructions:I};(g[0]!=1||g[1]!=1)&&I.push("scale",g),r&&(I.push("strokeStyle",l.strokeStyle),I.push("lineWidth",y),I.push("lineCap",l.lineCap),I.push("lineJoin",l.lineJoin),I.push("miterLimit",l.miterLimit),I.push("setLineDash",[l.lineDash]),I.push("lineDashOffset",l.lineDashOffset)),i&&I.push("fillStyle",u.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");const j=.5-p;let U=p*P+j*y;const $=[],re=[];let ee=0,Q=0,te=0,le=0,ne;for(let J=0,B=v.length;J<B;J+=2){const Z=v[J];if(Z===`
`){Q+=ee,ee=0,U=p*P+j*y,++le;continue}const K=v[J+1]||h.font;K!==ne&&(r&&$.push("font",K),i&&re.push("font",K),ne=K),ee=Math.max(ee,R[te]);const A=[Z,U+j*w[te]+p*(w[te]-T[le]),.5*(y+ee)+Q];U+=w[te],r&&$.push("strokeText",A),i&&re.push("fillText",A),++te}return Array.prototype.push.apply(I,$),Array.prototype.push.apply(I,re),this.labels_[a]=V,V}replayTextBackground_(e,t,i,r,a,l,u){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,a),e.lineTo.apply(e,t),l&&(this.alignAndScaleFill_=l[2],e.fillStyle=l[1],this.fill_(e)),u&&(this.setStrokeStyle_(e,u),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,a,l,u,h,d,g,p,y,v,x,S,w){u*=y[0],h*=y[1];let R=i-u,T=r-h;const P=a+d>e?e-d:a,I=l+g>t?t-g:l,L=x[3]+P*y[0]+x[1],N=x[0]+I*y[1]+x[2],V=R-x[3],j=T-x[0];(S||p!==0)&&(sr[0]=V,or[0]=V,sr[1]=j,Ci[1]=j,Ci[0]=V+L,Ti[0]=Ci[0],Ti[1]=j+N,or[1]=Ti[1]);let U;return p!==0?(U=Oi(Kn(),i,r,1,1,p,-i,-r),mt(U,sr),mt(U,Ci),mt(U,Ti),mt(U,or),Er(Math.min(sr[0],Ci[0],Ti[0],or[0]),Math.min(sr[1],Ci[1],Ti[1],or[1]),Math.max(sr[0],Ci[0],Ti[0],or[0]),Math.max(sr[1],Ci[1],Ti[1],or[1]),Xs)):Er(Math.min(V,V+L),Math.min(j,j+N),Math.max(V,V+L),Math.max(j,j+N),Xs),v&&(R=Math.round(R),T=Math.round(T)),{drawImageX:R,drawImageY:T,drawImageW:P,drawImageH:I,originX:d,originY:g,declutterBox:{minX:Xs[0],minY:Xs[1],maxX:Xs[2],maxY:Xs[3],value:w},canvasTransform:U,scale:y}}replayImageOrLabel_(e,t,i,r,a,l,u){const h=!!(l||u),d=r.declutterBox,g=u?u[2]*r.scale[0]/2:0;return d.minX-g<=t[0]&&d.maxX+g>=0&&d.minY-g<=t[1]&&d.maxY+g>=0&&(h&&this.replayTextBackground_(e,sr,Ci,Ti,or,l,u),Kk(e,r.canvasTransform,a,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=mt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,i,r){const a=this.textStates[t],l=this.createLabel(e,t,r,i),u=this.strokeStates[i],h=this.pixelRatio,d=vf(Array.isArray(e)?e[0]:e,a.textAlign||qa),g=xc[a.textBaseline||vc],p=u&&u.lineWidth?u.lineWidth:0,y=l.width/h-2*a.scale[0],v=d*y+2*(.5-d)*p,x=g*l.height/h+2*(.5-g)*p;return{label:l,anchorX:v,anchorY:x}}execute_(e,t,i,r,a,l,u,h){const d=this.zIndexContext_;let g;this.pixelCoordinates_&&Tr(i,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=_r(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),ik(this.renderedTransform_,i));let p=0;const y=r.length;let v=0,x,S,w,R,T,P,I,L,N,V,j,U,$,re=0,ee=0;const Q=this.coordinateCache_,te=this.viewRotation_,le=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,ne={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:te},J=this.instructions!=r||this.overlaps?0:200;let B,Z,K,A;for(;p<y;){const O=r[p];switch(O[0]){case fe.BEGIN_GEOMETRY:B=O[1],A=O[3],B.getGeometry()?u!==void 0&&!$t(u,A.getExtent())?p=O[2]+1:++p:p=O[2],d&&(d.zIndex=O[4]);break;case fe.BEGIN_PATH:re>J&&(this.fill_(e),re=0),ee>J&&(e.stroke(),ee=0),!re&&!ee&&(e.beginPath(),T=NaN,P=NaN),++p;break;case fe.CIRCLE:v=O[1];const de=g[v],he=g[v+1],xe=g[v+2],we=g[v+3],Te=xe-de,Pe=we-he,Ge=Math.sqrt(Te*Te+Pe*Pe);e.moveTo(de+Ge,he),e.arc(de,he,Ge,0,2*Math.PI,!0),++p;break;case fe.CLOSE_PATH:e.closePath(),++p;break;case fe.CUSTOM:v=O[1],x=O[2];const hi=O[3],ps=O[4],Hn=O[5];ne.geometry=hi,ne.feature=B,p in Q||(Q[p]=[]);const Mn=Q[p];Hn?Hn(g,v,x,2,Mn):(Mn[0]=g[v],Mn[1]=g[v+1],Mn.length=2),d&&(d.zIndex=O[6]),ps(Mn,ne),++p;break;case fe.DRAW_IMAGE:v=O[1],x=O[2],N=O[3],S=O[4],w=O[5];let kt=O[6];const Jt=O[7],$n=O[8],di=O[9],fi=O[10];let en=O[11];const tn=O[12];let Zn=O[13];R=O[14]||"declutter";const nt=O[15];if(!N&&O.length>=20){V=O[19],j=O[20],U=O[21],$=O[22];const Lt=this.drawLabelWithPointPlacement_(V,j,U,$);N=Lt.label,O[3]=N;const qn=O[23];S=(Lt.anchorX-qn)*this.pixelRatio,O[4]=S;const Mt=O[24];w=(Lt.anchorY-Mt)*this.pixelRatio,O[5]=w,kt=N.height,O[6]=kt,Zn=N.width,O[13]=Zn}let ys;O.length>25&&(ys=O[25]);let _s,Rr,Fi;O.length>17?(_s=O[16],Rr=O[17],Fi=O[18]):(_s=Jr,Rr=null,Fi=null),fi&&le?en+=te:!fi&&!le&&(en-=te);let vs=0;for(;v<x;v+=2){if(ys&&ys[vs++]<Zn/this.pixelRatio)continue;const Lt=this.calculateImageOrLabelDimensions_(N.width,N.height,g[v],g[v+1],Zn,kt,S,w,$n,di,en,tn,a,_s,!!Rr||!!Fi,B),qn=[e,t,N,Lt,Jt,Rr,Fi];if(h){let Mt,zt,At;if(nt){const Ve=x-v;if(!nt[Ve]){nt[Ve]={args:qn,declutterMode:R};continue}const pt=nt[Ve];Mt=pt.args,zt=pt.declutterMode,delete nt[Ve],At=Mv(Mt)}let Dt,nn;if(Mt&&(zt!=="declutter"||!h.collides(At))&&(Dt=!0),(R!=="declutter"||!h.collides(Lt.declutterBox))&&(nn=!0),zt==="declutter"&&R==="declutter"){const Ve=Dt&&nn;Dt=Ve,nn=Ve}Dt&&(zt!=="none"&&h.insert(At),this.replayImageOrLabel_.apply(this,Mt)),nn&&(R!=="none"&&h.insert(Lt.declutterBox),this.replayImageOrLabel_.apply(this,qn))}else this.replayImageOrLabel_.apply(this,qn)}++p;break;case fe.DRAW_CHARS:const Ao=O[1],ji=O[2],gi=O[3],sh=O[4];$=O[5];const Tl=O[6],Do=O[7],Rl=O[8];U=O[9];const Pr=O[10];V=O[11],Array.isArray(V)&&(V=V.reduce(LL,"")),j=O[12];const xs=[O[13],O[13]];R=O[14]||"declutter";const Oo=O[15],Ir=this.textStates[j],mi=Ir.font,fn=[Ir.scale[0]*Do,Ir.scale[1]*Do];let gn;mi in this.widths_?gn=this.widths_[mi]:(gn={},this.widths_[mi]=gn);const bo=yk(g,Ao,ji,2),No=Math.abs(fn[0])*_v(mi,V,gn);if(sh||No<=bo){const Lt=this.textStates[j].textAlign,qn=(bo-No)*vf(V,Lt),Mt=IL(g,Ao,ji,2,V,qn,Tl,Math.abs(fn[0]),_v,mi,gn,le?0:this.viewRotation_,Oo);e:if(Mt){const zt=[];let At,Dt,nn,Ve,pt;if(U)for(At=0,Dt=Mt.length;At<Dt;++At){pt=Mt[At],nn=pt[4],Ve=this.createLabel(nn,j,"",U),S=pt[2]+(fn[0]<0?-Pr:Pr),w=gi*Ve.height+(.5-gi)*2*Pr*fn[1]/fn[0]-Rl;const Ot=this.calculateImageOrLabelDimensions_(Ve.width,Ve.height,pt[0],pt[1],Ve.width,Ve.height,S,w,0,0,pt[3],xs,!1,Jr,!1,B);if(h&&R==="declutter"&&h.collides(Ot.declutterBox))break e;zt.push([e,t,Ve,Ot,1,null,null])}if($)for(At=0,Dt=Mt.length;At<Dt;++At){pt=Mt[At],nn=pt[4],Ve=this.createLabel(nn,j,$,""),S=pt[2],w=gi*Ve.height-Rl;const Ot=this.calculateImageOrLabelDimensions_(Ve.width,Ve.height,pt[0],pt[1],Ve.width,Ve.height,S,w,0,0,pt[3],xs,!1,Jr,!1,B);if(h&&R==="declutter"&&h.collides(Ot.declutterBox))break e;zt.push([e,t,Ve,Ot,1,null,null])}h&&R!=="none"&&h.load(zt.map(Mv));for(let Ot=0,ws=zt.length;Ot<ws;++Ot)this.replayImageOrLabel_.apply(this,zt[Ot])}}++p;break;case fe.END_GEOMETRY:if(l!==void 0){B=O[1];const Lt=l(B,A,R);if(Lt)return Lt}++p;break;case fe.FILL:J?re++:this.fill_(e),++p;break;case fe.MOVE_TO_LINE_TO:for(v=O[1],x=O[2],Z=g[v],K=g[v+1],e.moveTo(Z,K),T=Z+.5|0,P=K+.5|0,v+=2;v<x;v+=2)Z=g[v],K=g[v+1],I=Z+.5|0,L=K+.5|0,(v==x-2||I!==T||L!==P)&&(e.lineTo(Z,K),T=I,P=L);++p;break;case fe.SET_FILL_STYLE:this.alignAndScaleFill_=O[2],re&&(this.fill_(e),re=0,ee&&(e.stroke(),ee=0)),e.fillStyle=O[1],++p;break;case fe.SET_STROKE_STYLE:ee&&(e.stroke(),ee=0),this.setStrokeStyle_(e,O),++p;break;case fe.STROKE:J?ee++:e.stroke(),++p;break;default:++p;break}}re&&this.fill_(e),ee&&e.stroke()}execute(e,t,i,r,a,l){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,a,void 0,void 0,l)}executeHitDetection(e,t,i,r,a){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,a)}}const $r=["Polygon","Circle","LineString","Image","Text","Default"],Ww=["Image","Text"],AL=$r.filter(n=>!Ww.includes(n));class DL{constructor(e,t,i,r,a,l,u){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=l,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Kn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(a,u)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const a=e[i];for(const l in a){const u=a[l];r[l]=new ML(this.resolution_,this.pixelRatio_,this.overlaps_,u,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let r=0,a=e.length;r<a;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,a,l){r=Math.round(r);const u=r*2+1,h=Oi(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=ct(u,u));const g=this.hitDetectionContext_;g.canvas.width!==u||g.canvas.height!==u?(g.canvas.width=u,g.canvas.height=u):d||g.clearRect(0,0,u,u);let p;this.renderBuffer_!==void 0&&(p=Ln(),ja(p,e),lm(p,t*(this.renderBuffer_+r),p));const y=OL(r);let v;function x(L,N,V){const j=g.getImageData(0,0,u,u).data;for(let U=0,$=y.length;U<$;U++)if(j[y[U]]>0){if(!l||V==="none"||v!=="Image"&&v!=="Text"||l.includes(L)){const re=(y[U]-3)/4,ee=r-re%u,Q=r-(re/u|0),te=a(L,N,ee*ee+Q*Q);if(te)return te}g.clearRect(0,0,u,u);break}}const S=Object.keys(this.executorsByZIndex_).map(Number);S.sort(Li);let w,R,T,P,I;for(w=S.length-1;w>=0;--w){const L=S[w].toString();for(T=this.executorsByZIndex_[L],R=$r.length-1;R>=0;--R)if(v=$r[R],P=T[v],P!==void 0&&(I=P.executeHitDetection(g,h,i,x,p),I))return I}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],r=t[1],a=t[2],l=t[3],u=[i,r,i,l,a,l,a,r];return _r(u,0,8,2,e,u),u}isEmpty(){return yo(this.executorsByZIndex_)}execute(e,t,i,r,a,l,u){const h=Object.keys(this.executorsByZIndex_).map(Number);h.sort(u?hI:Li),l=l||$r;const d=$r.length;for(let g=0,p=h.length;g<p;++g){const y=h[g].toString(),v=this.executorsByZIndex_[y];for(let x=0,S=l.length;x<S;++x){const w=l[x],R=v[w];if(R!==void 0){const T=u===null?void 0:R.getZIndexContext(),P=T?T.getContext():e,I=this.maxExtent_&&w!=="Image"&&w!=="Text";if(I&&(P.save(),this.clip(P,i)),!T||w==="Text"||w==="Image"?R.execute(P,t,i,r,a,u):T.pushFunction(L=>R.execute(L,t,i,r,a,u)),I&&P.restore(),T){T.offset();const L=h[g]*d+$r.indexOf(w);this.deferredZIndexContexts_[L]||(this.deferredZIndexContexts_[L]=[]),this.deferredZIndexContexts_[L].push(T)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Li);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(a=>{a.draw(this.renderedContext_),a.clear()}),e[t[i]].length=0}}const xf={};function OL(n){if(xf[n]!==void 0)return xf[n];const e=n*2+1,t=n*n,i=new Array(t+1);for(let a=0;a<=n;++a)for(let l=0;l<=n;++l){const u=a*a+l*l;if(u>t)break;let h=i[u];h||(h=[],i[u]=h),h.push(((n+a)*e+(n+l))*4+3),a>0&&h.push(((n-a)*e+(n+l))*4+3),l>0&&(h.push(((n+a)*e+(n-l))*4+3),a>0&&h.push(((n-a)*e+(n-l))*4+3))}const r=[];for(let a=0,l=i.length;a<l;++a)i[a]&&r.push(...i[a]);return xf[n]=r,r}function Dv(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}let km=class Uw extends $c{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,a=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:a,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const l=e.img!==void 0?e.img:null;let u=e.src;Ne(!(u!==void 0&&l),"`image` and `src` cannot be provided at the same time"),(u===void 0||u.length===0)&&l&&(u=l.src||Oe(l)),Ne(u!==void 0&&u.length>0,"A defined and non-empty `src` or `image` must be provided"),Ne(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let h;if(e.src!==void 0?h=Se.IDLE:l!==void 0&&("complete"in l?l.complete?h=l.src?Se.LOADED:Se.IDLE:h=Se.LOADING:h=Se.LOADED),this.color_=e.color!==void 0?Eo(e.color):null,this.iconImage_=_c(l,u,this.crossOrigin_,h,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let d,g;if(e.size)[d,g]=e.size;else{const p=this.getImage(1);if(p.width&&p.height)d=p.width,g=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=e;const y=()=>{if(this.unlistenImageChange(y),!this.initialOptions_)return;const v=this.iconImage_.getSize();this.setScale(Dv(v[0],v[1],e.width,e.height))};this.listenImageChange(y);return}}d!==void 0&&this.setScale(Dv(d,g,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Uw({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}setSrc(e){this.iconImage_=_c(null,e,this.crossOrigin_,Se.IDLE,this.color_)}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Se.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Se.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ce.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ce.CHANGE,e)}ready(){return this.iconImage_.ready()}};const ii=.5;function bL(n,e,t,i,r,a,l,u,h){const d=r,g=n[0]*ii,p=n[1]*ii,y=ct(g,p);y.imageSmoothingEnabled=!1;const v=y.canvas,x=new Yk(y,ii,r,null,l,u,null),S=t.length,w=Math.floor((256*256*256-1)/S),R={};for(let P=1;P<=S;++P){const I=t[P-1],L=I.getStyleFunction()||i;if(!L)continue;let N=L(I,a);if(!N)continue;Array.isArray(N)||(N=[N]);const j=(P*w).toString(16).padStart(7,"#00000");for(let U=0,$=N.length;U<$;++U){const re=N[U],ee=re.getGeometryFunction()(I);if(!ee||!$t(d,ee.getExtent()))continue;const Q=re.clone(),te=Q.getFill();te&&te.setColor(j);const le=Q.getStroke();le&&(le.setColor(j),le.setLineDash(null)),Q.setText(void 0);const ne=re.getImage();if(ne){const K=ne.getImageSize();if(!K)continue;const A=ct(K[0],K[1],void 0,{alpha:!1}),O=A.canvas;A.fillStyle=j,A.fillRect(0,0,O.width,O.height),Q.setImage(new km({img:O,anchor:ne.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ne.getOrigin(),opacity:1,size:ne.getSize(),scale:ne.getScale(),rotation:ne.getRotation(),rotateWithView:ne.getRotateWithView()}))}const J=Q.getZIndex()||0;let B=R[J];B||(B={},R[J]=B,B.Polygon=[],B.Circle=[],B.LineString=[],B.Point=[]);const Z=ee.getType();if(Z==="GeometryCollection"){const K=ee.getGeometriesArrayRecursive();for(let A=0,O=K.length;A<O;++A){const ce=K[A];B[ce.getType().replace("Multi","")].push(ce,Q)}}else B[Z.replace("Multi","")].push(ee,Q)}}const T=Object.keys(R).map(Number).sort(Li);for(let P=0,I=T.length;P<I;++P){const L=R[T[P]];for(const N in L){const V=L[N];for(let j=0,U=V.length;j<U;j+=2){x.setStyle(V[j+1]);for(let $=0,re=e.length;$<re;++$)x.setTransform(e[$]),x.drawGeometry(V[j])}}}return y.getImageData(0,0,v.width,v.height)}function NL(n,e,t){const i=[];if(t){const r=Math.floor(Math.round(n[0])*ii),a=Math.floor(Math.round(n[1])*ii),l=(Qe(r,0,t.width-1)+Qe(a,0,t.height-1)*t.width)*4,u=t.data[l],h=t.data[l+1],g=t.data[l+2]+256*(h+256*u),p=Math.floor((256*256*256-1)/e.length);g&&g%p===0&&i.push(e[g/p-1])}return i}class Kw extends bi{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}}const FL=5;class jL extends fl{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=FL}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Ae()}getData(e){return null}prepareFrame(e){return Ae()}renderFrame(e,t){return Ae()}forEachFeatureAtCoordinate(e,t,i,r,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Se.LOADED||t.getState()===Se.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Se.LOADED&&t!=Se.ERROR&&e.addEventListener(Ce.CHANGE,this.boundHandleImageChange_),t==Se.IDLE&&(e.load(),t=e.getState()),t==Se.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Ov=[];let Js=null;function zL(){Js=ct(1,1,void 0,{willReadFrequently:!0})}class Xw extends jL{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Kn(),this.pixelTransform=Kn(),this.inversePixelTransform=Kn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){Js||zL(),Js.clearRect(0,0,1,1);let r;try{Js.drawImage(e,t,i,1,1,0,0,1,1),r=Js.getImageData(0,0,1,1).data}catch{return Js=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let a,l;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Tr(Eo(e.style.backgroundColor),Eo(i)))){const u=e.firstElementChild;mr(u)&&(l=u.getContext("2d"))}if(l&&ak(l.canvas.style.transform,t)?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=un?Tw():document.createElement("div"),a.className=r;let u=a.style;u.position="absolute",u.width="100%",u.height="100%",l=ct();const h=l.canvas;a.appendChild(h),u=h.style,u.position="absolute",u.left="0",u.transformOrigin="top left",this.container=a,this.context=l}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=ds(i),a=Wc(i),l=Gc(i),u=Bc(i);mt(t.coordinateToPixelTransform,r),mt(t.coordinateToPixelTransform,a),mt(t.coordinateToPixelTransform,l),mt(t.coordinateToPixelTransform,u);const h=this.inversePixelTransform;mt(h,r),mt(h,a),mt(h,l),mt(h,u),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.clip()}prepareContainer(e,t){const i=e.extent,r=e.viewState.resolution,a=e.viewState.rotation,l=e.pixelRatio,u=Math.round(ze(i)/r*l),h=Math.round(jt(i)/r*l);Oi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,a,-u/2,-h/2),dw(this.inversePixelTransform,this.pixelTransform);const d=ok(this.pixelTransform);if(this.useContainer(t,d,this.getBackground(e)),!this.containerReused){const g=this.context.canvas;g.width!=u||g.height!=h?(g.width=u,g.height=h):this.context.clearRect(0,0,u,h),d!==g.style.transform&&(g.style.transform=d)}}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const a=new Kw(e,this.inversePixelTransform,i,t);r.dispatchEvent(a)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Rn.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Rn.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Gw),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Rn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Rn.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,a,l,u){const h=a/2,d=l/2,g=r/t,p=-g,y=-e[0]+u,v=-e[1];return Oi(this.tempTransform,h,d,g,p,-i,y,v)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class VL extends Xw{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Ln(),this.wrappedRenderedExtent_=Ln(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const r=t.extent,a=t.viewState,l=a.center,u=a.resolution,h=a.projection,d=a.rotation,g=h.getExtent(),p=this.getLayer().getSource(),y=this.getLayer().getDeclutter(),v=t.pixelRatio,x=t.viewHints,S=!(x[Pt.ANIMATING]||x[Pt.INTERACTING]),w=this.context,R=Math.round(ze(r)/u*v),T=Math.round(jt(r)/u*v),P=p.getWrapX()&&h.canWrapX(),I=P?ze(g):null,L=P?Math.ceil((r[2]-g[2])/I)+1:1;let N=P?Math.floor((r[0]-g[0])/I):0;do{let V=this.getRenderTransform(l,u,0,v,R,T,N*I);t.declutter&&(V=V.slice(0)),e.execute(w,[w.canvas.width,w.canvas.height],V,d,S,i===void 0?$r:i?Ww:AL,i?y&&t.declutter[y]:void 0)}while(++N<L)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ct(this.context.canvas.width,this.context.canvas.height,Ov))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Hc(this.context),Ov.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,t);const a=this.context,l=this.replayGroup_;let u=l&&!l.isEmpty();if(!u&&!(this.getLayer().hasListener(Rn.PRERENDER)||this.getLayer().hasListener(Rn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(a,e),r.projection,this.clipped_=!1,u&&i.extent&&this.clipping){const h=gr(i.extent);u=$t(h,e.extent),this.clipped_=u&&!Pa(h,e.extent),this.clipped_&&this.clipUnrotated(a,e,h)}return u&&this.renderWorlds(l,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&a.restore(),this.postRender(a,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,a=this.renderedResolution_,l=this.renderedRotation_,u=this.renderedProjection_,h=this.wrappedRenderedExtent_,d=this.getLayer(),g=[],p=i[0]*ii,y=i[1]*ii;g.push(this.getRenderTransform(r,a,l,ii,p,y,0).slice());const v=d.getSource(),x=u.getExtent();if(v.getWrapX()&&u.canWrapX()&&!Pa(x,h)){let S=h[0];const w=ze(x);let R=0,T;for(;S<x[0];)--R,T=w*R,g.push(this.getRenderTransform(r,a,l,ii,p,y,T).slice()),S+=w;for(R=0,S=h[2];S>x[2];)++R,T=w*R,g.push(this.getRenderTransform(r,a,l,ii,p,y,T).slice()),S-=w}this.hitDetectionImageData_=bL(i,g,this.renderedFeatures_,d.getStyleFunction(),h,a,l,vv(a,this.renderedPixelRatio_))}t(NL(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,a){if(!this.replayGroup_)return;const l=t.viewState.resolution,u=t.viewState.rotation,h=this.getLayer(),d={},g=function(y,v,x){const S=Oe(y),w=d[S];if(w){if(w!==!0&&x<w.distanceSq){if(x===0)return d[S]=!0,a.splice(a.lastIndexOf(w),1),r(y,h,v);w.geometry=v,w.distanceSq=x}}else{if(x===0)return d[S]=!0,r(y,h,v);a.push(d[S]={feature:y,layer:h,geometry:v,distanceSq:x,callback:r})}},p=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,l,u,i,g,p?t.declutter?.[p]?.all().map(y=>y.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const r=e.viewHints[Pt.ANIMATING],a=e.viewHints[Pt.INTERACTING],l=t.getUpdateWhileAnimating(),u=t.getUpdateWhileInteracting();if(this.ready&&!l&&r||!u&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const h=e.extent,d=e.viewState,g=d.projection,p=d.resolution,y=e.pixelRatio,v=t.getRevision(),x=t.getRenderBuffer();let S=t.getRenderOrder();S===void 0&&(S=$k);const w=d.center.slice(),R=lm(h,x*p),T=R.slice(),P=[R.slice()],I=g.getExtent();if(i.getWrapX()&&g.canWrapX()&&!Pa(I,e.extent)){const te=ze(I),le=Math.max(ze(R)/2,te);R[0]=I[0]-le,R[2]=I[2]+le,iw(w,g);const ne=tw(P[0],g);ne[0]<I[0]&&ne[2]<I[2]?P.push([ne[0]+te,ne[1],ne[2]+te,ne[3]]):ne[0]>I[0]&&ne[2]>I[2]&&P.push([ne[0]-te,ne[1],ne[2]-te,ne[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==v&&this.renderedRenderOrder_==S&&this.renderedFrameDeclutter_===!!e.declutter&&Pa(this.wrappedRenderedExtent_,R))return Tr(this.renderedExtent_,T)||(this.hitDetectionImageData_=null,this.renderedExtent_=T),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const L=new PL(Dw(p,y),R,p,y);let N;for(let te=0,le=P.length;te<le;++te)i.loadFeatures(P[te],p,g);const V=vv(p,y);let j=!0;const U=(te,le)=>{let ne;const J=te.getStyleFunction()||t.getStyleFunction();if(J&&(ne=J(te,p)),ne){const B=this.renderFeature(te,V,ne,L,N,this.getLayer().getDeclutter(),le);j=j&&!B}},$=hw(R),re=i.getFeaturesInExtent($);S&&re.sort(S);for(let te=0,le=re.length;te<le;++te)U(re[te],te);this.renderedFeatures_=re,this.ready=j;const ee=L.finish(),Q=new DL(R,p,y,i.getOverlaps(),ee,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=p,this.renderedRevision_=v,this.renderedRenderOrder_=S,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=T,this.wrappedRenderedExtent_=R,this.renderedCenter_=w,this.renderedProjection_=g,this.renderedPixelRatio_=y,this.replayGroup_=Q,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,a,l,u){if(!i)return!1;let h=!1;if(Array.isArray(i))for(let d=0,g=i.length;d<g;++d)h=xv(r,e,i[d],t,this.boundHandleStyleImageChange_,a,l,u)||h;else h=xv(r,e,i,t,this.boundHandleStyleImageChange_,a,l,u);return h}}let gs=0;const Ft=1<<gs++,Ie=1<<gs++,Ht=1<<gs++,Gn=1<<gs++,ls=1<<gs++,La=1<<gs++,Yu=Math.pow(2,gs)-1,Lm={[Ft]:"boolean",[Ie]:"number",[Ht]:"string",[Gn]:"color",[ls]:"number[]",[La]:"size"},BL=Object.keys(Lm).map(Number).sort(Li);function GL(n){return n in Lm}function Ma(n){const e=[];for(const t of BL)Aa(n,t)&&e.push(Lm[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Aa(n,e){return(n&e)===e}function ar(n,e){return n===e}class ut{constructor(e,t){if(!GL(e))throw new Error(`literal expressions must have a specific type, got ${Ma(e)}`);this.type=e,this.value=t}}class WL{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function Yw(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function xt(n,e,t){switch(typeof n){case"boolean":{if(ar(e,Ht))return new ut(Ht,n?"true":"false");if(!Aa(e,Ft))throw new Error(`got a boolean, but expected ${Ma(e)}`);return new ut(Ft,n)}case"number":{if(ar(e,La))return new ut(La,qt(n));if(ar(e,Ft))return new ut(Ft,!!n);if(ar(e,Ht))return new ut(Ht,n.toString());if(!Aa(e,Ie))throw new Error(`got a number, but expected ${Ma(e)}`);return new ut(Ie,n)}case"string":{if(ar(e,Gn))return new ut(Gn,Sm(n));if(ar(e,Ft))return new ut(Ft,!!n);if(!Aa(e,Ht))throw new Error(`got a string, but expected ${Ma(e)}`);return new ut(Ht,n)}}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return eM(n,e,t);for(const i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(ar(e,La)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new ut(La,n)}if(ar(e,Gn)){if(n.length===3)return new ut(Gn,[...n,1]);if(n.length===4)return new ut(Gn,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!Aa(e,ls))throw new Error(`got an array of numbers, but expected ${Ma(e)}`);return new ut(ls,n)}const W={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},UL={[W.Get]:ve(Ee(1,1/0),bv),[W.Var]:ve(Ee(1,1),KL),[W.Has]:ve(Ee(1,1/0),bv),[W.Id]:ve(XL,Ys),[W.Concat]:ve(Ee(2,1/0),be(Ht)),[W.GeometryType]:ve(YL,Ys),[W.LineMetric]:ve(Ys),[W.Resolution]:ve(wf,Ys),[W.Zoom]:ve(wf,Ys),[W.Time]:ve(wf,Ys),[W.Any]:ve(Ee(2,1/0),be(Ft)),[W.All]:ve(Ee(2,1/0),be(Ft)),[W.Not]:ve(Ee(1,1),be(Ft)),[W.Equal]:ve(Ee(2,2),be(Yu)),[W.NotEqual]:ve(Ee(2,2),be(Yu)),[W.GreaterThan]:ve(Ee(2,2),be(Ie)),[W.GreaterThanOrEqualTo]:ve(Ee(2,2),be(Ie)),[W.LessThan]:ve(Ee(2,2),be(Ie)),[W.LessThanOrEqualTo]:ve(Ee(2,2),be(Ie)),[W.Multiply]:ve(Ee(2,1/0),Nv),[W.Coalesce]:ve(Ee(2,1/0),Nv),[W.Divide]:ve(Ee(2,2),be(Ie)),[W.Add]:ve(Ee(2,1/0),be(Ie)),[W.Subtract]:ve(Ee(2,2),be(Ie)),[W.Clamp]:ve(Ee(3,3),be(Ie)),[W.Mod]:ve(Ee(2,2),be(Ie)),[W.Pow]:ve(Ee(2,2),be(Ie)),[W.Abs]:ve(Ee(1,1),be(Ie)),[W.Floor]:ve(Ee(1,1),be(Ie)),[W.Ceil]:ve(Ee(1,1),be(Ie)),[W.Round]:ve(Ee(1,1),be(Ie)),[W.Sin]:ve(Ee(1,1),be(Ie)),[W.Cos]:ve(Ee(1,1),be(Ie)),[W.Atan]:ve(Ee(1,2),be(Ie)),[W.Sqrt]:ve(Ee(1,1),be(Ie)),[W.Match]:ve(Ee(4,1/0),Fv,$L),[W.Between]:ve(Ee(3,3),be(Ie)),[W.Interpolate]:ve(Ee(6,1/0),Fv,ZL),[W.Case]:ve(Ee(3,1/0),HL,qL),[W.In]:ve(Ee(2,2),QL),[W.Number]:ve(Ee(1,1/0),be(Yu)),[W.String]:ve(Ee(1,1/0),be(Yu)),[W.Array]:ve(Ee(1,1/0),be(Ie)),[W.Color]:ve(Ee(1,4),be(Ie)),[W.Band]:ve(Ee(1,3),be(Ie)),[W.Palette]:ve(Ee(2,2),JL),[W.ToString]:ve(Ee(1,1),be(Ft|Ie|Ht|Gn))};function bv(n,e,t){const i=n.length-1,r=new Array(i);for(let a=0;a<i;++a){const l=n[a+1];switch(typeof l){case"number":{r[a]=new ut(Ie,l);break}case"string":{r[a]=new ut(Ht,l);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${l}`)}a===0&&t.properties.add(String(l))}return r}function KL(n,e,t){const i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new ut(Ht,i)]}function XL(n,e,t){t.featureId=!0}function YL(n,e,t){t.geometryType=!0}function wf(n,e,t){t.mapState=!0}function Ys(n,e,t){const i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Ee(n,e){return function(t,i,r){const a=t[0],l=t.length-1;if(n===e){if(l!==n){const u=n===1?"":"s";throw new Error(`expected ${n} argument${u} for ${a}, got ${l}`)}}else if(l<n||l>e){const u=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${u} arguments for ${a}, got ${l}`)}}}function Nv(n,e,t){const i=n.length-1,r=new Array(i);for(let a=0;a<i;++a){const l=xt(n[a+1],e,t);r[a]=l}return r}function be(n){return function(e,t,i){const r=e.length-1,a=new Array(r);for(let l=0;l<r;++l){const u=xt(e[l+1],n,i);a[l]=u}return a}}function HL(n,e,t){const i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function Fv(n,e,t){const i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function $L(n,e,t){const i=n.length-1,r=Ht|Ie|Ft,a=xt(n[1],r,t),l=xt(n[n.length-1],e,t),u=new Array(i-2);for(let h=0;h<i-2;h+=2){try{const d=xt(n[h+2],a.type,t);u[h]=d}catch(d){throw new Error(`failed to parse argument ${h+1} of match expression: ${d.message}`)}try{const d=xt(n[h+3],l.type,t);u[h+1]=d}catch(d){throw new Error(`failed to parse argument ${h+2} of match expression: ${d.message}`)}}return[a,...u,l]}function ZL(n,e,t){const i=n[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const h=i[1];if(typeof h!="number"||h<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(h)} instead`);r=h;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const a=new ut(Ie,r);let l;try{l=xt(n[2],Ie,t)}catch(h){throw new Error(`failed to parse argument 1 in interpolate expression: ${h.message}`)}const u=new Array(n.length-3);for(let h=0;h<u.length;h+=2){try{const d=xt(n[h+3],Ie,t);u[h]=d}catch(d){throw new Error(`failed to parse argument ${h+2} for interpolate expression: ${d.message}`)}try{const d=xt(n[h+4],e,t);u[h+1]=d}catch(d){throw new Error(`failed to parse argument ${h+3} for interpolate expression: ${d.message}`)}}return[a,l,...u]}function qL(n,e,t){const i=xt(n[n.length-1],e,t),r=new Array(n.length-1);for(let a=0;a<r.length-1;a+=2){try{const l=xt(n[a+1],Ft,t);r[a]=l}catch(l){throw new Error(`failed to parse argument ${a} of case expression: ${l.message}`)}try{const l=xt(n[a+2],i.type,t);r[a+1]=l}catch(l){throw new Error(`failed to parse argument ${a+1} of case expression: ${l.message}`)}}return r[r.length-1]=i,r}function QL(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=Ht}else r=Ie;const a=new Array(i.length);for(let u=0;u<a.length;u++)try{const h=xt(i[u],r,t);a[u]=h}catch(h){throw new Error(`failed to parse haystack item ${u} for "in" expression: ${h.message}`)}return[xt(n[1],r,t),...a]}function JL(n,e,t){let i;try{i=xt(n[1],Ie,t)}catch(l){throw new Error(`failed to parse first argument in palette expression: ${l.message}`)}const r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const a=new Array(r.length);for(let l=0;l<a.length;l++){let u;try{u=xt(r[l],Gn,t)}catch(h){throw new Error(`failed to parse color at index ${l} in palette expression: ${h.message}`)}if(!(u instanceof ut))throw new Error(`the palette color at index ${l} must be a literal value`);a[l]=u}return[i,...a]}function ve(...n){return function(e,t,i){const r=e[0];let a;for(let l=0;l<n.length;l++){const u=n[l](e,t,i);if(l==n.length-1){if(!u)throw new Error("expected last argument validator to return the parsed args");a=u}}return new WL(t,r,...a)}}function eM(n,e,t){const i=n[0],r=UL[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function Hw(n){if(!n)return"";const e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Hw(n.getGeometries()[0]);default:return""}}function $w(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Ni(n,e,t){const i=xt(n,e,t);return Yn(i)}function Yn(n,e){if(n instanceof ut){if(n.type===Gn&&typeof n.value=="string"){const i=Sm(n.value);return function(){return i}}return function(){return n.value}}const t=n.operator;switch(t){case W.Number:case W.String:case W.Coalesce:return tM(n);case W.Get:case W.Var:case W.Has:return nM(n);case W.Id:return i=>i.featureId;case W.GeometryType:return i=>i.geometryType;case W.Concat:{const i=n.args.map(r=>Yn(r));return r=>"".concat(...i.map(a=>a(r).toString()))}case W.Resolution:return i=>i.resolution;case W.Any:case W.All:case W.Between:case W.In:case W.Not:return rM(n);case W.Equal:case W.NotEqual:case W.LessThan:case W.LessThanOrEqualTo:case W.GreaterThan:case W.GreaterThanOrEqualTo:return iM(n);case W.Multiply:case W.Divide:case W.Add:case W.Subtract:case W.Clamp:case W.Mod:case W.Pow:case W.Abs:case W.Floor:case W.Ceil:case W.Round:case W.Sin:case W.Cos:case W.Atan:case W.Sqrt:return sM(n);case W.Case:return oM(n);case W.Match:return aM(n);case W.Interpolate:return lM(n);case W.ToString:return uM(n);default:throw new Error(`Unsupported operator ${t}`)}}function tM(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=Yn(n.args[a]);switch(t){case W.Coalesce:return a=>{for(let l=0;l<i;++l){const u=r[l](a);if(typeof u<"u"&&u!==null)return u}throw new Error("Expected one of the values to be non-null")};case W.Number:case W.String:return a=>{for(let l=0;l<i;++l){const u=r[l](a);if(typeof u===t)return u}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function nM(n,e){const i=n.args[0].value;switch(n.operator){case W.Get:return r=>{const a=n.args;let l=r.properties[i];for(let u=1,h=a.length;u<h;++u){const g=a[u].value;l=l[g]}return l};case W.Var:return r=>r.variables[i];case W.Has:return r=>{const a=n.args;if(!(i in r.properties))return!1;let l=r.properties[i];for(let u=1,h=a.length;u<h;++u){const g=a[u].value;if(!l||!Object.hasOwn(l,g))return!1;l=l[g]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function iM(n,e){const t=n.operator,i=Yn(n.args[0]),r=Yn(n.args[1]);switch(t){case W.Equal:return a=>i(a)===r(a);case W.NotEqual:return a=>i(a)!==r(a);case W.LessThan:return a=>i(a)<r(a);case W.LessThanOrEqualTo:return a=>i(a)<=r(a);case W.GreaterThan:return a=>i(a)>r(a);case W.GreaterThanOrEqualTo:return a=>i(a)>=r(a);default:throw new Error(`Unsupported comparison operator ${t}`)}}function rM(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=Yn(n.args[a]);switch(t){case W.Any:return a=>{for(let l=0;l<i;++l)if(r[l](a))return!0;return!1};case W.All:return a=>{for(let l=0;l<i;++l)if(!r[l](a))return!1;return!0};case W.Between:return a=>{const l=r[0](a),u=r[1](a),h=r[2](a);return l>=u&&l<=h};case W.In:return a=>{const l=r[0](a);for(let u=1;u<i;++u)if(l===r[u](a))return!0;return!1};case W.Not:return a=>!r[0](a);default:throw new Error(`Unsupported logical operator ${t}`)}}function sM(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=Yn(n.args[a]);switch(t){case W.Multiply:return a=>{let l=1;for(let u=0;u<i;++u)l*=r[u](a);return l};case W.Divide:return a=>r[0](a)/r[1](a);case W.Add:return a=>{let l=0;for(let u=0;u<i;++u)l+=r[u](a);return l};case W.Subtract:return a=>r[0](a)-r[1](a);case W.Clamp:return a=>{const l=r[0](a),u=r[1](a);if(l<u)return u;const h=r[2](a);return l>h?h:l};case W.Mod:return a=>r[0](a)%r[1](a);case W.Pow:return a=>Math.pow(r[0](a),r[1](a));case W.Abs:return a=>Math.abs(r[0](a));case W.Floor:return a=>Math.floor(r[0](a));case W.Ceil:return a=>Math.ceil(r[0](a));case W.Round:return a=>Math.round(r[0](a));case W.Sin:return a=>Math.sin(r[0](a));case W.Cos:return a=>Math.cos(r[0](a));case W.Atan:return i===2?a=>Math.atan2(r[0](a),r[1](a)):a=>Math.atan(r[0](a));case W.Sqrt:return a=>Math.sqrt(r[0](a));default:throw new Error(`Unsupported numeric operator ${t}`)}}function oM(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Yn(n.args[r]);return r=>{for(let a=0;a<t-1;a+=2)if(i[a](r))return i[a+1](r);return i[t-1](r)}}function aM(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Yn(n.args[r]);return r=>{const a=i[0](r);for(let l=1;l<t-1;l+=2)if(a===i[l](r))return i[l+1](r);return i[t-1](r)}}function lM(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Yn(n.args[r]);return r=>{const a=i[0](r),l=i[1](r);let u,h;for(let d=2;d<t;d+=2){const g=i[d](r);let p=i[d+1](r);const y=Array.isArray(p);if(y&&(p=Ak(p)),g>=l)return d===2?p:y?cM(a,l,u,h,g,p):Da(a,l,u,h,g,p);u=g,h=p}return h}}function uM(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=Yn(n.args[a]);if(t===W.ToString)return a=>{const l=r[0](a);return n.args[0].type===Gn?Cm(l):l.toString()};throw new Error(`Unsupported convert operator ${t}`)}function Da(n,e,t,i,r,a){const l=r-t;if(l===0)return i;const u=e-t,h=n===1?u/l:(Math.pow(n,u)-1)/(Math.pow(n,l)-1);return i+h*(a-i)}function cM(n,e,t,i,r,a){if(r-t===0)return i;const u=gv(i),h=gv(a);let d=h[2]-u[2];d>180?d-=360:d<-180&&(d+=360);const g=[Da(n,e,t,u[0],r,h[0]),Da(n,e,t,u[1],r,h[1]),u[2]+Da(n,e,t,0,r,d),Da(n,e,t,i[3],r,a[3])];return Dk(g)}function hM(n){return!0}function dM(n){const e=Yw(),t=fM(n,e),i=$w();return function(r,a){if(i.properties=r.getPropertiesInternal(),i.resolution=a,e.featureId){const l=r.getId();l!==void 0?i.featureId=l:i.featureId=null}return e.geometryType&&(i.geometryType=Hw(r.getGeometry())),t(i)}}function jv(n){const e=Yw(),t=n.length,i=new Array(t);for(let l=0;l<t;++l)i[l]=fg(n[l],e);const r=$w(),a=new Array(t);return function(l,u){if(r.properties=l.getPropertiesInternal(),r.resolution=u,e.featureId){const d=l.getId();d!==void 0?r.featureId=d:r.featureId=null}let h=0;for(let d=0;d<t;++d){const g=i[d](r);g&&(a[h]=g,h+=1)}return a.length=h,a}}function fM(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r){const a=n[r],l="filter"in a?Ni(a.filter,Ft,e):hM;let u;if(Array.isArray(a.style)){const h=a.style.length;u=new Array(h);for(let d=0;d<h;++d)u[d]=fg(a.style[d],e)}else u=[fg(a.style,e)];i[r]={filter:l,styles:u}}return function(r){const a=[];let l=!1;for(let u=0;u<t;++u){const h=i[u].filter;if(h(r)&&!(n[u].else&&l)){l=!0;for(const d of i[u].styles){const g=d(r);g&&a.push(g)}}}return a}}function fg(n,e){const t=tl(n,"",e),i=nl(n,"",e),r=gM(n,e),a=mM(n,e),l=Zt(n,"z-index",e);if(!t&&!i&&!r&&!a&&!yo(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));const u=new kn;return function(h){let d=!0;if(t){const g=t(h);g&&(d=!1),u.setFill(g)}if(i){const g=i(h);g&&(d=!1),u.setStroke(g)}if(r){const g=r(h);g&&(d=!1),u.setText(g)}if(a){const g=a(h);g&&(d=!1),u.setImage(g)}return l&&u.setZIndex(l(h)),d?null:u}}function tl(n,e,t){let i;if(e+"fill-pattern-src"in n)i=vM(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return a=>null;i=Mm(n,e+"fill-color",t)}if(!i)return null;const r=new Xn;return function(a){const l=i(a);return l===Em?null:(r.setColor(l),r)}}function nl(n,e,t){const i=Zt(n,e+"stroke-width",t),r=Mm(n,e+"stroke-color",t);if(!i&&!r)return null;const a=Pi(n,e+"stroke-line-cap",t),l=Pi(n,e+"stroke-line-join",t),u=Zw(n,e+"stroke-line-dash",t),h=Zt(n,e+"stroke-line-dash-offset",t),d=Zt(n,e+"stroke-miter-limit",t),g=new Io;return function(p){if(r){const y=r(p);if(y===Em)return null;g.setColor(y)}if(i&&g.setWidth(i(p)),a){const y=a(p);if(y!=="butt"&&y!=="round"&&y!=="square")throw new Error("Expected butt, round, or square line cap");g.setLineCap(y)}if(l){const y=l(p);if(y!=="bevel"&&y!=="round"&&y!=="miter")throw new Error("Expected bevel, round, or miter line join");g.setLineJoin(y)}return u&&g.setLineDash(u(p)),h&&g.setLineDashOffset(h(p)),d&&g.setMiterLimit(d(p)),g}}function gM(n,e){const t="text-",i=Pi(n,t+"value",e);if(!i)return null;const r=tl(n,t,e),a=tl(n,t+"background-",e),l=nl(n,t,e),u=nl(n,t+"background-",e),h=Pi(n,t+"font",e),d=Zt(n,t+"max-angle",e),g=Zt(n,t+"offset-x",e),p=Zt(n,t+"offset-y",e),y=co(n,t+"overflow",e),v=Pi(n,t+"placement",e),x=Zt(n,t+"repeat",e),S=qc(n,t+"scale",e),w=co(n,t+"rotate-with-view",e),R=Zt(n,t+"rotation",e),T=Pi(n,t+"align",e),P=Pi(n,t+"justify",e),I=Pi(n,t+"baseline",e),L=co(n,t+"keep-upright",e),N=Zw(n,t+"padding",e),V=Qc(n,t+"declutter-mode"),j=new yl({declutterMode:V});return function(U){if(j.setText(i(U)),r&&j.setFill(r(U)),a&&j.setBackgroundFill(a(U)),l&&j.setStroke(l(U)),u&&j.setBackgroundStroke(u(U)),h&&j.setFont(h(U)),d&&j.setMaxAngle(d(U)),g&&j.setOffsetX(g(U)),p&&j.setOffsetY(p(U)),y&&j.setOverflow(y(U)),v){const $=v(U);if($!=="point"&&$!=="line")throw new Error("Expected point or line for text-placement");j.setPlacement($)}if(x&&j.setRepeat(x(U)),S&&j.setScale(S(U)),w&&j.setRotateWithView(w(U)),R&&j.setRotation(R(U)),T){const $=T(U);if($!=="left"&&$!=="center"&&$!=="right"&&$!=="end"&&$!=="start")throw new Error("Expected left, right, center, start, or end for text-align");j.setTextAlign($)}if(P){const $=P(U);if($!=="left"&&$!=="right"&&$!=="center")throw new Error("Expected left, right, or center for text-justify");j.setJustify($)}if(I){const $=I(U);if($!=="bottom"&&$!=="top"&&$!=="middle"&&$!=="alphabetic"&&$!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");j.setTextBaseline($)}return N&&j.setPadding(N(U)),L&&j.setKeepUpright(L(U)),j}}function mM(n,e){return"icon-src"in n?pM(n,e):"shape-points"in n?yM(n,e):"circle-radius"in n?_M(n,e):null}function pM(n,e){const t="icon-",i=t+"src",r=qw(n[i],i),a=wc(n,t+"anchor",e),l=qc(n,t+"scale",e),u=Zt(n,t+"opacity",e),h=wc(n,t+"displacement",e),d=Zt(n,t+"rotation",e),g=co(n,t+"rotate-with-view",e),p=Vv(n,t+"anchor-origin"),y=Bv(n,t+"anchor-x-units"),v=Bv(n,t+"anchor-y-units"),x=SM(n,t+"color"),S=wM(n,t+"cross-origin"),w=EM(n,t+"offset"),R=Vv(n,t+"offset-origin"),T=Ec(n,t+"width"),P=Ec(n,t+"height"),I=xM(n,t+"size"),L=Qc(n,t+"declutter-mode"),N=new km({src:r,anchorOrigin:p,anchorXUnits:y,anchorYUnits:v,color:x,crossOrigin:S,offset:w,offsetOrigin:R,height:P,width:T,size:I,declutterMode:L});return function(V){return u&&N.setOpacity(u(V)),h&&N.setDisplacement(h(V)),d&&N.setRotation(d(V)),g&&N.setRotateWithView(g(V)),l&&N.setScale(l(V)),a&&N.setAnchor(a(V)),N}}function yM(n,e){const t="shape-",i=t+"points",r=t+"radius",a=gg(n[i],i),l=gg(n[r],r),u=tl(n,t,e),h=nl(n,t,e),d=qc(n,t+"scale",e),g=wc(n,t+"displacement",e),p=Zt(n,t+"rotation",e),y=co(n,t+"rotate-with-view",e),v=Ec(n,t+"radius2"),x=Ec(n,t+"angle"),S=Qc(n,t+"declutter-mode"),w=new Zc({points:a,radius:l,radius2:v,angle:x,declutterMode:S});return function(R){return u&&w.setFill(u(R)),h&&w.setStroke(h(R)),g&&w.setDisplacement(g(R)),p&&w.setRotation(p(R)),y&&w.setRotateWithView(y(R)),d&&w.setScale(d(R)),w}}function _M(n,e){const t="circle-",i=tl(n,t,e),r=nl(n,t,e),a=Zt(n,t+"radius",e),l=qc(n,t+"scale",e),u=wc(n,t+"displacement",e),h=Zt(n,t+"rotation",e),d=co(n,t+"rotate-with-view",e),g=Qc(n,t+"declutter-mode"),p=new fs({radius:5,declutterMode:g});return function(y){return a&&p.setRadius(a(y)),i&&p.setFill(i(y)),r&&p.setStroke(r(y)),u&&p.setDisplacement(u(y)),h&&p.setRotation(h(y)),d&&p.setRotateWithView(d(y)),l&&p.setScale(l(y)),p}}function Zt(n,e,t){if(!(e in n))return;const i=Ni(n[e],Ie,t);return function(r){return gg(i(r),e)}}function Pi(n,e,t){if(!(e in n))return null;const i=Ni(n[e],Ht,t);return function(r){return qw(i(r),e)}}function vM(n,e,t){const i=Pi(n,e+"pattern-src",t),r=zv(n,e+"pattern-offset",t),a=zv(n,e+"pattern-size",t),l=Mm(n,e+"color",t);return function(u){return{src:i(u),offset:r&&r(u),size:a&&a(u),color:l&&l(u)}}}function co(n,e,t){if(!(e in n))return null;const i=Ni(n[e],Ft,t);return function(r){const a=i(r);if(typeof a!="boolean")throw new Error(`Expected a boolean for ${e}`);return a}}function Mm(n,e,t){if(!(e in n))return null;const i=Ni(n[e],Gn,t);return function(r){return Qw(i(r),e)}}function Zw(n,e,t){if(!(e in n))return null;const i=Ni(n[e],ls,t);return function(r){return vl(i(r),e)}}function wc(n,e,t){if(!(e in n))return null;const i=Ni(n[e],ls,t);return function(r){const a=vl(i(r),e);if(a.length!==2)throw new Error(`Expected two numbers for ${e}`);return a}}function zv(n,e,t){if(!(e in n))return null;const i=Ni(n[e],ls,t);return function(r){return Jw(i(r),e)}}function qc(n,e,t){if(!(e in n))return null;const i=Ni(n[e],ls|Ie,t);return function(r){return CM(i(r),e)}}function Ec(n,e){const t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function xM(n,e){const t=n[e];if(t!==void 0){if(typeof t=="number")return qt(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function wM(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function Vv(n,e){const t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function Bv(n,e){const t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function EM(n,e){const t=n[e];if(t!==void 0)return vl(t,e)}function Qc(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function SM(n,e){const t=n[e];if(t!==void 0)return Qw(t,e)}function vl(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);const t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function qw(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function gg(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function Qw(n,e){if(typeof n=="string")return n;const t=vl(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function Jw(n,e){const t=vl(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function CM(n,e){return typeof n=="number"?n:Jw(n,e)}const zn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Gv(n,e,t){return(function(i,r,a,l,u){if(!i)return;if(!r&&!e)return i;const h=e?0:a[0]*r,d=e?0:a[1]*r,g=u?u[0]:0,p=u?u[1]:0;let y=n[0]+h/2+g,v=n[2]-h/2+g,x=n[1]+d/2+p,S=n[3]-d/2+p;y>v&&(y=(v+y)/2,v=y),x>S&&(x=(S+x)/2,S=x);let w=Qe(i[0],y,v),R=Qe(i[1],x,S);if(l&&t&&r){const T=30*r;w+=-T*Math.log(1+Math.max(0,y-i[0])/T)+T*Math.log(1+Math.max(0,i[0]-v)/T),R+=-T*Math.log(1+Math.max(0,x-i[1])/T)+T*Math.log(1+Math.max(0,i[1]-S)/T)}return[w,R]})}function TM(n){return n}function eE(n){return Math.pow(n,3)}function ko(n){return 1-eE(1-n)}function RM(n){return 3*n*n-2*n*n*n}function PM(n){return n}function Am(n,e,t,i){const r=ze(e)/t[0],a=jt(e)/t[1];return i?Math.min(n,Math.max(r,a)):Math.min(n,Math.min(r,a))}function Dm(n,e,t){let i=Math.min(n,e);const r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),Qe(i,t/2,e*2)}function IM(n,e,t,i){return e=e!==void 0?e:!0,(function(r,a,l,u){if(r!==void 0){const h=n[0],d=n[n.length-1],g=t?Am(h,t,l,i):h;if(u)return e?Dm(r,g,d):Qe(r,d,g);const p=Math.min(g,r),y=Math.floor(om(n,p,a));return n[y]>g&&y<n.length-1?n[y+1]:n[y]}})}function kM(n,e,t,i,r,a){return i=i!==void 0?i:!0,t=t!==void 0?t:0,(function(l,u,h,d){if(l!==void 0){const g=r?Am(e,r,h,a):e;if(d)return i?Dm(l,g,t):Qe(l,t,g);const p=1e-9,y=Math.ceil(Math.log(e/g)/Math.log(n)-p),v=-u*(.5-p)+.5,x=Math.min(g,l),S=Math.floor(Math.log(e/x)/Math.log(n)+v),w=Math.max(y,S),R=e/Math.pow(n,w);return Qe(R,t,g)}})}function Wv(n,e,t,i,r){return t=t!==void 0?t:!0,(function(a,l,u,h){if(a!==void 0){const d=i?Am(n,i,u,r):n;return!t||!h?Qe(a,e,d):Dm(a,d,e)}})}function Om(n){if(n!==void 0)return 0}function Uv(n){if(n!==void 0)return n}function LM(n){const e=2*Math.PI/n;return(function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t})}function MM(n){const e=yr(5);return(function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t})}const AM=42,bm=256,Ef=0;class ri extends li{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=mm(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&cw(),e.center&&(e.center=Ri(e.center,this.projection_)),e.extent&&(e.extent=gr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const u in zn)delete t[u];this.setProperties(t,!0);const i=OM(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=DM(e),a=i.constraint,l=bM(e);this.constraints_={center:r,resolution:a,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const a=this.getResolution(),l=a/2*(r[3]-t[3]+t[1]-r[1]),u=a/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+l,i[1]-u])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Ri(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Ri(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const g=arguments[r];g.center&&this.setCenterInternal(g.center),g.zoom!==void 0?this.setZoom(g.zoom):g.resolution&&this.setResolution(g.resolution),g.rotation!==void 0&&this.setRotation(g.rotation)}if(r===t){i&&Hu(i,!0);return}let a=Date.now(),l=this.targetCenter_.slice(),u=this.targetResolution_,h=this.targetRotation_;const d=[];for(;r<t;++r){const g=arguments[r],p={start:a,complete:!1,anchor:g.anchor,duration:g.duration!==void 0?g.duration:1e3,easing:g.easing||RM,callback:i};if(g.center&&(p.sourceCenter=l,p.targetCenter=g.center.slice(),l=p.targetCenter),g.zoom!==void 0?(p.sourceResolution=u,p.targetResolution=this.getResolutionForZoom(g.zoom),u=p.targetResolution):g.resolution&&(p.sourceResolution=u,p.targetResolution=g.resolution,u=p.targetResolution),g.rotation!==void 0){p.sourceRotation=h;const y=is(g.rotation-h+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=h+y,h=p.targetRotation}NM(p)?p.complete=!0:a+=p.duration,d.push(p)}this.animations_.push(d),this.setHint(Pt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Pt.ANIMATING]>0}getInteracting(){return this.hints_[Pt.INTERACTING]>0}cancelAnimations(){this.setHint(Pt.ANIMATING,-this.hints_[Pt.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&Hu(r[0].callback,!1),!e)for(let a=0,l=r.length;a<l;++a){const u=r[a];if(!u.complete){e=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let a=!0;for(let l=0,u=r.length;l<u;++l){const h=r[l];if(h.complete)continue;const d=e-h.start;let g=h.duration>0?d/h.duration:1;g>=1?(h.complete=!0,g=1):a=!1;const p=h.easing(g);if(h.sourceCenter){const y=h.sourceCenter[0],v=h.sourceCenter[1],x=h.targetCenter[0],S=h.targetCenter[1];this.nextCenter_=h.targetCenter;const w=y+p*(x-y),R=v+p*(S-v);this.targetCenter_=[w,R]}if(h.sourceResolution&&h.targetResolution){const y=p===1?h.targetResolution:h.sourceResolution+p*(h.targetResolution-h.sourceResolution);if(h.anchor){const v=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(y,0,v,!0);this.targetCenter_=this.calculateCenterZoom(x,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){const y=p===1?is(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+p*(h.targetRotation-h.sourceRotation);if(h.anchor){const v=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(v,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=y}if(this.applyTargetState_(!0),t=!0,!h.complete)break}if(a){this.animations_[i]=null,this.setHint(Pt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const l=r[0].callback;l&&Hu(l,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],cm(i,e-this.getRotation()),TI(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),a=this.getResolution();if(r!==void 0&&a!==void 0){const l=t[0]-e*(t[0]-r[0])/a,u=t[1]-e*(t[1]-r[1])/a;i=[l,u]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&ag(e,this.getProjection())}getCenterInternal(){return this.get(zn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return hw(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Ne(t,"The view center is not defined");const i=this.getResolution();Ne(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Ne(r!==void 0,"The view rotation is not defined"),ng(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(zn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(gr(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=ze(e)/t[0],r=jt(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return(function(a){return t/Math.pow(e,a*r)})}getRotation(){return this.get(zn.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,a=Math.log(i/r)/t;return(function(l){return Math.log(i/l)/t/a})}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const a=this.padding_;if(a){const l=this.getViewportSizeMinusPadding_();r=Sf(r,this.getViewportSize_(),[l[0]/2+a[3],l[1]/2+a[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){const a=om(this.resolutions_,e,1);t=a,i=this.resolutions_[a],a==this.resolutions_.length-1?r=2:r=i/this.resolutions_[a+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const t=Qe(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,Qe(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Ne(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ne(!Uc(e),"Cannot fit empty extent provided as `geometry`");const r=gr(e,this.getProjection());i=Ev(r)}else if(e.getType()==="Circle"){const r=gr(e.getExtent(),this.getProjection());i=Ev(r),i.rotate(this.getRotation(),rs(r))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),a=e.getFlatCoordinates(),l=e.getStride();let u=1/0,h=1/0,d=-1/0,g=-1/0;for(let p=0,y=a.length;p<y;p+=l){const v=a[p]*i-a[p+1]*r,x=a[p]*r+a[p+1]*i;u=Math.min(u,v),h=Math.min(h,x),d=Math.max(d,v),g=Math.max(g,x)}return[u,h,d,g]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],a=t.nearest!==void 0?t.nearest:!1;let l;t.minResolution!==void 0?l=t.minResolution:t.maxZoom!==void 0?l=this.getResolutionForZoom(t.maxZoom):l=0;const u=this.rotatedExtentForGeometry(e);let h=this.getResolutionForExtentInternal(u,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);h=isNaN(h)?l:Math.max(h,l),h=this.getConstrainedResolution(h,a?0:1);const d=this.getRotation(),g=Math.sin(d),p=Math.cos(d),y=rs(u);y[0]+=(r[1]-r[3])/2*h,y[1]+=(r[0]-r[2])/2*h;const v=y[0]*p-y[1]*g,x=y[1]*p+y[0]*g,S=this.getConstrainedCenter([v,x],h),w=t.callback?t.callback:Xa;t.duration!==void 0?this.animateInternal({resolution:h,center:S,duration:t.duration,easing:t.easing},w):(this.targetResolution_=h,this.targetCenter_=S,this.applyTargetState_(!1,!0),Hu(w,!0))}centerOn(e,t,i){this.centerOnInternal(Ri(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Sf(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let a;const l=this.padding_;if(l&&e){const u=this.getViewportSizeMinusPadding_(-i),h=Sf(e,r,[u[0]/2+l[3],u[1]/2+l[0]],t,i);a=[e[0]-h[0],e[1]-h[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=ag(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Ri(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(a,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Ri(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Ri(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(r),l=this.constraints_.resolution(this.targetResolution_,0,a,i),u=this.constraints_.center(this.targetCenter_,l,a,i,this.calculateCenterShift(this.targetCenter_,l,r,a));this.get(zn.ROTATION)!==r&&this.set(zn.ROTATION,r),this.get(zn.RESOLUTION)!==l&&(this.set(zn.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!u||!this.get(zn.CENTER)||!hc(this.get(zn.CENTER),u))&&this.set(zn.CENTER,u),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const r=t||0,a=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(a),u=this.constraints_.resolution(this.targetResolution_,r,l),h=this.constraints_.center(this.targetCenter_,u,l,!1,this.calculateCenterShift(this.targetCenter_,u,a,l));if(e===0&&!this.cancelAnchor_){this.targetResolution_=u,this.targetRotation_=a,this.targetCenter_=h,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==a||!this.getCenterInternal()||!hc(this.getCenterInternal(),h))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:h,resolution:u,duration:e,easing:ko,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Pt.INTERACTING,1)}endInteraction(e,t,i){i=i&&Ri(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(Pt.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Hu(n,e){setTimeout(function(){n(e)},0)}function DM(n){if(n.extent!==void 0){const t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return Gv(n.extent,n.constrainOnlyCenter,t)}const e=mm(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,Gv(t,!1,!1)}return TM}function OM(n){let e,t,i,l=n.minZoom!==void 0?n.minZoom:Ef,u=n.maxZoom!==void 0?n.maxZoom:28;const h=n.zoomFactor!==void 0?n.zoomFactor:2,d=n.multiWorld!==void 0?n.multiWorld:!1,g=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,p=n.showFullExtent!==void 0?n.showFullExtent:!1,y=mm(n.projection,"EPSG:3857"),v=y.getExtent();let x=n.constrainOnlyCenter,S=n.extent;if(!d&&!S&&y.isGlobal()&&(x=!1,S=v),n.resolutions!==void 0){const w=n.resolutions;t=w[l],i=w[u]!==void 0?w[u]:w[w.length-1],n.constrainResolution?e=IM(w,g,!x&&S,p):e=Wv(t,i,g,!x&&S,p)}else{const R=(v?Math.max(ze(v),jt(v)):360*xo.degrees/y.getMetersPerUnit())/bm/Math.pow(2,Ef),T=R/Math.pow(2,28-Ef);t=n.maxResolution,t!==void 0?l=0:t=R/Math.pow(h,l),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(h,u):i=R/Math.pow(h,u):i=T),u=l+Math.floor(Math.log(t/i)/Math.log(h)),i=t/Math.pow(h,u-l),n.constrainResolution?e=kM(h,t,i,g,!x&&S,p):e=Wv(t,i,g,!x&&S,p)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:l,zoomFactor:h}}function bM(n){if(n.enableRotation!==void 0?n.enableRotation:!0){const t=n.constrainRotation;return t===void 0||t===!0?MM():t===!1?Uv:typeof t=="number"?LM(t):Uv}return Om}function NM(n){return!(n.sourceCenter&&n.targetCenter&&!hc(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Sf(n,e,t,i,r){const a=Math.cos(-r);let l=Math.sin(-r),u=n[0]*a-n[1]*l,h=n[1]*a+n[0]*l;u+=(e[0]/2-t[0])*i,h+=(t[1]-e[1]/2)*i,l=-l;const d=u*a-h*l,g=h*a+u*l;return[d,g]}const je={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class tE extends li{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[je.OPACITY]=e.opacity!==void 0?e.opacity:1,Ne(typeof t[je.OPACITY]=="number","Layer opacity must be a number"),t[je.VISIBLE]=e.visible!==void 0?e.visible:!0,t[je.Z_INDEX]=e.zIndex,t[je.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[je.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[je.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[je.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=Qe(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Ae()}getLayerStatesArray(e){return Ae()}getExtent(){return this.get(je.EXTENT)}getMaxResolution(){return this.get(je.MAX_RESOLUTION)}getMinResolution(){return this.get(je.MIN_RESOLUTION)}getMinZoom(){return this.get(je.MIN_ZOOM)}getMaxZoom(){return this.get(je.MAX_ZOOM)}getOpacity(){return this.get(je.OPACITY)}getSourceState(){return Ae()}getVisible(){return this.get(je.VISIBLE)}getZIndex(){return this.get(je.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(je.EXTENT,e)}setMaxResolution(e){this.set(je.MAX_RESOLUTION,e)}setMinResolution(e){this.set(je.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(je.MAX_ZOOM,e)}setMinZoom(e){this.set(je.MIN_ZOOM,e)}setOpacity(e){Ne(typeof e=="number","Layer opacity must be a number"),this.set(je.OPACITY,e)}setVisible(e){this.set(je.VISIBLE,e)}setZIndex(e){this.set(je.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Jc extends tE{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(je.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(je.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(He(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=De(e,Ce.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof ri?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(l=>l.layer===this),!r)return!1}else r=this.getLayerState();const a=this.getExtent();return Nm(r,t.viewState)&&(!a||$t(a,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];const i=e instanceof ri?e.getViewStateAndExtent():e;let r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(je.MAP,e)}getMapInternal(){return this.get(je.MAP)}setMap(e){this.mapPrecomposeKey_&&(He(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(He(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=De(e,Rn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=De(this,Ce.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);Ne(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(je.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Nm(n,e){if(!n.visible)return!1;const t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;const i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}const Kv={RENDER_ORDER:"renderOrder"};class nE extends Jc{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Kv.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new zw(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(Kv.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?Bw:e;const t=FM(e);this.styleFunction_=e===null?void 0:vL(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function FM(n){if(n===void 0)return Bw;if(!n)return null;if(typeof n=="function"||n instanceof kn)return n;if(!Array.isArray(n))return jv([n]);if(n.length===0)return[];const e=n.length,t=n[0];if(t instanceof kn){const r=new Array(e);for(let a=0;a<e;++a){const l=n[a];if(!(l instanceof kn))throw new Error("Expected a list of style instances");r[a]=l}return r}if("style"in t){const r=new Array(e);for(let a=0;a<e;++a){const l=n[a];if(!("style"in l))throw new Error("Expected a list of rules with a style property");r[a]=l}return dM(r)}return jv(n)}class Fm extends nE{constructor(e){super(e)}createRenderer(){return new VL(this)}}const lr={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class fr extends bi{constructor(e,t){super(e),this.layer=t}}const Cf={LAYERS:"layers"};class Lo extends tE{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Cf.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Tn(i.slice(),{unique:!0}):Ne(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Tn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(He),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(De(e,Xt.ADD,this.handleLayersAdd_,this),De(e,Xt.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(He);dl(this.listenerKeys_);const t=e.getArray();for(let i=0,r=t.length;i<r;i++){const a=t[i];this.registerLayerListeners_(a),this.dispatchEvent(new fr(lr.ADDLAYER,a))}this.changed()}registerLayerListeners_(e){const t=[De(e,po.PROPERTYCHANGE,this.handleLayerChange_,this),De(e,Ce.CHANGE,this.handleLayerChange_,this)];e instanceof Lo&&t.push(De(e,lr.ADDLAYER,this.handleLayerGroupAdd_,this),De(e,lr.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[Oe(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new fr(lr.ADDLAYER,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new fr(lr.REMOVELAYER,e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new fr(lr.ADDLAYER,t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Oe(t);this.listenerKeys_[i].forEach(He),delete this.listenerKeys_[i],this.dispatchEvent(new fr(lr.REMOVELAYER,t)),this.changed()}getLayers(){return this.get(Cf.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let r=0,a=i.length;r<a;++r)this.dispatchEvent(new fr(lr.REMOVELAYER,i[r]))}this.set(Cf.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(t)});const r=this.getLayerState();let a=r.zIndex;!e&&r.zIndex===void 0&&(a=0);for(let l=i,u=t.length;l<u;l++){const h=t[l];h.opacity*=r.opacity,h.visible=h.visible&&r.visible,h.maxResolution=Math.min(h.maxResolution,r.maxResolution),h.minResolution=Math.max(h.minResolution,r.minResolution),h.minZoom=Math.max(h.minZoom,r.minZoom),h.maxZoom=Math.min(h.maxZoom,r.maxZoom),r.extent!==void 0&&(h.extent!==void 0?h.extent=ns(h.extent,r.extent):h.extent=r.extent),h.zIndex===void 0&&(h.zIndex=a)}return t}getSourceState(){return"ready"}}const ge={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class jm extends zc{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Ce.CHANGE)}release(){this.setState(ge.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ge.EMPTY){if(this.state!==ge.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Ae()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=t-i+1e3/60;return r>=this.transition_?1:eE(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function mg(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}const jM=new Error("disposed"),zM=[256,256];class Xv extends jm{constructor(e){const t=ge.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=mg(this.data_);return e?[e.width,e.height]:zM}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ge.IDLE&&this.state!==ge.ERROR)return;this.state=ge.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=ge.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=ge.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(jM),this.controller_=null),super.disposeInternal()}}class iE extends jm{constructor(e,t,i,r,a,l){super(e,t,l),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_,un?this.image_=new OffscreenCanvas(1,1):(this.image_=new Image,r!==null&&(this.image_.crossOrigin=r)),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ge.LOADED,this.unlistenImage_(),this.changed()}getCrossOrigin(){return this.crossOrigin_}handleImageError_(){this.state=ge.ERROR,this.unlistenImage_(),this.image_=VM(),this.changed()}handleImageLoad_(){if(un)this.state=ge.LOADED;else{const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ge.LOADED:this.state=ge.EMPTY}this.unlistenImage_(),this.changed()}load(){this.state==ge.ERROR&&(this.state=ge.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ge.IDLE&&(this.state=ge.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ok(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function VM(){const n=ct(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}let Tf;const ho=[];function Yv(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function Rf(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function BM(){if(Tf===void 0){const n=ct(6,6,ho);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Yv(n,4,5,4,0),Yv(n,4,5,0,5);const e=n.getImageData(0,0,3,3).data;Tf=Rf(e,0)||Rf(e,4)||Rf(e,8),Hc(n),ho.push(n.canvas)}return Tf}function Hv(n,e,t,i){const r=Yc(t,e,n);let a=gc(e,i,t);const l=e.getMetersPerUnit();l!==void 0&&(a*=l);const u=n.getMetersPerUnit();u!==void 0&&(a/=u);const h=n.getExtent();if(!h||vo(h,r)){const d=gc(n,a,r)/a;isFinite(d)&&d>0&&(a/=d)}return a}function GM(n,e,t,i){const r=rs(t);let a=Hv(n,e,r,i);return(!isFinite(a)||a<=0)&&J1(t,function(l){return a=Hv(n,e,l,i),isFinite(a)&&a>0}),a}function WM(n,e,t,i,r,a,l,u,h,d,g,p,y,v){const x=ct(Math.round(t*n),Math.round(t*e),ho);if(p||(x.imageSmoothingEnabled=!1),h.length===0)return x.canvas;x.scale(t,t);function S(L){return Math.round(L*t)/t}x.globalCompositeOperation="lighter";const w=Ln();h.forEach(function(L,N,V){_I(w,L.extent)});let R;const T=t/i,P=(p?1:1+Math.pow(2,-24))/T;R=ct(Math.round(ze(w)*T),Math.round(jt(w)*T),ho),p||(R.imageSmoothingEnabled=!1),h.forEach(function(L,N,V){if(L.image.width>0&&L.image.height>0){if(L.clipExtent){R.save();const ee=(L.clipExtent[0]-w[0])*T,Q=-(L.clipExtent[3]-w[3])*T,te=ze(L.clipExtent)*T,le=jt(L.clipExtent)*T;R.rect(p?ee:Math.round(ee),p?Q:Math.round(Q),p?te:Math.round(ee+te)-Math.round(ee),p?le:Math.round(Q+le)-Math.round(Q)),R.clip()}const j=(L.extent[0]-w[0])*T,U=-(L.extent[3]-w[3])*T,$=ze(L.extent)*T,re=jt(L.extent)*T;R.drawImage(L.image,d,d,L.image.width-2*d,L.image.height-2*d,p?j:Math.round(j),p?U:Math.round(U),p?$:Math.round(j+$)-Math.round(j),p?re:Math.round(U+re)-Math.round(U)),L.clipExtent&&R.restore()}});const I=ds(l);return u.getTriangles().forEach(function(L,N,V){const j=L.source,U=L.target;let $=j[0][0],re=j[0][1],ee=j[1][0],Q=j[1][1],te=j[2][0],le=j[2][1];const ne=S((U[0][0]-I[0])/a),J=S(-(U[0][1]-I[1])/a),B=S((U[1][0]-I[0])/a),Z=S(-(U[1][1]-I[1])/a),K=S((U[2][0]-I[0])/a),A=S(-(U[2][1]-I[1])/a),O=$,ce=re;$=0,re=0,ee-=O,Q-=ce,te-=O,le-=ce;const de=[[ee,Q,0,0,B-ne],[te,le,0,0,K-ne],[0,0,ee,Q,Z-J],[0,0,te,le,A-J]],he=CI(de);if(!he)return;if(x.save(),x.beginPath(),BM()||!p){x.moveTo(B,Z);const we=4,Te=ne-B,Pe=J-Z;for(let Ge=0;Ge<we;Ge++)x.lineTo(B+S((Ge+1)*Te/we),Z+S(Ge*Pe/(we-1))),Ge!=we-1&&x.lineTo(B+S((Ge+1)*Te/we),Z+S((Ge+1)*Pe/(we-1)));x.lineTo(K,A)}else x.moveTo(B,Z),x.lineTo(ne,J),x.lineTo(K,A);x.clip(),x.transform(he[0],he[2],he[1],he[3],ne,J),x.translate(w[0]-O,w[3]-ce);let xe;if(R)xe=R.canvas,x.scale(P,-P);else{const we=h[0],Te=we.extent;xe=we.image,x.scale(ze(Te)/xe.width,-jt(Te)/xe.height)}x.drawImage(xe,0,0),x.restore()}),R&&(Hc(R),ho.push(R.canvas)),g&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,u.getTriangles().forEach(function(L,N,V){const j=L.target,U=(j[0][0]-I[0])/a,$=-(j[0][1]-I[1])/a,re=(j[1][0]-I[0])/a,ee=-(j[1][1]-I[1])/a,Q=(j[2][0]-I[0])/a,te=-(j[2][1]-I[1])/a;x.beginPath(),x.moveTo(re,ee),x.lineTo(U,$),x.lineTo(Q,te),x.closePath(),x.stroke()}),x.restore()),x.canvas}const UM=10,$v=.25;class KM{constructor(e,t,i,r,a,l,u){this.sourceProj_=e,this.targetProj_=t;let h={};const d=u?tk(P=>mt(u,Yc(P,this.targetProj_,this.sourceProj_))):mc(this.targetProj_,this.sourceProj_);this.transformInv_=function(P){const I=P[0]+"/"+P[1];return h[I]||(h[I]=d(P)),h[I]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ze(r)>=ze(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ze(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ze(this.targetProj_.getExtent()):null;const g=ds(i),p=Wc(i),y=Gc(i),v=Bc(i),x=this.transformInv_(g),S=this.transformInv_(p),w=this.transformInv_(y),R=this.transformInv_(v),T=UM+(l?Math.max(0,Math.ceil(Math.log2(tg(i)/(l*l*256*256)))):0);if(this.addQuad_(g,p,y,v,x,S,w,R,T),this.wrapsXInSource_){let P=1/0;this.triangles_.forEach(function(I,L,N){P=Math.min(P,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(I=>{if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-P>this.sourceWorldWidth_/2){const L=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];L[0][0]-P>this.sourceWorldWidth_/2&&(L[0][0]-=this.sourceWorldWidth_),L[1][0]-P>this.sourceWorldWidth_/2&&(L[1][0]-=this.sourceWorldWidth_),L[2][0]-P>this.sourceWorldWidth_/2&&(L[2][0]-=this.sourceWorldWidth_);const N=Math.min(L[0][0],L[1][0],L[2][0]);Math.max(L[0][0],L[1][0],L[2][0])-N<this.sourceWorldWidth_/2&&(I.source=L)}})}h={}}addTriangle_(e,t,i,r,a,l){this.triangles_.push({source:[r,a,l],target:[e,t,i]})}addQuad_(e,t,i,r,a,l,u,h,d){const g=$_([a,l,u,h]),p=this.sourceWorldWidth_?ze(g)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,v=this.sourceProj_.canWrapX()&&p>.5&&p<1;let x=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const w=$_([e,t,i,r]);x=ze(w)/this.targetWorldWidth_>$v||x}!v&&this.sourceProj_.isGlobal()&&p&&(x=p>$v||x)}if(!x&&this.maxSourceExtent_&&isFinite(g[0])&&isFinite(g[1])&&isFinite(g[2])&&isFinite(g[3])&&!$t(g,this.maxSourceExtent_))return;let S=0;if(!x&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(h[0])||!isFinite(h[1]))){if(d>0)x=!0;else if(S=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(u[0])||!isFinite(u[1])?2:0)+(!isFinite(h[0])||!isFinite(h[1])?1:0),S!=1&&S!=2&&S!=4&&S!=8)return}if(d>0){if(!x){const w=[(e[0]+i[0])/2,(e[1]+i[1])/2],R=this.transformInv_(w);let T;v?T=(is(a[0],y)+is(u[0],y))/2-is(R[0],y):T=(a[0]+u[0])/2-R[0];const P=(a[1]+u[1])/2-R[1];x=T*T+P*P>this.errorThresholdSquared_}if(x){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const w=[(t[0]+i[0])/2,(t[1]+i[1])/2],R=this.transformInv_(w),T=[(r[0]+e[0])/2,(r[1]+e[1])/2],P=this.transformInv_(T);this.addQuad_(e,t,w,T,a,l,R,P,d-1),this.addQuad_(T,w,i,r,P,R,u,h,d-1)}else{const w=[(e[0]+t[0])/2,(e[1]+t[1])/2],R=this.transformInv_(w),T=[(i[0]+r[0])/2,(i[1]+r[1])/2],P=this.transformInv_(T);this.addQuad_(e,w,T,r,a,R,P,h,d-1),this.addQuad_(w,t,i,T,R,l,u,P,d-1)}return}}if(v){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(S&11)==0&&this.addTriangle_(e,i,r,a,u,h),(S&14)==0&&this.addTriangle_(e,i,t,a,u,l),S&&((S&13)==0&&this.addTriangle_(t,r,e,l,h,a),(S&7)==0&&this.addTriangle_(t,r,i,l,h,u))}calculateSourceExtent(){const e=Ln();return this.triangles_.forEach(function(t,i,r){const a=t.source;ja(e,a[0]),ja(e,a[1]),ja(e,a[2])}),e}getTriangles(){return this.triangles_}}const XM=.5;class rE extends jm{constructor(e,t,i,r,a,l,u,h,d,g,p,y){super(a,ge.IDLE,y),this.renderEdges_=p!==void 0?p:!1,this.pixelRatio_=u,this.gutter_=h,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=l||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const v=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let S=this.sourceTileGrid_.getExtent();const w=x?ns(v,x):v;if(tg(w)===0){this.state=ge.EMPTY;return}const R=e.getExtent();R&&(S?S=ns(S,R):S=R);const T=r.getResolution(this.wrappedTileCoord_[0]),P=GM(e,i,w,T);if(!isFinite(P)||P<=0){this.state=ge.EMPTY;return}const I=g!==void 0?g:XM;if(this.triangulation_=new KM(e,i,w,S,P*I,T),this.triangulation_.getTriangles().length===0){this.state=ge.EMPTY;return}this.sourceZ_=t.getZForResolution(P);let L=this.triangulation_.calculateSourceExtent();if(S&&(e.canWrapX()?(L[1]=Qe(L[1],S[1],S[3]),L[3]=Qe(L[3],S[1],S[3])):L=ns(L,S)),!tg(L))this.state=ge.EMPTY;else{let N=0,V=0;e.canWrapX()&&(N=ze(R),V=Math.floor((L[0]-R[0])/N)),nw(L.slice(),e,!0).forEach(U=>{const $=t.getTileRangeForExtentAndZ(U,this.sourceZ_);for(let re=$.minX;re<=$.maxX;re++)for(let ee=$.minY;ee<=$.maxY;ee++){const Q=d(this.sourceZ_,re,ee,u);if(Q){const te=V*N;this.sourceTiles_.push({tile:Q,offset:te})}}++V}),this.sourceTiles_.length===0&&(this.state=ge.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const i=t.tile;if(i&&i.getState()==ge.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;const a=this.clipExtent_?.slice();a&&(a[0]+=t.offset,a[2]+=t.offset),e.push({extent:r,clipExtent:a,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ge.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],l=this.targetTileGrid_.getResolution(t),u=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=WM(r,a,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),l,h,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ge.LOADED}this.changed()}load(){if(this.state==ge.IDLE){this.state=ge.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const i=t.getState();if(i==ge.IDLE||i==ge.LOADING){e++;const r=De(t,Ce.CHANGE,a=>{const l=t.getState();(l==ge.LOADED||l==ge.ERROR||l==ge.EMPTY)&&(He(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==ge.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(He),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Hc(this.canvas_.getContext("2d")),ho.push(this.canvas_),this.canvas_=null),super.release()}}class zm{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Hs(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new zm(n,e,t,i)}class Zv{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Fc&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Ne(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Ne(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Ne(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function Sc(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function YM(n,e,t){return n+"/"+e+"/"+t}function nc(n,e,t,i,r){return`${Oe(n)},${e},${YM(t,i,r)}`}function HM(n){return $M(n[0],n[1],n[2])}function $M(n,e,t){return(e<<n)+t}function ZM(n,e){const t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const a=e.getFullTileRange(t);return a?a.containsXY(i,r):!0}function Pf(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;const i=n[t],r=i.has(e);return r||i.add(e),!r}function qM(n,e,t){const i=n[t];return i?i.delete(e):!1}function qv(n,e){const t=n.layerStatesArray[n.layerIndex];t.extent&&(e=ns(e,gr(t.extent,n.viewState.projection)));const i=t.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=ns(e,r))}return e}class QM extends Xw{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Ln(),this.tempTileRange_=new zm(0,0,0,0),this.tempTileCoord_=Sc(0,0,0);const i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new Zv(i),this.sourceTileCache_=null,this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getSourceTileCache(){return this.sourceTileCache_||(this.sourceTileCache_=new Zv(512)),this.sourceTileCache_}getOrCreateTile(e,t,i,r){const a=this.tileCache_,u=this.getLayer().getSource(),h=nc(u,u.getKey(),e,t,i);let d;if(a.containsKey(h))d=a.get(h);else{const g=r.viewState.projection,p=u.getProjection();if(d=u.getTile(e,t,i,r.pixelRatio,g,!p||tc(p,g)?void 0:this.getSourceTileCache()),!d)return null;a.set(h,d)}return d}getTile(e,t,i,r){const a=this.getOrCreateTile(e,t,i,r);return a||null}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=mt(t.pixelToCoordinateTransform,e.slice()),a=i.getExtent();if(a&&!vo(a,r))return null;const l=t.viewState,u=i.getRenderSource(),h=u.getTileGridForProjection(l.projection),d=u.getTilePixelRatio(t.pixelRatio);for(let g=h.getZForResolution(l.resolution);g>=h.getMinZoom();--g){const p=h.getTileCoordForCoordAndZ(r,g),y=this.getTile(g,p[1],p[2],t);if(!y||y.getState()!==ge.LOADED)continue;const v=h.getOrigin(g),x=qt(h.getTileSize(g)),S=h.getResolution(g);let w;if(y instanceof iE||y instanceof rE)w=y.getImage();else if(y instanceof Xv){if(w=mg(y.getData()),!w)continue}else continue;const R=Math.floor(d*((r[0]-v[0])/S-p[1]*x[0])),T=Math.floor(d*((v[1]-r[1])/S-p[2]*x[1])),P=Math.round(d*u.getGutterForProjection(l.projection));return this.getImageData(w,R+P,T+P)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const i=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==i&&(this.renderedSourceRevision_=i,this.renderedSourceKey_===t.getKey()&&(this.tileCache_.clear(),this.sourceTileCache_?.clear())):this.renderedSourceRevision_=i,!0}enqueueTilesForNextExtent(){return!0}enqueueTiles(e,t,i,r,a){const l=e.viewState,u=this.getLayer(),h=u.getRenderSource(),d=h.getTileGridForProjection(l.projection),g=Oe(h);g in e.wantedTiles||(e.wantedTiles[g]={});const p=e.wantedTiles[g],y=u.getMapInternal(),v=Math.max(i-a,d.getMinZoom(),d.getZForResolution(Math.min(u.getMaxResolution(),y?y.getView().getResolutionForZoom(Math.max(u.getMinZoom(),0)):d.getResolution(0)),h.zDirection)),x=l.rotation,S=x?ew(l.center,l.resolution,x,e.size):void 0;for(let w=i;w>=v;--w){const R=d.getTileRangeForExtentAndZ(t,w,this.tempTileRange_),T=d.getResolution(w);for(let P=R.minX;P<=R.maxX;++P)for(let I=R.minY;I<=R.maxY;++I){if(x&&!d.tileCoordIntersectsViewport([w,P,I],S))continue;const L=this.getTile(w,P,I,e);if(!L||!Pf(r,L,w))continue;const V=L.getKey();if(p[V]=!0,L.getState()===ge.IDLE&&!e.tileQueue.isKeyQueued(V)){const j=Sc(w,P,I,this.tempTileCoord_);e.tileQueue.enqueue([L,g,d.getTileCoordCenter(j),T])}}}}findStaleTile_(e,t){const i=this.tileCache_,r=e[0],a=e[1],l=e[2],u=this.getStaleKeys();for(let h=0;h<u.length;++h){const d=nc(this.getLayer().getSource(),u[h],r,a,l);if(i.containsKey(d)){const g=i.peek(d);if(g.getState()===ge.LOADED)return g.endTransition(Oe(this)),Pf(t,g,r),!0}}return!1}findAltTiles_(e,t,i,r){const a=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!a)return!1;let l=!0;const u=this.tileCache_,h=this.getLayer().getRenderSource(),d=h.getKey();for(let g=a.minX;g<=a.maxX;++g)for(let p=a.minY;p<=a.maxY;++p){const y=nc(h,d,i,g,p);let v=!1;if(u.containsKey(y)){const x=u.peek(y);x.getState()===ge.LOADED&&(Pf(r,x,i),v=!0)}v||(l=!1)}return l}renderFrame(e,t){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,a=r.projection,l=r.resolution,u=r.center,h=e.pixelRatio,d=this.getLayer(),g=d.getSource(),p=g.getTileGridForProjection(a),y=p.getZForResolution(l,g.zDirection),v=p.getResolution(y),x=g.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==x&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=x):this.renderedSourceKey_=x;let S=e.extent;const w=g.getTilePixelRatio(h);this.prepareContainer(e,t);const R=this.context.canvas.width,T=this.context.canvas.height,P=i.extent&&gr(i.extent);P&&(S=ns(S,gr(i.extent)));const I=v*R/2/w,L=v*T/2/w,N=[u[0]-I,u[1]-L,u[0]+I,u[1]+L],V={};this.renderedTiles.length=0;const j=d.getPreload();if(e.nextExtent&&this.enqueueTilesForNextExtent()){const B=p.getZForResolution(r.nextResolution,g.zDirection),Z=qv(e,e.nextExtent);this.enqueueTiles(e,Z,B,V,j)}const U=qv(e,S);if(this.enqueueTiles(e,U,y,V,0),j>0&&setTimeout(()=>{this.enqueueTiles(e,U,y-1,V,j-1)},0),!(y in V))return this.container;const $=Oe(this),re=e.time;for(const B of V[y]){const Z=B.getState();if(Z===ge.EMPTY)continue;const K=B.tileCoord;if(Z===ge.LOADED&&B.getAlpha($,re)===1){B.endTransition($);continue}if(Z!==ge.ERROR&&(this.renderComplete=!1),this.findStaleTile_(K,V)){qM(V,B,y),e.animate=!0;continue}if(this.findAltTiles_(p,K,y+1,V))continue;const ce=p.getMinZoom();for(let de=y-1;de>=ce&&!this.findAltTiles_(p,K,de,V);--de);}const ee=v/l*h/w,Q=this.getRenderContext(e);Oi(this.tempTransform,R/2,T/2,ee,ee,0,-R/2,-T/2),i.extent&&this.clipUnrotated(Q,e,P),g.getInterpolate()||(Q.imageSmoothingEnabled=!1),this.preRender(Q,e);const te=Object.keys(V).map(Number);te.sort(Li);let le;const ne=[],J=[];for(let B=te.length-1;B>=0;--B){const Z=te[B],K=g.getTilePixelSize(Z,h,a),O=p.getResolution(Z)/v,ce=K[0]*O*ee,de=K[1]*O*ee,he=p.getTileCoordForCoordAndZ(ds(N),Z),xe=p.getTileCoordExtent(he),we=mt(this.tempTransform,[w*(xe[0]-N[0])/v,w*(N[3]-xe[3])/v]),Te=w*g.getGutterForProjection(a);for(const Pe of V[Z]){if(Pe.getState()!==ge.LOADED)continue;const Ge=Pe.tileCoord,hi=he[1]-Ge[1],ps=Math.round(we[0]-(hi-1)*ce),Hn=he[2]-Ge[2],Mn=Math.round(we[1]-(Hn-1)*de),kt=Math.round(we[0]-hi*ce),Jt=Math.round(we[1]-Hn*de),$n=ps-kt,di=Mn-Jt,fi=te.length===1;let en=!1;le=[kt,Jt,kt+$n,Jt,kt+$n,Jt+di,kt,Jt+di];for(let tn=0,Zn=ne.length;tn<Zn;++tn)if(!fi&&Z<J[tn]){const nt=ne[tn];$t([kt,Jt,kt+$n,Jt+di],[nt[0],nt[3],nt[4],nt[7]])&&(en||(Q.save(),en=!0),Q.beginPath(),Q.moveTo(le[0],le[1]),Q.lineTo(le[2],le[3]),Q.lineTo(le[4],le[5]),Q.lineTo(le[6],le[7]),Q.moveTo(nt[6],nt[7]),Q.lineTo(nt[4],nt[5]),Q.lineTo(nt[2],nt[3]),Q.lineTo(nt[0],nt[1]),Q.clip())}ne.push(le),J.push(Z),this.drawTile(Pe,e,kt,Jt,$n,di,Te,fi),en&&Q.restore(),this.renderedTiles.unshift(Pe),this.updateUsedTiles(e.usedTiles,g,Pe)}}if(this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!Ya(this.renderedExtent_,N),this.renderedExtent_=N,this.renderedPixelRatio=h,this.postRender(this.context,e),i.extent&&Q.restore(),Q.imageSmoothingEnabled=!0,this.renderComplete){const B=(Z,K)=>{const A=Oe(g),O=K.wantedTiles[A],ce=O?Object.keys(O).length:0;this.updateCacheSize(ce),this.tileCache_.expireCache(),this.sourceTileCache_?.expireCache()};e.postRenderFunctions.push(B)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,a,l,u,h){let d;if(e instanceof Xv){if(d=mg(e.getData()),!d)throw new Error("Rendering array data is not yet supported")}else d=this.getTileImage(e);if(!d)return;const g=this.getRenderContext(t),p=Oe(this),y=t.layerStatesArray[t.layerIndex],v=y.opacity*(h?e.getAlpha(p,t.time):1),x=v!==g.globalAlpha;x&&(g.save(),g.globalAlpha=v),g.drawImage(d,u,u,d.width-2*u,d.height-2*u,i,r,a,l),x&&g.restore(),v!==y.opacity?t.animate=!0:h&&e.endTransition(p)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){const r=Oe(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}}const $u={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class JM extends Jc{constructor(e){e=e||{};const t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get($u.PRELOAD)}setPreload(e){this.set($u.PRELOAD,e)}getUseInterimTilesOnError(){return this.get($u.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set($u.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class If extends JM{constructor(e){super(e)}createRenderer(){return new QM(this,{cacheSize:this.getCacheSize()})}}const $s=[0,0,0],ur=5;class sE{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ne(fI(this.resolutions_,(r,a)=>a-r),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,a=this.resolutions_.length-1;r<a;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ne(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ds(i)),Ne(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ne(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:bm,Ne(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,a)=>{const l=new zm(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const u=this.getTileRangeForExtentAndZ(i,a);l.minX=Math.max(u.minX,l.minX),l.maxX=Math.min(u.maxX,l.maxX),l.minY=Math.max(u.minY,l.minY),l.maxY=Math.min(u.maxY,l.maxY)}return l}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const r=this.getTileRangeForExtentAndZ(e,t);for(let a=r.minX,l=r.maxX;a<=l;++a)for(let u=r.minY,h=r.maxY;u<=h;++u)i([t,a,u])}forEachTileCoordParentTileRange(e,t,i,r){let a,l,u,h=null,d=e[0]-1;for(this.zoomFactor_===2?(l=e[1],u=e[2]):h=this.getTileCoordExtent(e,r);d>=this.minZoom;){if(l!==void 0&&u!==void 0?(l=Math.floor(l/2),u=Math.floor(u/2),a=Hs(l,l,u,u,i)):a=this.getTileRangeForExtentAndZ(h,d,i),t(d,a))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const a=e[1]*2,l=e[2]*2;return Hs(a,a+1,l,l+1,t)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],a=e[1],l=e[2];if(t===r)return Hs(a,l,a,l,i);if(this.zoomFactor_){const h=Math.pow(this.zoomFactor_,t-r),d=Math.floor(a*h),g=Math.floor(l*h);if(t<r)return Hs(d,d,g,g,i);const p=Math.floor(h*(a+1))-1,y=Math.floor(h*(l+1))-1;return Hs(d,p,g,y,i)}const u=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(u,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,$s);const r=$s[1],a=$s[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,$s);const l=$s[1],u=$s[2];return Hs(r,l,a,u,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=qt(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),a=qt(this.getTileSize(e[0]),this.tmpSize_),l=i[0]+e[1]*a[0]*r,u=i[1]-(e[2]+1)*a[1]*r,h=l+a[0]*r,d=u+a[1]*r;return Er(l,u,h,d,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,a){const l=this.getZForResolution(i),u=i/this.getResolution(l),h=this.getOrigin(l),d=qt(this.getTileSize(l),this.tmpSize_);let g=u*(e-h[0])/i/d[0],p=u*(h[1]-t)/i/d[1];return r?(g=Vu(g,ur)-1,p=Vu(p,ur)-1):(g=zu(g,ur),p=zu(p,ur)),Sc(l,g,p,a)}getTileCoordForXYAndZ_(e,t,i,r,a){const l=this.getOrigin(i),u=this.getResolution(i),h=qt(this.getTileSize(i),this.tmpSize_);let d=(e-l[0])/u/h[0],g=(l[1]-t)/u/h[1];return r?(d=Vu(d,ur)-1,g=Vu(g,ur)-1):(d=zu(d,ur),g=zu(g,ur)),Sc(i,d,g,a)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=om(this.resolutions_,e,t||0);return Qe(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return xw(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function oE(n){let e=n.getDefaultTileGrid();return e||(e=iA(n),n.setDefaultTileGrid(e)),e}function eA(n,e,t){const i=e[0],r=n.getTileCoordCenter(e),a=Vm(t);if(!vo(a,r)){const l=ze(a),u=Math.ceil((a[0]-r[0])/l);return r[0]+=l*u,n.getTileCoordForCoordAndZ(r,i)}return e}function tA(n,e,t,i){i=i!==void 0?i:"top-left";const r=aE(n,e,t);return new sE({extent:n,origin:xI(n,i),resolutions:r,tileSize:t})}function nA(n){const e=n||{},t=e.extent||Qt("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:aE(t,e.maxZoom,e.tileSize,e.maxResolution)};return new sE(i)}function aE(n,e,t,i){e=e!==void 0?e:AM,t=qt(t!==void 0?t:bm);const r=jt(n),a=ze(n);i=i>0?i:Math.max(a/t[0],r/t[1]);const l=e+1,u=new Array(l);for(let h=0;h<l;++h)u[h]=i/Math.pow(2,h);return u}function iA(n,e,t,i){const r=Vm(n);return tA(r,e,t,i)}function Vm(n){n=Qt(n);let e=n.getExtent();if(!e){const t=180*xo.degrees/n.getMetersPerUnit();e=Er(-t,-t,t,t)}return e}function jb(n,e){const t=[];Object.keys(e).forEach(function(r){e[r]!==null&&e[r]!==void 0&&t.push(r+"="+encodeURIComponent(e[r]))});const i=t.join("&");return n=n.replace(/[?&]$/,""),n+=n.includes("?")?"&":"?",n+i}const rA=/\{z\}/g,sA=/\{x\}/g,oA=/\{y\}/g,aA=/\{-y\}/g;function lA(n,e,t,i,r){return n.replace(rA,e.toString()).replace(sA,t.toString()).replace(oA,i.toString()).replace(aA,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function uA(n){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(n);if(t){const i=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let a;for(a=i;a<=r;++a)e.push(n.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){const i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function cA(n,e){return(function(t,i,r){if(!t)return;let a;const l=t[0];if(e){const u=e.getFullTileRange(l);u&&(a=u.getHeight()-1)}return lA(n,l,t[1],t[2],a)})}function hA(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=cA(n[r],e);return dA(i)}function dA(n){return n.length===1?n[0]:(function(e,t,i){if(!e)return;const r=HM(e),a=is(r,n.length);return n[a](e,t,i)})}class fA extends Vw{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&qt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Oe(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,a,l){return Ae()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:oE(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),a=this.getTilePixelRatio(t),l=qt(r.getTileSize(e),this.tmpSize);return a==1?l:_L(l,a,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const i=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=eA(r,e,i)),ZM(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class gA extends bi{constructor(e,t){super(e),this.tile=t}}const kf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Bm extends fA{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Bm.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Oe(t),r=t.getState();let a;r==ge.LOADING?(this.tileLoadingKeys_[i]=!0,a=kf.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=r==ge.ERROR?kf.TILELOADERROR:r==ge.LOADED?kf.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new gA(a,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=uA(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(hA(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}}class mA extends Bm{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:lE,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:iE,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!tc(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||tc(t,e)))return this.tileGrid;const i=Oe(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=oE(e)),this.tileGridForProjection[i]}createTile_(e,t,i,r,a,l){const u=[e,t,i],h=this.getTileCoordForTileUrlFunction(u,a),d=h?this.tileUrlFunction(h,r,a):void 0,g=new this.tileClass(u,d!==void 0?ge.IDLE:ge.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return g.key=l,g.addEventListener(Ce.CHANGE,this.handleTileChange.bind(this)),g}getTile(e,t,i,r,a,l){const u=this.getProjection();if(!u||!a||tc(u,a))return this.getTileInternal(e,t,i,r,u||a);const h=[e,t,i],d=this.getKey(),g=this.getTileGridForProjection(u),p=this.getTileGridForProjection(a),y=this.getTileCoordForTileUrlFunction(h,a),v=new rE(u,g,a,p,h,y,this.getTilePixelRatio(r),this.getGutter(),(x,S,w,R)=>this.getTileInternal(x,S,w,R,u,l),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return v.key=d,v}getTileInternal(e,t,i,r,a,l){const u=this.getKey(),h=nc(this,u,e,t,i);if(l&&l.containsKey(h))return l.get(h);const d=this.createTile_(e,t,i,r,a,u);return l?.set(h,d),d}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const i=Qt(e);if(i){const r=Oe(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}}function lE(n,e){if(un){const t=n.getCrossOrigin();let i="same-origin",r="same-origin";t==="anonymous"||t===""?(i="cors",r="omit"):t==="use-credentials"&&(i="cors",r="include"),fetch(e,{mode:i,credentials:r}).then(a=>{if(!a.ok)throw new Error(`HTTP ${a.status}`);return a.blob()}).then(a=>createImageBitmap(a)).then(a=>{const l=n.getImage();l.width=a.width,l.height=a.height,l.getContext("2d").drawImage(a,0,0),a.close?.(),l.dispatchEvent(new Event("load"))}).catch(()=>{n.getImage().dispatchEvent(new Event("error"))});return}n.getImage().src=e}class pg extends mA{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:nA({extent:Vm(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const pA="modulepreload",yA=function(n){return"/visapp/"+n},Qv={},Zu=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let h=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=h(t.map(d=>{if(d=yA(d),d in Qv)return;Qv[d]=!0;const g=d.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":pA,g||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),g)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},_A='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class vA extends pg{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[_A];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:(a,l)=>{const u=a.getImage();!un&&u instanceof HTMLImageElement&&(u.referrerPolicy="origin-when-cross-origin"),(e.tileLoadFunction||lE)(a,l)},transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const Cc=1/0;class xA{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,dl(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Ne(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Cc?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,a=t[e],l=i[e],u=e;for(;e<r>>1;){const h=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),g=d<r&&i[d]<i[h]?d:h;t[e]=t[g],i[e]=i[g],e=g}t[e]=a,i[e]=l,this.siftDown_(u,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,a=i[t],l=r[t];for(;t>e;){const u=this.getParentIndex_(t);if(r[u]>l)i[t]=i[u],r[t]=r[u],t=u;else break}i[t]=a,r[t]=l}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const a=t.length;let l,u,h;for(u=0;u<a;++u)l=t[u],h=e(l),h==Cc?delete this.queuedElements_[this.keyFunction_(l)]:(i[r]=h,t[r++]=l);t.length=r,i.length=r,this.heapify_()}}class wA extends xA{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Ce.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===ge.LOADED||i===ge.ERROR||i===ge.EMPTY){i!==ge.ERROR&&t.removeEventListener(Ce.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){const r=this.dequeue()[0],a=r.getKey();r.getState()===ge.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,r.load())}}}function EA(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return Cc;const a=n.viewState.center,l=i[0]-a[0],u=i[1]-a[1];return 65536*Math.log(r)+Math.sqrt(l*l+u*u)/r}class eo extends bi{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class hr extends eo{constructor(e,t,i,r,a,l){super(e,t,a),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const et={SINGLECLICK:"singleclick",CLICK:Ce.CLICK,DBLCLICK:Ce.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},yg={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class SA extends zc{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=De(i,yg.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=De(i,yg.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ce.TOUCHMOVE,this.boundHandleTouchMove_,Cw?{passive:!1}:!1)}emulateClick_(e){let t=new hr(et.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new hr(et.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new hr(et.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==et.POINTERUP||t.type==et.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==et.POINTERDOWN||t.type==et.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new hr(et.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new hr(et.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(De(i,et.POINTERMOVE,this.handlePointerMove_,this),De(i,et.POINTERUP,this.handlePointerUp_,this),De(this.element_,et.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(De(this.element_.getRootNode(),et.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new hr(et.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new hr(et.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(He(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ce.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(He(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const dr={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Tt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};class eh extends li{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)He(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==Xa&&this.listenerKeys.push(De(e,dr.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class CA extends eh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",a=e.collapseLabel!==void 0?e.collapseLabel:"",l=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=l):this.collapseLabel_=a;const u=e.label!==void 0?e.label:"i";typeof u=="string"?(this.label_=document.createElement("span"),this.label_.textContent=u,this.label_.className=r):this.label_=u;const h=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(h),this.toggleButton_.addEventListener(Ce.CLICK,this.handleClick_.bind(this),!1);const d=t+" "+pl+" "+Tm+(this.collapsed_&&this.collapsible_?" "+mv:"")+(this.collapsible_?"":" ol-uncollapsible"),g=this.element;g.className=d,g.appendChild(this.toggleButton_),g.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!t.some(a=>a.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(r=>gI(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Tr(t,this.renderedAttributions_)){Sk(this.ulElement_);for(let r=0,a=t.length;r<a;++r){const l=document.createElement("li");l.innerHTML=t[r],this.ulElement_.appendChild(l)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(mv),this.collapsed_?fv(this.collapseLabel_,this.label_):fv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class TA extends eh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const a=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=t+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(this.label_),l.addEventListener(Ce.CLICK,this.handleClick_.bind(this),!1);const u=t+" "+pl+" "+Tm,h=this.element;h.className=u,h.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Wu)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ko}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const a=this.element.classList.contains(Wu);!a&&i===0?this.element.classList.add(Wu):a&&i!==0&&this.element.classList.remove(Wu)}this.label_.style.transform=r}this.rotation_=i}}class RA extends eh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",a=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",l=e.zoomInLabel!==void 0?e.zoomInLabel:"+",u=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",h=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",g=document.createElement("button");g.className=r,g.setAttribute("type","button"),g.title=h,g.appendChild(typeof l=="string"?document.createTextNode(l):l),g.addEventListener(Ce.CLICK,this.handleClick_.bind(this,i),!1);const p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=d,p.appendChild(typeof u=="string"?document.createTextNode(u):u),p.addEventListener(Ce.CLICK,this.handleClick_.bind(this,-i),!1);const y=t+" "+pl+" "+Tm,v=this.element;v.className=y,v.appendChild(g),v.appendChild(p),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const a=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:ko})):i.setZoom(a)}}}function PA(n){n=n||{};const e=new Tn;return(n.zoom===void 0||n.zoom)&&e.push(new RA(n.zoomOptions)),(n.rotate===void 0||n.rotate)&&e.push(new TA(n.rotateOptions)),(n.attribution===void 0||n.attribution)&&e.push(new CA(n.attributionOptions)),e}class IA{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const a=this.points_[t]-this.points_[i],l=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(l,a),this.initialVelocity_=Math.sqrt(a*a+l*l)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const Jv={ACTIVE:"active"};class xl extends li{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Jv.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Jv.ACTIVE,e)}setMap(e){this.map_=e}}function kA(n,e,t){const i=n.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:PM,center:n.getConstrainedCenter(r)})}}function Gm(n,e,t,i){const r=n.getZoom();if(r===void 0)return;const a=n.getConstrainedZoom(r+e),l=n.getResolutionForZoom(a);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:l,anchor:t,duration:i!==void 0?i:250,easing:ko})}class LA extends xl{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==et.DBLCLICK){const i=e.originalEvent,r=e.map,a=e.coordinate,l=i.shiftKey?-this.delta_:this.delta_,u=r.getView();Gm(u,l,a,this.duration_),i.preventDefault(),t=!0}return!t}}function _g(n){const e=arguments;return function(t){let i=!0;for(let r=0,a=e.length;r<a&&(i=i&&e[r](t),!!i);++r);return i}}const MA=function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},AA=function(n){const e=n.map.getTargetElement(),t=e.getRootNode(),i=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},uE=function(n){const e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?AA(n):!0},DA=Ka,cE=function(n){const e=n.originalEvent;return"pointerId"in e&&e.button==0&&!(wk&&Ew&&e.ctrlKey)},hE=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},OA=function(n){const e=n.originalEvent;return Ew?e.metaKey:e.ctrlKey},bA=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},dE=function(n){const e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Lf=function(n){const e=n.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},NA=function(n){const e=n.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class wl extends xl{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==et.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==et.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==et.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==et.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Wm(n){const e=n.length;let t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}class FA extends wl{constructor(e){super({stopDown:jc}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:_g(hE,NA);this.condition_=e.onFocusOnly?_g(uE,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(Wm(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const a=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],u=e.map.getView();RI(a,u.getResolution()),cm(a,u.getRotation()),u.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),l=i.getCenterInternal(),u=t.getPixelFromCoordinateInternal(l),h=t.getCoordinateFromPixelInternal([u[0]-r*Math.cos(a),u[1]-r*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(h),duration:500,easing:ko})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class jA extends wl{constructor(e){e=e||{},super({stopDown:jc}),this.condition_=e.condition?e.condition:MA,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Lf(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Om)return;const r=t.getSize(),a=e.pixel,l=Math.atan2(r[1]/2-a[1],a[0]-r[0]/2);if(this.lastAngle_!==void 0){const u=l-this.lastAngle_;i.adjustRotationInternal(-u)}this.lastAngle_=l}handleUpEvent(e){return Lf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Lf(e)&&cE(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class zA extends Fc{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new el([r])}getGeometry(){return this.geometry_}}const Zs={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Ea extends bi{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class VA extends wl{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new zA(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??cE,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],a=i[1]-t[1];return r*r+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ea(Zs.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Ea(t?Zs.BOXEND:Zs.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ea(Zs.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ea(Zs.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ea(Zs.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class BA extends VA{constructor(e){e=e||{};const t=e.condition?e.condition:bA;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const a=i.rotatedExtentForGeometry(r),l=i.getResolutionForExtentInternal(a),u=i.getResolution()/l;r=r.clone(),r.scale(u*u)}i.fitInternal(r,{duration:this.duration_,easing:ko})}}const Ur={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class GA extends xl{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return hE(t)&&dE(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Ce.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==Ur.DOWN||r==Ur.LEFT||r==Ur.RIGHT||r==Ur.UP)){const l=e.map.getView(),u=l.getResolution()*this.pixelDelta_;let h=0,d=0;r==Ur.DOWN?d=-u:r==Ur.LEFT?h=-u:r==Ur.RIGHT?h=u:d=u;const g=[h,d];cm(g,l.getRotation()),kA(l,g,this.duration_),i.preventDefault(),t=!0}}return!t}}class WA extends xl{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!OA(t)&&dE(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Ce.KEYDOWN||e.type==Ce.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const a=e.map,l=r==="+"?this.delta_:-this.delta_,u=a.getView();Gm(u,l,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}const UA=40,KA=300;class XA extends xl{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:DA;this.condition_=e.onFocusOnly?_g(uE,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Ce.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let a=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:a*=UA;break;case WheelEvent.DOM_DELTA_PAGE:a*=KA;break}if(a===0)return!1;this.lastDelta_=a;const l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const u=i.getView();if(this.mode_==="trackpad"&&!(u.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=l,!1;this.totalDelta_+=a;const h=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),h),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-Qe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Gm(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class YA extends wl{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=jc),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],a=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const h=a-this.lastAngle_;this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=h}this.lastAngle_=a;const l=e.map,u=l.getView();u.getConstraints().rotation!==Om&&(this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Wm(this.targetPointers))),this.rotating_&&(l.render(),u.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class HA extends wl{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=jc),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],a=i.clientX-r.clientX,l=i.clientY-r.clientY,u=Math.sqrt(a*a+l*l);this.lastDistance_!==void 0&&(t=this.lastDistance_/u),this.lastDistance_=u;const h=e.map,d=h.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=h.getCoordinateFromPixelInternal(h.getEventPixel(Wm(this.targetPointers))),h.render(),d.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function $A(n){n=n||{};const e=new Tn,t=new IA(-.005,.05,100);return(n.altShiftDragRotate===void 0||n.altShiftDragRotate)&&e.push(new jA),(n.doubleClickZoom===void 0||n.doubleClickZoom)&&e.push(new LA({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan===void 0||n.dragPan)&&e.push(new FA({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate===void 0||n.pinchRotate)&&e.push(new YA),(n.pinchZoom===void 0||n.pinchZoom)&&e.push(new HA({duration:n.zoomDuration})),(n.keyboard===void 0||n.keyboard)&&(e.push(new GA),e.push(new WA({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom===void 0||n.mouseWheelZoom)&&e.push(new XA({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom===void 0||n.shiftDragZoom)&&e.push(new BA({duration:n.zoomDuration})),e}class ZA extends Fc{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Ae()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Oi(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),dw(r,i)}forEachFeatureAtCoordinate(e,t,i,r,a,l,u,h){let d;const g=t.viewState;function p(I,L,N,V){return a.call(l,L,I?N:null,V)}const y=g.projection,v=iw(e.slice(),y),x=[[0,0]];if(y.canWrapX()&&r){const I=y.getExtent(),L=ze(I);x.push([-L,0],[L,0])}const S=t.layerStatesArray,w=S.length,R=[],T=[];for(let I=0;I<x.length;I++)for(let L=w-1;L>=0;--L){const N=S[L],V=N.layer;if(V.hasRenderer()&&Nm(N,g)&&u.call(h,V)){const j=V.getRenderer(),U=V.getSource();if(j&&U){const $=U.getWrapX()?v:e,re=p.bind(null,N.managed);T[0]=$[0]+x[I][0],T[1]=$[1]+x[I][1],d=j.forEachFeatureAtCoordinate(T,t,i,re,R)}if(d)return d}}if(R.length===0)return;const P=1/R.length;return R.forEach((I,L)=>I.distanceSq+=L*P),R.sort((I,L)=>I.distanceSq-L.distanceSq),R.some(I=>d=I.callback(I.feature,I.layer,I.geometry)),d}hasFeatureAtCoordinate(e,t,i,r,a,l){return this.forEachFeatureAtCoordinate(e,t,i,r,Ka,this,a,l)!==void 0}getMap(){return this.map_}renderFrame(e){Ae()}scheduleExpireIconCache(e){Pn.canExpireCache()&&e.postRenderFunctions.push(qA)}}function qA(n,e){Pn.expire()}class QA extends ZA{constructor(e){super(e),this.fontChangeListenerKey_=De(qs,po.PROPERTYCHANGE,e.redrawText,e),this.element_=un?Tw():document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=pl+" ol-layers";const i=e.getViewport();i&&i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new Kw(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){He(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Rn.PRECOMPOSE,e);const t=e.layerStatesArray.sort((d,g)=>d.zIndex-g.zIndex);t.some(d=>d.layer instanceof nE&&d.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const a=[];let l=null;for(let d=0,g=t.length;d<g;++d){const p=t[d];e.layerIndex=d;const y=p.layer,v=y.getSourceState();if(!Nm(p,r)||v!="ready"&&v!="undefined"){y.unrender();continue}const x=y.render(e,l);x&&(x!==l&&(this.children_.push(x),l=x),a.push(p))}this.declutter(e,a),Ck(this.element_,this.children_);const h=this.getMap().getTargetElement();if(mr(h)){const d=h.getContext("2d");for(const g of this.children_){const p=g.firstElementChild||g,y=g.style.backgroundColor;if(y&&(!mr(p)||p.width>0)&&(d.fillStyle=y,d.fillRect(0,0,h.width,h.height)),mr(p)&&p.width>0){const v=g.style.opacity||p.style.opacity;d.globalAlpha=v===""?1:Number(v);const x=p.style.transform;if(x)d.setTransform(...lg(x));else{const S=parseFloat(p.style.width)/p.width,w=parseFloat(p.style.height)/p.height;d.setTransform(S,0,0,w,0,0)}d.drawImage(p,0,0)}}d.globalAlpha=1,d.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(Rn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const r=t[i],a=r.layer;a.getDeclutter()&&a.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}}function fE(n){if(n instanceof Jc){n.setMapInternal(null);return}n instanceof Lo&&n.getLayers().forEach(fE)}function gE(n,e){if(n instanceof Jc){n.setMapInternal(e);return}if(n instanceof Lo){const t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)gE(t[i],e)}}let JA=class extends li{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=eD(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Ek,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Kn(),this.pixelToCoordinateTransform_=Kn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,un||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,un||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=t.controls||(un?new Tn:PA()),this.interactions=t.interactions||(un?new Tn:$A({onFocusOnly:!0})),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new wA(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Tt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Tt.VIEW,this.handleViewChanged_),this.addChangeListener(Tt.SIZE,this.handleSizeChanged_),this.addChangeListener(Tt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof ri)&&e.view.then(function(r){i.setView(new ri(r))}),this.controls.addEventListener(Xt.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Xt.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Xt.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Xt.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Xt.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Xt.REMOVE,r=>{const a=r.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){gE(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const a=i.hitTolerance!==void 0?i.hitTolerance:0,l=i.layerFilter!==void 0?i.layerFilter:Ka,u=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,a,u,t,null,l,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(r){r instanceof Lo?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:Ka,a=t.hitTolerance!==void 0?t.hitTolerance:0,l=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,l,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),a=i.width/r[0],l=i.height/r[1],u="changedTouches"in e?e.changedTouches[0]:e;return[(u.clientX-i.left)/a,(u.clientY-i.top)/l]}getTarget(){return this.get(Tt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return ag(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?mt(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Tt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Tn){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const a=r.layer.getRenderer();if(a&&!a.ready)return!0;const l=r.layer.getSource();if(l&&l.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Ri(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?mt(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Tt.SIZE)}getView(){return this.get(Tt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return EA(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;const i=new hr(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===yg.POINTERDOWN||i===Ce.WHEEL||i===Ce.KEYDOWN){const r=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():r,l=t.target,u=a instanceof ShadowRoot?a.host===l?a.host.ownerDocument:a:a===r?r.documentElement:a;if(this.overlayContainerStopEvent_.contains(l)||!u.contains(l))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let a=r.length-1;a>=0;a--){const l=r[a];if(l.getMap()!==this||!l.getActive()||!this.getTargetElement())continue;if(!l.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,a=r;if(e){const l=e.viewHints;if(l[Pt.ANIMATING]||l[Pt.INTERACTING]){const u=Date.now()-e.time>8;r=u?0:8,a=u?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,a))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Rn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Rn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new eo(dr.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new eo(dr.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,a=i.length;r<a;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)He(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ce.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ce.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!mr(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(mr(t)||t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new QA(this)),!mr(t)){this.mapBrowserEventHandler_=new SA(this,this.moveTolerance_);for(const r in et)this.mapBrowserEventHandler_.addEventListener(et[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ce.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ce.WHEEL,this.boundHandleBrowserEvent_,Cw?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const r=t.getRootNode();i=r instanceof ShadowRoot?r.host:t}if(this.targetChangeHandlerKeys_=[De(i,Ce.KEYDOWN,this.handleBrowserEvent,this),De(i,Ce.KEYPRESS,this.handleBrowserEvent,this)],t instanceof HTMLElement){const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_?.observe(t)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(He(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(He(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=De(e,po.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=De(e,Ce.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(He),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new fr("addlayer",e)),this.layerGroupPropertyListenerKeys_=[De(e,po.PROPERTYCHANGE,this.render,this),De(e,Ce.CHANGE,this.render,this),De(e,"addlayer",this.handleLayerAdd_,this),De(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){fE(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let a=null;if(t!==void 0&&Pv(t)&&i&&i.isDef()){const l=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=i.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:ng(u.center,u.resolution,u.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{},mapId:Oe(this),renderTargets:{}},u.nextCenter&&u.nextResolution){const h=isNaN(u.nextRotation)?u.rotation:u.nextRotation;a.nextExtent=ng(u.nextCenter,u.nextResolution,h,t)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r&&(!this.previousExtent_||!Uc(this.previousExtent_)&&!Ya(a.extent,this.previousExtent_))&&(this.dispatchEvent(new eo(dr.MOVESTART,this,r)),this.previousExtent_=Vc(this.previousExtent_)),this.previousExtent_&&!a.viewHints[Pt.ANIMATING]&&!a.viewHints[Pt.INTERACTING]&&!Ya(a.extent,this.previousExtent_)&&(this.dispatchEvent(new eo(dr.MOVEEND,this,a)),H1(a.extent,this.previousExtent_))),this.dispatchEvent(new eo(dr.POSTRENDER,this,a)),this.renderComplete_=(this.hasListener(dr.LOADSTART)||this.hasListener(dr.LOADEND)||this.hasListener(Rn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new fr("removelayer",t)),this.set(Tt.LAYERGROUP,e)}setSize(e){this.set(Tt.SIZE,e)}setTarget(e){this.set(Tt.TARGET,e)}setView(e){if(!e||e instanceof ri){this.set(Tt.VIEW,e);return}this.set(Tt.VIEW,new ri);const t=this;e.then(function(i){t.setView(new ri(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){let r,a;if(mr(e))r=e.width,a=e.height;else{const l=getComputedStyle(e);r=e.offsetWidth-parseFloat(l.borderLeftWidth)-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight)-parseFloat(l.borderRightWidth),a=e.offsetHeight-parseFloat(l.borderTopWidth)-parseFloat(l.paddingTop)-parseFloat(l.paddingBottom)-parseFloat(l.borderBottomWidth)}!isNaN(r)&&!isNaN(a)&&(t=[Math.max(0,r),Math.max(0,a)],!Pv(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&rw("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!Tr(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function eD(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);const t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Lo({layers:n.layers});t[Tt.LAYERGROUP]=i,t[Tt.TARGET]=n.target,t[Tt.VIEW]=n.view instanceof ri?n.view:new ri;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new Tn(n.controls.slice()):(Ne(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let a;n.interactions!==void 0&&(Array.isArray(n.interactions)?a=new Tn(n.interactions.slice()):(Ne(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),a=n.interactions));let l;return n.overlays!==void 0?Array.isArray(n.overlays)?l=new Tn(n.overlays.slice()):(Ne(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),l=n.overlays):l=new Tn,{controls:r,interactions:a,keyboardEventTarget:e,overlays:l,values:t}}const Mf="units",tD=[1,2,5],Sa=25.4/.28;class nD extends eh{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+pl,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(Mf,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(Mf)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(Mf,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=e.center,i=e.projection,r=this.getUnits(),a=r=="degrees"?"degrees":"m";let l=gc(i,e.resolution,t,a);const u=this.minWidth_*(this.dpi_||Sa)/Sa,h=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Sa)/Sa:void 0;let d=u*l,g="";if(r=="degrees"){const P=xo.degrees;d*=P,d<P/60?(g="",l*=3600):d<P?(g="",l*=60):g=""}else if(r=="imperial")d<.9144?(g="in",l/=.0254):d<1609.344?(g="ft",l/=.3048):(g="mi",l/=1609.344);else if(r=="nautical")l/=1852,g="NM";else if(r=="metric")d<1e-6?(g="nm",l*=1e9):d<.001?(g="m",l*=1e6):d<1?(g="mm",l*=1e3):d<1e3?g="m":(g="km",l/=1e3);else if(r=="us")d<.9144?(g="in",l*=39.37):d<1609.344?(g="ft",l/=.30480061):(g="mi",l/=1609.3472);else throw new Error("Invalid units");let p=3*Math.floor(Math.log(u*l)/Math.log(10)),y,v,x,S=0,w,R;for(;;){x=Math.floor(p/3);const P=Math.pow(10,x);if(y=tD[(p%3+3)%3]*P,v=Math.round(y/l),isNaN(v)){this.element.style.display="none",this.renderedVisible_=!1;return}if(h!==void 0&&v>=h){y=S,v=w,x=R;break}else if(v>=u)break;S=y,w=v,R=x,++p}const T=this.scaleBar_?this.createScaleBar(v,y,g):y.toFixed(x<0?-x:0)+" "+g;this.renderedHTML_!=T&&(this.innerElement_.innerHTML=T,this.renderedHTML_=T),this.renderedWidth_!=v&&(this.innerElement_.style.width=v+"px",this.renderedWidth_=v),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const r=this.getScaleForResolution(),a=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),l=this.scaleBarSteps_,u=e/l,h=[this.createMarker("absolute")];for(let g=0;g<l;++g){const p=g%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";h.push(`<div><div class="ol-scale-singlebar ${p}" style="width: ${u}px;"></div>`+this.createMarker("relative")+(g%2===0||l===2?this.createStepText(g,e,!1,t,i):"")+"</div>")}return h.push(this.createStepText(l,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+a+"</div>":"")+h.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,t,i,r,a){const u=(e===0?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+a),h=e===0?-3:t/this.scaleBarSteps_*-1,d=e===0?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${h}px;text-align: ${e===0?"left":"center"};min-width: ${d}px;left: ${i?t+"px":"unset"};">`+u+"</div>"}getScaleForResolution(){const e=gc(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||Sa,i=1e3/25.4;return e*i*t}render(e){const t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}const iD={},ex=n=>{let e;const t=new Set,i=(g,p)=>{const y=typeof g=="function"?g(e):g;if(!Object.is(y,e)){const v=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(x=>x(e,v))}},r=()=>e,h={setState:i,getState:r,getInitialState:()=>d,subscribe:g=>(t.add(g),()=>t.delete(g)),destroy:()=>{(iD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},d=e=n(i,r,h);return h},rD=n=>n?ex(n):ex;var Af={exports:{}},Df={},Of={exports:{}},bf={};var tx;function sD(){if(tx)return bf;tx=1;var n=al();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(p,y){var v=y(),x=i({inst:{value:v,getSnapshot:y}}),S=x[0].inst,w=x[1];return a(function(){S.value=v,S.getSnapshot=y,h(S)&&w({inst:S})},[p,v,y]),r(function(){return h(S)&&w({inst:S}),p(function(){h(S)&&w({inst:S})})},[p]),l(v),v}function h(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!t(p,v)}catch{return!0}}function d(p,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return bf.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,bf}var nx;function oD(){return nx||(nx=1,Of.exports=sD()),Of.exports}var ix;function aD(){if(ix)return Df;ix=1;var n=al(),e=oD();function t(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return Df.useSyncExternalStoreWithSelector=function(d,g,p,y,v){var x=a(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=u(function(){function R(N){if(!T){if(T=!0,P=N,N=y(N),v!==void 0&&S.hasValue){var V=S.value;if(v(V,N))return I=V}return I=N}if(V=I,i(P,N))return V;var j=y(N);return v!==void 0&&v(V,j)?(P=N,V):(P=N,I=j)}var T=!1,P,I,L=p===void 0?null:p;return[function(){return R(g())},L===null?void 0:function(){return R(L())}]},[g,p,y,v]);var w=r(d,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=w},[w]),h(w),w},Df}var rx;function lD(){return rx||(rx=1,Af.exports=aD()),Af.exports}var uD=lD();const cD=Tg(uD),mE={},{useDebugValue:hD}=FC,{useSyncExternalStoreWithSelector:dD}=cD;let sx=!1;const fD=n=>n;function gD(n,e=fD,t){(mE?"production":void 0)!=="production"&&t&&!sx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sx=!0);const i=dD(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return hD(i),i}const ox=n=>{(mE?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?rD(n):n,t=(i,r)=>gD(e,i,r);return Object.assign(t,e),t},ui=n=>n?ox(n):ox;var pE=Symbol.for("immer-nothing"),ax=Symbol.for("immer-draftable"),dn=Symbol.for("immer-state");function Wn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var il=Object.getPrototypeOf;function To(n){return!!n&&!!n[dn]}function us(n){return n?yE(n)||Array.isArray(n)||!!n[ax]||!!n.constructor?.[ax]||El(n)||nh(n):!1}var mD=Object.prototype.constructor.toString(),lx=new WeakMap;function yE(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=lx.get(t);return i===void 0&&(i=Function.toString.call(t),lx.set(t,i)),i===mD}function Tc(n,e,t=!0){th(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function th(n){const e=n[dn];return e?e.type_:Array.isArray(n)?1:El(n)?2:nh(n)?3:0}function vg(n,e){return th(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function _E(n,e,t){const i=th(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function pD(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function El(n){return n instanceof Map}function nh(n){return n instanceof Set}function Hr(n){return n.copy_||n.base_}function xg(n,e){if(El(n))return new Map(n);if(nh(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=yE(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[dn];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const l=r[a],u=i[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[l]})}return Object.create(il(n),i)}else{const i=il(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function Um(n,e=!1){return ih(n)||To(n)||!us(n)||(th(n)>1&&Object.defineProperties(n,{set:qu,add:qu,clear:qu,delete:qu}),Object.freeze(n),e&&Object.values(n).forEach(t=>Um(t,!0))),n}function yD(){Wn(2)}var qu={value:yD};function ih(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var _D={};function cs(n){const e=_D[n];return e||Wn(0,n),e}var rl;function vE(){return rl}function vD(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ux(n,e){e&&(cs("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function wg(n){Eg(n),n.drafts_.forEach(xD),n.drafts_=null}function Eg(n){n===rl&&(rl=n.parent_)}function cx(n){return rl=vD(rl,n)}function xD(n){const e=n[dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hx(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[dn].modified_&&(wg(e),Wn(4)),us(n)&&(n=Rc(e,n),e.parent_||Pc(e,n)),e.patches_&&cs("Patches").generateReplacementPatches_(t[dn].base_,n,e.patches_,e.inversePatches_)):n=Rc(e,t,[]),wg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==pE?n:void 0}function Rc(n,e,t){if(ih(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[dn];if(!r)return Tc(e,(a,l)=>dx(n,r,e,a,l,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return Pc(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let l=a,u=!1;r.type_===3&&(l=new Set(a),a.clear(),u=!0),Tc(l,(h,d)=>dx(n,r,a,h,d,t,u),i),Pc(n,a,!1),t&&n.patches_&&cs("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function dx(n,e,t,i,r,a,l){if(r==null||typeof r!="object"&&!l)return;const u=ih(r);if(!(u&&!l)){if(To(r)){const h=a&&e&&e.type_!==3&&!vg(e.assigned_,i)?a.concat(i):void 0,d=Rc(n,r,h);if(_E(t,i,d),To(d))n.canAutoFreeze_=!1;else return}else l&&t.add(r);if(us(r)&&!u){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&u)return;Rc(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(El(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&Pc(n,r)}}}function Pc(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Um(e,t)}function wD(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:vE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=Km;t&&(r=[i],a=sl);const{revoke:l,proxy:u}=Proxy.revocable(r,a);return i.draft_=u,i.revoke_=l,u}var Km={get(n,e){if(e===dn)return n;const t=Hr(n);if(!vg(t,e))return ED(n,t,e);const i=t[e];return n.finalized_||!us(i)?i:i===Nf(n.base_,e)?(Ff(n),n.copy_[e]=Cg(i,n)):i},has(n,e){return e in Hr(n)},ownKeys(n){return Reflect.ownKeys(Hr(n))},set(n,e,t){const i=xE(Hr(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=Nf(Hr(n),e),a=r?.[dn];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(pD(t,r)&&(t!==void 0||vg(n.base_,e)))return!0;Ff(n),Sg(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Nf(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Ff(n),Sg(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Hr(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Wn(11)},getPrototypeOf(n){return il(n.base_)},setPrototypeOf(){Wn(12)}},sl={};Tc(Km,(n,e)=>{sl[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sl.deleteProperty=function(n,e){return sl.set.call(this,n,e,void 0)};sl.set=function(n,e,t){return Km.set.call(this,n[0],e,t,n[0])};function Nf(n,e){const t=n[dn];return(t?Hr(t):n)[e]}function ED(n,e,t){const i=xE(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function xE(n,e){if(!(e in n))return;let t=il(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=il(t)}}function Sg(n){n.modified_||(n.modified_=!0,n.parent_&&Sg(n.parent_))}function Ff(n){n.copy_||(n.copy_=xg(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var SD=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const l=this;return function(h=a,...d){return l.produce(h,g=>t.call(this,g,...d))}}typeof t!="function"&&Wn(6),i!==void 0&&typeof i!="function"&&Wn(7);let r;if(us(e)){const a=cx(this),l=Cg(e,void 0);let u=!0;try{r=t(l),u=!1}finally{u?wg(a):Eg(a)}return ux(a,i),hx(r,a)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===pE&&(r=void 0),this.autoFreeze_&&Um(r,!0),i){const a=[],l=[];cs("Patches").generateReplacementPatches_(e,r,a,l),i(a,l)}return r}else Wn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,h=>e(h,...u));let i,r;return[this.produce(e,t,(l,u)=>{i=l,r=u}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){us(n)||Wn(8),To(n)&&(n=CD(n));const e=cx(this),t=Cg(n,void 0);return t[dn].isManual_=!0,Eg(e),t}finishDraft(n,e){const t=n&&n[dn];(!t||!t.isManual_)&&Wn(9);const{scope_:i}=t;return ux(i,e),hx(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=cs("Patches").applyPatches_;return To(n)?i(n,e):this.produce(n,r=>i(r,e))}};function Cg(n,e){const t=El(n)?cs("MapSet").proxyMap_(n,e):nh(n)?cs("MapSet").proxySet_(n,e):wD(n,e);return(e?e.scope_:vE()).drafts_.push(t),t}function CD(n){return To(n)||Wn(10,n),wE(n)}function wE(n){if(!us(n)||ih(n))return n;const e=n[dn];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=xg(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=xg(n,!0);return Tc(t,(r,a)=>{_E(t,r,wE(a))},i),e&&(e.finalized_=!1),t}var TD=new SD,RD=TD.produce;const PD=n=>(e,t,i)=>(i.setState=(r,a,...l)=>{const u=typeof r=="function"?RD(r):r;return e(u,a,...l)},n(i.setState,t,i)),rh=PD,Cn=ui()(rh((n,e)=>({tracking:!1,position:null,heading:null,smoothHeading:null,accuracy:null,speed:null,headingSource:null,watchId:null,firstFix:!0,startTracking:()=>{n(t=>{t.tracking=!0})},stopTracking:()=>{n(t=>{const{watchId:i}=e();i!==null&&navigator.geolocation.clearWatch(i),t.tracking=!1,t.speed=null,t.headingSource=null,t.watchId=null})},updatePosition:t=>{n(i=>{i.position={lat:t.coords.latitude,lng:t.coords.longitude},i.accuracy=t.coords.accuracy,i.speed=t.coords.speed;const r=15,a=.5;if(!(t.coords.accuracy!==null&&t.coords.accuracy<r)){i.headingSource=null;return}t.coords.heading!==null&&t.coords.speed!==null&&t.coords.speed>a?(i.headingSource="gps",e().updateHeading(t.coords.heading,"gps")):i.headingSource="compass"})},updateHeading:(t,i="compass")=>{n(r=>{const a=e().smoothHeading;if(a===null){r.smoothHeading=t,r.heading=t;return}let l=t-a;l>180&&(l-=360),l<-180&&(l+=360);const u=i==="compass"?5:3;if(Math.abs(l)<u)return;const d=a+l*(i==="gps"?.5:.35);r.smoothHeading=(d+360)%360,r.heading=t})},setWatchId:t=>{n(i=>{i.watchId=t})},resetFirstFix:()=>{n(t=>{t.firstFix=!1})}}))),EE={Aanlegsteigers:{name:"Aanlegsteigers",factory:async()=>{const{createAanlegsteigersLayer:n}=await Zu(async()=>{const{createAanlegsteigersLayer:e}=await import("./aanlegsteigersOL-CNIdV8rD.js");return{createAanlegsteigersLayer:e}},__vite__mapDeps([0,1]));return n()},immediateLoad:!1},Boothellingen:{name:"Boothellingen",factory:async()=>{const{createBoothellingenLayer:n}=await Zu(async()=>{const{createBoothellingenLayer:e}=await import("./boothellingenOL--iPcoTYq.js");return{createBoothellingenLayer:e}},__vite__mapDeps([2,1]));return n()},immediateLoad:!1},Dieptekaart:{name:"Dieptekaart",factory:async()=>{const{createDieptekaartLayer:n}=await Zu(async()=>{const{createDieptekaartLayer:e}=await import("./dieptekaartOL-Cqpqgyw4.js");return{createDieptekaartLayer:e}},[]);return n()},immediateLoad:!0},Viswater:{name:"Viswater",factory:async()=>{const{createViswaterLayer:n}=await Zu(async()=>{const{createViswaterLayer:e}=await import("./viswaterOL-DQ8wN3lp.js");return{createViswaterLayer:e}},__vite__mapDeps([3,1]));return n()},immediateLoad:!1}};function ID(){return Object.values(EE).filter(n=>n.immediateLoad)}const ci=ui()(rh((n,e)=>({map:null,rotation:0,rotationEnabled:!0,setMap:t=>{n(i=>{i.map=t})},setRotation:t=>{n(i=>{if(i.rotation=t,i.map&&i.rotationEnabled){const r=t*Math.PI/180;i.map.getView().setRotation(r)}})},enableRotation:()=>{n(t=>{t.rotationEnabled=!0})},disableRotation:()=>{n(t=>{t.rotationEnabled=!1,t.rotation=0,t.map&&t.map.getView().animate({rotation:0,duration:500})})}}))),vr=ui()(rh((n,e)=>({visible:{"CartoDB (licht)":!0,OpenStreetMap:!1,Luchtfoto:!1,Aanlegsteigers:!1,Boothellingen:!1,Dieptekaart:!1,Viswater:!1,"Mijn Vangsten":!0,"Favoriete Plekken":!0},opacity:{Dieptekaart:.7,Viswater:.5},loadingState:{},layers:{},toggleLayer:t=>{const i=e(),r=!i.visible[t];n(a=>{a.visible[t]=r}),r&&!i.layers[t]?e().loadLayer(t):i.layers[t]&&i.layers[t].setVisible(r)},setLayerVisibility:(t,i)=>{const r=e();n(a=>{a.visible[t]=i;const l=a.layers[t];l&&l.setVisible(i)}),i&&!r.layers[t]&&e().loadLayer(t)},setLayerOpacity:(t,i)=>{n(r=>{r.opacity[t]=i;const a=r.layers[t];a&&a.setOpacity(i)})},registerLayer:(t,i)=>{n(r=>{r.layers[t]=i,r.loadingState[t]="loaded",r.visible[t]!==void 0&&i.setVisible(r.visible[t]),r.opacity[t]!==void 0&&i.setOpacity(r.opacity[t])})},loadLayer:async t=>{const i=e();if(i.loadingState[t]==="loading"||i.layers[t])return;const r=EE[t];if(!r){console.warn(`Layer "${t}" not found in registry`);return}const a=ci.getState().map;if(!a){console.warn(`Cannot load layer "${t}": map not initialized`);return}n(l=>{l.loadingState[t]="loading"}),console.log(`Loading layer: ${t}...`);try{const l=await r.factory();if(!l)throw new Error("Factory returned null");const u=e();l.setVisible(u.visible[t]??!1),u.opacity[t]!==void 0&&l.setOpacity(u.opacity[t]),a.addLayer(l),n(h=>{h.layers[t]=l,h.loadingState[t]="loaded"}),console.log(`Layer loaded: ${t}`)}catch(l){console.error(`Failed to load layer "${t}":`,l),n(u=>{u.loadingState[t]="error"})}}}))),Un=ui()(rh(n=>({layerControlOpen:!1,settingsPanelOpen:!1,infoPanelOpen:!1,catchFormOpen:!1,catchFormLocation:null,catchDashboardOpen:!1,spotFormOpen:!1,spotFormLocation:null,spotsDashboardOpen:!1,weatherPanelOpen:!1,collapsedCategories:new Set,closeAllPanels:()=>{n(e=>{e.settingsPanelOpen=!1,e.infoPanelOpen=!1,e.weatherPanelOpen=!1})},toggleLayerControl:()=>{n(e=>{e.layerControlOpen=!e.layerControlOpen})},toggleSettingsPanel:()=>{n(e=>{const t=e.settingsPanelOpen;e.settingsPanelOpen=!1,e.infoPanelOpen=!1,e.weatherPanelOpen=!1,t||(e.settingsPanelOpen=!0)})},toggleInfoPanel:()=>{n(e=>{const t=e.infoPanelOpen;e.settingsPanelOpen=!1,e.infoPanelOpen=!1,e.weatherPanelOpen=!1,t||(e.infoPanelOpen=!0)})},toggleCategory:e=>{n(t=>{t.collapsedCategories.has(e)?t.collapsedCategories.delete(e):t.collapsedCategories.add(e)})},openCatchForm:e=>{n(t=>{t.catchFormOpen=!0,t.catchFormLocation=e||null})},closeCatchForm:()=>{n(e=>{e.catchFormOpen=!1,e.catchFormLocation=null})},toggleCatchDashboard:()=>{n(e=>{e.catchDashboardOpen=!e.catchDashboardOpen})},openSpotForm:e=>{n(t=>{t.spotFormOpen=!0,t.spotFormLocation=e||null})},closeSpotForm:()=>{n(e=>{e.spotFormOpen=!1,e.spotFormLocation=null})},toggleSpotsDashboard:()=>{n(e=>{e.spotsDashboardOpen=!e.spotsDashboardOpen})},toggleWeatherPanel:()=>{n(e=>{const t=e.weatherPanelOpen;e.settingsPanelOpen=!1,e.infoPanelOpen=!1,e.weatherPanelOpen=!1,t||(e.weatherPanelOpen=!0)})}}))),kD={};function LD(n,e){let t;try{t=n()}catch{return}return{getItem:r=>{var a;const l=h=>h===null?null:JSON.parse(h,void 0),u=(a=t.getItem(r))!=null?a:null;return u instanceof Promise?u.then(l):l(u)},setItem:(r,a)=>t.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>t.removeItem(r)}}const ol=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return ol(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return ol(i)(t)}}}},MD=(n,e)=>(t,i,r)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,R)=>({...R,...w}),...e},l=!1;const u=new Set,h=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return n((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...w)},i,r);const g=ol(a.serialize),p=()=>{const w=a.partialize({...i()});let R;const T=g({state:w,version:a.version}).then(P=>d.setItem(a.name,P)).catch(P=>{R=P});if(R)throw R;return T},y=r.setState;r.setState=(w,R)=>{y(w,R),p()};const v=n((...w)=>{t(...w),p()},i,r);let x;const S=()=>{var w;if(!d)return;l=!1,u.forEach(T=>T(i()));const R=((w=a.onRehydrateStorage)==null?void 0:w.call(a,i()))||void 0;return ol(d.getItem.bind(d))(a.name).then(T=>{if(T)return a.deserialize(T)}).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==a.version){if(a.migrate)return a.migrate(T.state,T.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return T.state}).then(T=>{var P;return x=a.merge(T,(P=i())!=null?P:v),t(x,!0),p()}).then(()=>{R?.(x,void 0),l=!0,h.forEach(T=>T(x))}).catch(T=>{R?.(void 0,T)})};return r.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(d=w.getStorage())},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:w=>(u.add(w),()=>{u.delete(w)}),onFinishHydration:w=>(h.add(w),()=>{h.delete(w)})},S(),x||v},AD=(n,e)=>(t,i,r)=>{let a={storage:LD(()=>localStorage),partialize:S=>S,version:0,merge:(S,w)=>({...w,...S}),...e},l=!1;const u=new Set,h=new Set;let d=a.storage;if(!d)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...S)},i,r);const g=()=>{const S=a.partialize({...i()});return d.setItem(a.name,{state:S,version:a.version})},p=r.setState;r.setState=(S,w)=>{p(S,w),g()};const y=n((...S)=>{t(...S),g()},i,r);r.getInitialState=()=>y;let v;const x=()=>{var S,w;if(!d)return;l=!1,u.forEach(T=>{var P;return T((P=i())!=null?P:y)});const R=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(S=i())!=null?S:y))||void 0;return ol(d.getItem.bind(d))(a.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==a.version){if(a.migrate)return[!0,a.migrate(T.state,T.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var P;const[I,L]=T;if(v=a.merge(L,(P=i())!=null?P:y),t(v,!0),I)return g()}).then(()=>{R?.(v,void 0),v=i(),l=!0,h.forEach(T=>T(v))}).catch(T=>{R?.(void 0,T)})};return r.persist={setOptions:S=>{a={...a,...S},S.storage&&(d=S.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},a.skipHydration||x(),v||y},DD=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((kD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),MD(n,e)):AD(n,e),Sl=DD,Ic=ui()(Sl(n=>({defaultBackground:"CartoDB (licht)",showScaleBar:!0,gpsAutoStart:!1,showAccuracyCircle:!0,hapticFeedback:!0,showCatchButton:!0,showCatches:!0,showFavoriteSpots:!0,setDefaultBackground:e=>n({defaultBackground:e}),setShowScaleBar:e=>n({showScaleBar:e}),setGpsAutoStart:e=>n({gpsAutoStart:e}),setShowAccuracyCircle:e=>n({showAccuracyCircle:e}),setHapticFeedback:e=>n({hapticFeedback:e}),setShowCatchButton:e=>n({showCatchButton:e}),setShowCatches:e=>n({showCatches:e}),setShowFavoriteSpots:e=>n({showFavoriteSpots:e})}),{name:"visapp-settings"})),SE=ui()(Sl((n,e)=>({catches:[],addCatch:t=>n(i=>({catches:[...i.catches,{...t,id:crypto.randomUUID(),timestamp:new Date().toISOString()}]})),removeCatch:t=>n(i=>({catches:i.catches.filter(r=>r.id!==t)})),updateCatch:(t,i)=>n(r=>({catches:r.catches.map(a=>a.id===t?{...a,...i}:a)})),clearAll:()=>n({catches:[]}),exportAsGeoJSON:()=>{const t=e().catches;if(t.length===0){alert("Geen vangsten om te exporteren");return}const i={type:"FeatureCollection",features:t.map(u=>({type:"Feature",geometry:{type:"Point",coordinates:[u.location.lng,u.location.lat]},properties:{id:u.id,species:u.species,weight:u.weight,length:u.length,method:u.method,bait:u.bait,notes:u.notes,timestamp:u.timestamp,weather:u.weather}}))},r=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=`mijn-vangsten-${new Date().toISOString().split("T")[0]}.geojson`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}}),{name:"visapp-catches"})),CE=ui((n,e)=>({current:null,loading:!1,lastUpdate:null,error:null,fetchWeather:async(t,i)=>{n({loading:!0,error:null});try{const r=new URLSearchParams({latitude:t.toString(),longitude:i.toString(),current:"temperature_2m,relative_humidity_2m,surface_pressure,wind_speed_10m,wind_direction_10m,weather_code",timezone:"Europe/Amsterdam"}),l=await(await fetch(`https://api.open-meteo.com/v1/forecast?${r}`)).json();l.current&&n({current:{temperature:l.current.temperature_2m,windSpeed:l.current.wind_speed_10m,windDirection:l.current.wind_direction_10m,pressure:l.current.surface_pressure,humidity:l.current.relative_humidity_2m,weatherCode:l.current.weather_code},loading:!1,lastUpdate:Date.now()})}catch{n({error:"Kon weer niet ophalen",loading:!1})}},getFishingCondition:()=>{const{current:t}=e();if(!t)return"moderate";let i=0;return t.windSpeed<15?i+=2:t.windSpeed<25?i+=1:i-=1,t.pressure>1013&&(i+=1),t.pressure>1020&&(i+=1),t.temperature>=10&&t.temperature<=20?i+=2:t.temperature>=5&&t.temperature<=25&&(i+=1),t.weatherCode<50&&(i+=1),i>=5?"excellent":i>=3?"good":i>=1?"moderate":"poor"}})),TE=ui()(Sl(n=>({spots:[],addSpot:e=>n(t=>({spots:[...t.spots,{...e,id:crypto.randomUUID(),createdAt:new Date().toISOString()}]})),removeSpot:e=>n(t=>({spots:t.spots.filter(i=>i.id!==e)})),updateSpot:(e,t)=>n(i=>({spots:i.spots.map(r=>r.id===e?{...r,...t}:r)})),clearAll:()=>n({spots:[]})}),{name:"visapp-spots"})),fx=[{id:"standaard",name:"Standaard",icon:"Map",layers:[],isBuiltIn:!0},{id:"vissen",name:"Vissen",icon:"Fish",layers:["Dieptekaart","Viswater"],isBuiltIn:!0},{id:"boot",name:"Boot",icon:"Anchor",layers:["Aanlegsteigers","Boothellingen","Dieptekaart"],isBuiltIn:!0},{id:"alles",name:"Alles",icon:"Layers",layers:["Aanlegsteigers","Boothellingen","Dieptekaart","Viswater"],isBuiltIn:!0}],gx=["Aanlegsteigers","Boothellingen","Dieptekaart","Viswater"],OD=ui()(Sl((n,e)=>({presets:fx,applyPreset:t=>{const i=e().presets.find(a=>a.id===t);if(!i)return;const r=vr.getState().setLayerVisibility;gx.forEach(a=>{r(a,!1)}),i.layers.forEach(a=>{r(a,!0)})},updatePreset:(t,i)=>{n(r=>({presets:r.presets.map(a=>a.id===t?{...a,...i}:a)}))},createPreset:t=>{const i=vr.getState().visible,r=gx.filter(l=>i[l]),a={id:crypto.randomUUID(),name:t,icon:"Star",layers:r,isBuiltIn:!1};n(l=>({presets:[...l.presets,a]}))},deletePreset:t=>{n(i=>({presets:i.presets.filter(r=>r.id!==t||r.isBuiltIn)}))},resetToDefaults:()=>{n({presets:fx})}}),{name:"visapp-presets"})),bD="visvriend2024",ND=ui()(Sl(n=>({isAuthenticated:!1,checkPassword:e=>{const t=e===bD;return t&&n({isAuthenticated:!0}),t},logout:()=>{n({isAuthenticated:!1})}}),{name:"visapp-auth"}));function FD({target:n}){const e=G.useRef(null),t=G.useRef(null),i=ci(a=>a.setMap),r=Ic(a=>a.showScaleBar);return G.useEffect(()=>{if(!e.current){const a=new JA({target:n,controls:[],view:new ri({center:ss([5.1214,52.0907]),zoom:8,rotation:0,minZoom:3,maxZoom:19})});e.current=a,i(a),window.__olMap=a}return()=>{e.current&&(e.current.setTarget(void 0),i(null),window.__olMap=null)}},[n,i]),G.useEffect(()=>{const a=e.current;a&&(r?t.current||(t.current=new nD({units:"metric",bar:!1,text:!0,minWidth:80}),a.addControl(t.current)):t.current&&(a.removeControl(t.current),t.current=null))},[r]),e.current}const jD=["CartoDB (licht)","OpenStreetMap","Luchtfoto"];function zD(){const n=G.useRef(null),e=G.useRef(!1);FD({target:"map"});const t=ci(h=>h.map),i=vr(h=>h.registerLayer),r=vr(h=>h.setLayerVisibility),a=Ic(h=>h.defaultBackground),l=Ic(h=>h.gpsAutoStart),u=Cn(h=>h.startTracking);return G.useEffect(()=>{if(!t)return;console.log("Initializing map layers...");const h=new If({properties:{title:"OpenStreetMap",type:"base"},visible:!1,source:new vA}),d=new If({properties:{title:"CartoDB (licht)",type:"base"},visible:!0,source:new pg({url:"https://{a-d}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attributions:" OpenStreetMap contributors  CARTO"})}),g=new If({properties:{title:"Luchtfoto",type:"base"},visible:!1,source:new pg({url:"https://service.pdok.nl/hwh/luchtfotorgb/wmts/v1_0/Actueel_orthoHR/EPSG:3857/{z}/{x}/{y}.jpeg",attributions:" Kadaster / PDOK Luchtfoto",maxZoom:19})});t.addLayer(h),t.addLayer(d),t.addLayer(g),i("OpenStreetMap",h),i("CartoDB (licht)",d),i("Luchtfoto",g),t.updateSize(),p();async function p(){const y=ID();console.log(`Loading ${y.length} immediate layers...`),(await Promise.allSettled(y.map(async x=>{try{const S=await x.factory();return S?{name:x.name,layer:S}:null}catch(S){return console.warn(`Failed to create ${x.name}:`,S),null}}))).forEach(x=>{if(x.status==="fulfilled"&&x.value){const{name:S,layer:w}=x.value;t.addLayer(w),i(S,w)}})}},[t,i]),G.useEffect(()=>{if(!t||e.current)return;const h=setTimeout(()=>{const d=a||"CartoDB (licht)";jD.forEach(g=>r(g,!1)),r(d,!0),e.current=!0},100);return()=>clearTimeout(h)},[t,a,r]),G.useEffect(()=>{if(!t||!l)return;const h=setTimeout(()=>u(),500);return()=>clearTimeout(h)},[t,l,u]),E.jsx("div",{id:"map",ref:n,style:{width:"100%",height:"100vh"}})}const VD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),mx=n=>{const e=BD(n);return e.charAt(0).toUpperCase()+e.slice(1)},RE=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),GD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UD=G.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:l,...u},h)=>G.createElement("svg",{ref:h,...WD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:RE("lucide",r),...!a&&!GD(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,g])=>G.createElement(d,g)),...Array.isArray(a)?a:[a]]));const Le=(n,e)=>{const t=G.forwardRef(({className:i,...r},a)=>G.createElement(UD,{ref:a,iconNode:e,className:RE(`lucide-${VD(mx(n))}`,`lucide-${n}`,i),...r}));return t.displayName=mx(n),t};const KD=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],PE=Le("anchor",KD);const XD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],YD=Le("book-open",XD);const HD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$D=Le("check",HD);const ZD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qD=Le("chevron-up",ZD);const QD=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],IE=Le("cloud",QD);const JD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kE=Le("external-link",JD);const eO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tO=Le("eye-off",eO);const nO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iO=Le("eye",nO);const rO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sO=Le("file-text",rO);const oO=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],ms=Le("fish",oO);const aO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],LE=Le("info",aO);const lO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kc=Le("layers",lO);const uO=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cO=Le("locate-fixed",uO);const hO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dO=Le("lock",hO);const fO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cl=Le("map-pin",fO);const gO=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ME=Le("map",gO);const mO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pO=Le("menu",mO);const yO=[["path",{d:"M5 12h14",key:"1ays0h"}]],_O=Le("minus",yO);const vO=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],xO=Le("navigation",vO);const wO=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],EO=Le("person-standing",wO);const SO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AE=Le("plus",SO);const CO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],TO=Le("rotate-ccw",CO);const RO=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],PO=Le("ruler",RO);const IO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kO=Le("save",IO);const LO=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],MO=Le("scale",LO);const AO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],px=Le("search",AO);const DO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OO=Le("settings",DO);const bO=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],NO=Le("ship",bO);const FO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Lc=Le("star",FO);const jO=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],zO=Le("thermometer",jO);const VO=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],BO=Le("waves",VO);const GO=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],WO=Le("wind",GO);const UO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mo=Le("x",UO);function KO(){const n=ci(T=>T.map),e=Un(T=>T.openCatchForm),t=Un(T=>T.openSpotForm),[i,r]=G.useState(null),[a,l]=G.useState(!1),[u,h]=G.useState(!1),d=G.useRef(null),g=G.useRef(null);G.useEffect(()=>{if(!n)return;const T=n.getViewport();if(!T)return;const P=600,I=15,L=ee=>{if(ee.touches.length!==1)return;const Q=ee.touches[0];g.current={x:Q.clientX,y:Q.clientY},d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{if(!g.current)return;const te=window.__olMap;if(!te)return;const le=T.getBoundingClientRect(),ne=[g.current.x-le.left,g.current.y-le.top],J=te.getCoordinateFromPixel(ne);if(J){const B=ov(J);ee.preventDefault(),r({pixel:[g.current.x,g.current.y],coordinate:B}),l(!0),h(!1),setTimeout(()=>h(!0),300),"vibrate"in navigator&&navigator.vibrate(50)}},P)},N=ee=>{if(!d.current||!g.current)return;const Q=ee.touches[0],te=Q.clientX-g.current.x,le=Q.clientY-g.current.y;Math.sqrt(te*te+le*le)>I&&(clearTimeout(d.current),d.current=null)},V=()=>{d.current&&(clearTimeout(d.current),d.current=null),g.current=null},j=ee=>{a&&ee.preventDefault()},U=ee=>{ee.button===0&&(g.current={x:ee.clientX,y:ee.clientY},d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{if(!g.current)return;const Q=window.__olMap;if(!Q)return;const te=T.getBoundingClientRect(),le=[g.current.x-te.left,g.current.y-te.top],ne=Q.getCoordinateFromPixel(le);if(ne){const J=ov(ne);r({pixel:[g.current.x,g.current.y],coordinate:J}),l(!0),h(!1),setTimeout(()=>h(!0),300)}},P))},$=ee=>{if(!d.current||!g.current)return;const Q=ee.clientX-g.current.x,te=ee.clientY-g.current.y;Math.sqrt(Q*Q+te*te)>I&&(clearTimeout(d.current),d.current=null)},re=()=>{d.current&&(clearTimeout(d.current),d.current=null),g.current=null};return T.addEventListener("touchstart",L,{passive:!1}),T.addEventListener("touchmove",N,{passive:!0}),T.addEventListener("touchend",V),T.addEventListener("touchcancel",V),T.addEventListener("contextmenu",j),T.addEventListener("mousedown",U),T.addEventListener("mousemove",$),T.addEventListener("mouseup",re),T.addEventListener("mouseleave",re),()=>{T.removeEventListener("touchstart",L),T.removeEventListener("touchmove",N),T.removeEventListener("touchend",V),T.removeEventListener("touchcancel",V),T.removeEventListener("contextmenu",j),T.removeEventListener("mousedown",U),T.removeEventListener("mousemove",$),T.removeEventListener("mouseup",re),T.removeEventListener("mouseleave",re),d.current&&clearTimeout(d.current)}},[n,a]);const p=()=>{u&&(l(!1),r(null),h(!1))},y=()=>{l(!1),r(null),h(!1)},v=()=>{if(!i)return;const[T,P]=i.coordinate;e({lat:P,lng:T}),y()},x=()=>{if(!i)return;const[T,P]=i.coordinate;t({lat:P,lng:T}),y()},S=()=>{if(!i)return;const[T,P]=i.coordinate,I=`https://www.google.com/maps?q=${P},${T}`;window.open(I,"_blank"),y()},w=()=>{if(!i)return;const[T,P]=i.coordinate,I=`https://www.google.com/maps?layer=c&cbll=${P},${T}`;window.open(I,"_blank"),y()},R=T=>{const[P,I]=T;return`${I.toFixed(5)}N, ${P.toFixed(5)}E`};return E.jsx(Sr,{children:a&&i&&E.jsxs(E.Fragment,{children:[E.jsx(Be.div,{className:"fixed inset-0 z-[1600]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p}),E.jsxs(Be.div,{className:"fixed z-[1601] bg-white rounded-xl shadow-lg overflow-hidden min-w-[220px] border-0 outline-none",style:{left:Math.min(i.pixel[0],window.innerWidth-240),top:Math.min(i.pixel[1],window.innerHeight-280)},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},children:[E.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600",children:E.jsxs("div",{className:"flex items-center gap-2 text-white",children:[E.jsx(Cl,{size:16}),E.jsx("span",{className:"text-xs font-mono",children:R(i.coordinate)})]})}),E.jsxs("div",{className:"bg-white",children:[E.jsxs("button",{onClick:v,className:"w-full px-4 py-3 flex items-center gap-3 transition-colors hover:bg-green-50 text-gray-700 bg-white border-0 outline-none",children:[E.jsx(ms,{size:20,className:"text-green-500"}),E.jsx("span",{className:"font-medium",children:"Vangst toevoegen"})]}),E.jsxs("button",{onClick:x,className:"w-full px-4 py-3 flex items-center gap-3 transition-colors hover:bg-orange-50 text-gray-700 bg-white border-0 outline-none",children:[E.jsx(Lc,{size:20,className:"text-orange-500"}),E.jsx("span",{className:"font-medium",children:"Locatie vastleggen"})]}),E.jsxs("button",{onClick:w,className:"w-full px-4 py-3 flex items-center gap-3 transition-colors hover:bg-yellow-50 text-gray-700 bg-white border-0 outline-none",children:[E.jsx(EO,{size:20,className:"text-yellow-600"}),E.jsx("span",{className:"font-medium",children:"Street View"})]}),E.jsxs("button",{onClick:S,className:"w-full px-4 py-3 flex items-center gap-3 transition-colors hover:bg-blue-50 text-gray-700 bg-white border-0 outline-none",children:[E.jsx(kE,{size:20,className:"text-blue-600"}),E.jsx("span",{className:"font-medium",children:"Google Maps"})]})]}),E.jsx("div",{className:"bg-gray-50 border-t border-gray-100",children:E.jsxs("button",{onClick:y,className:"w-full px-4 py-3 flex items-center justify-center gap-2 text-gray-500 hover:bg-gray-100 transition-colors bg-transparent border-0 outline-none",children:[E.jsx(Mo,{size:18}),E.jsx("span",{children:"Annuleren"})]})})]})]})})}function XO(){const{tracking:n,startTracking:e,stopTracking:t,updatePosition:i,setWatchId:r}=Cn(),a=G.useCallback(u=>{i(u)},[i]),l=G.useCallback(u=>{console.error("GPS error:",u),alert(`GPS fout: ${u.message}`),t()},[t]);return G.useEffect(()=>{if(!n)return;if(!navigator.geolocation){alert("Geolocation wordt niet ondersteund door deze browser"),t();return}const u=navigator.geolocation.watchPosition(a,l,{enableHighAccuracy:!0,maximumAge:1e3,timeout:15e3});return r(u),()=>{navigator.geolocation.clearWatch(u)}},[n,a,l,r,t]),{tracking:n,start:e,stop:t,toggle:()=>n?t():e()}}function YO(){const{tracking:n,toggle:e}=XO();return E.jsx(Be.button,{className:`
        fixed bottom-2 right-2 z-[1000]
        w-11 h-11 cursor-pointer border-0 outline-none
        flex items-center justify-center
        rounded-xl backdrop-blur-sm
        transition-all duration-200
        ${n?"bg-gradient-to-br from-blue-400 to-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-white/80 text-gray-500 hover:bg-white/90 shadow-sm"}
      `,onClick:e,whileHover:{scale:1.05},whileTap:{scale:.95},animate:n?{scale:[1,1.02,1]}:{},transition:n?{scale:{duration:2,repeat:1/0,ease:"easeInOut"}}:{},"aria-label":n?"GPS tracking actief":"GPS tracking starten",title:n?"GPS tracking actief":"GPS tracking starten",children:E.jsx(cO,{size:22,strokeWidth:2})})}const HO="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
    <polygon points="24,6 38,38 24,30 10,38" fill="#2196F3" stroke="white" stroke-width="3" stroke-linejoin="round"/>
  </svg>`);function $O(){const n=ci(y=>y.map),e=Cn(y=>y.position),t=Cn(y=>y.accuracy),i=Cn(y=>y.tracking),r=Cn(y=>y.smoothHeading),a=Ic(y=>y.showAccuracyCircle),l=Cn(y=>y.firstFix),u=Cn(y=>y.resetFirstFix),h=G.useRef(null),d=G.useRef(null),g=G.useRef(null),p=G.useMemo(()=>y=>new kn({image:new km({src:HO,scale:.9,rotation:y,rotateWithView:!1,anchor:[.5,.5]})}),[]);return G.useEffect(()=>{if(!n||!i&&!e)return;const y=ss([5.1214,52.0907]);return h.current=new _o({geometry:new os(y)}),h.current.setStyle(p(0)),d.current=new _o({geometry:new os(y)}),g.current=new Fm({source:new Im({features:[d.current,h.current]}),zIndex:1e3}),n.addLayer(g.current),()=>{g.current&&n&&n.removeLayer(g.current)}},[n,i,e,p]),G.useEffect(()=>{if(!n||!e||!h.current||!d.current)return;const y=ss([e.lng,e.lat]);if(h.current.getGeometry()?.setCoordinates(y),d.current.getGeometry()?.setCoordinates(y),a&&t){const v=n.getView().getResolution()||1,x=Math.min(t/v,80);d.current.setStyle(new kn({image:new fs({radius:x,fill:new Xn({color:"rgba(33, 150, 243, 0.15)"})})}))}else d.current.setStyle(new kn({}));if(l&&i){n.getView().setCenter(y),n.getView().setZoom(15),u();return}i&&!l&&n.getView().animate({center:y,duration:150})},[n,i,e,t,l,u,a]),G.useEffect(()=>{if(!h.current)return;const y=r!==null?r*Math.PI/180:0;h.current.setStyle(p(y))},[r,p]),null}function ZO(){const n=ci(i=>i.map),e=()=>{if(!n)return;const i=n.getView(),r=i.getZoom();r!==void 0&&i.animate({zoom:r+1,duration:200})},t=()=>{if(!n)return;const i=n.getView(),r=i.getZoom();r!==void 0&&i.animate({zoom:r-1,duration:200})};return E.jsxs("div",{className:"fixed top-2 left-2 z-[800] flex flex-col gap-1",children:[E.jsx(Be.button,{className:"w-9 h-9 flex items-center justify-center bg-white/80 hover:bg-white/90 rounded-xl shadow-sm border-0 outline-none transition-colors backdrop-blur-sm",onClick:e,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Inzoomen",children:E.jsx(AE,{size:18,className:"text-gray-600"})}),E.jsx(Be.button,{className:"w-9 h-9 flex items-center justify-center bg-white/80 hover:bg-white/90 rounded-xl shadow-sm border-0 outline-none transition-colors backdrop-blur-sm",onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Uitzoomen",children:E.jsx(_O,{size:18,className:"text-gray-600"})})]})}function qO(){const n=ci(P=>P.map),[e,t]=G.useState(!1),[i,r]=G.useState(""),[a,l]=G.useState([]),[u,h]=G.useState(!1),[d,g]=G.useState(!1),p=G.useRef(null),y=G.useRef(null),v=G.useRef();G.useEffect(()=>{e&&p.current&&p.current.focus()},[e]),G.useEffect(()=>{if(!e)return;const P=I=>{y.current&&!y.current.contains(I.target)&&x()};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[e]),G.useEffect(()=>{if(!e)return;const P=I=>{I.key==="Escape"&&x()};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[e]),G.useEffect(()=>{if(v.current&&clearTimeout(v.current),i.length<2){l([]);return}return v.current=window.setTimeout(async()=>{g(!0);try{const I=await(await fetch(`https://api.pdok.nl/bzk/locatieserver/search/v3_1/suggest?q=${encodeURIComponent(i)}&rows=7`)).json();I.response?.docs&&l(I.response.docs)}catch(P){console.error("Search error:",P),l([])}finally{g(!1)}},300),()=>{v.current&&clearTimeout(v.current)}},[i]);const x=()=>{t(!1),r(""),l([]),h(!1)},S=async P=>{try{const L=await(await fetch(`https://api.pdok.nl/bzk/locatieserver/search/v3_1/lookup?id=${encodeURIComponent(P)}`)).json();if(L.response?.docs?.[0]?.centroide_ll){const V=L.response.docs[0].centroide_ll.match(/POINT\(([^ ]+) ([^)]+)\)/);if(V)return{lng:parseFloat(V[1]),lat:parseFloat(V[2])}}}catch(I){console.error("Lookup error:",I)}return null},w=async P=>{if(!n)return;const I=await S(P.id);I&&n.getView().animate({center:ss([I.lng,I.lat]),zoom:16,duration:1e3}),x()},R=async(P,I)=>{I.stopPropagation();const L=await S(P.id);if(L){const N=`https://www.google.com/maps?q=${L.lat},${L.lng}`;window.open(N,"_blank")}x()},T={top:"max(0.5rem, env(safe-area-inset-top, 0.5rem))"};return e?E.jsxs("div",{ref:y,className:"fixed left-[52px] right-14 z-[850]",style:T,children:[E.jsxs(Be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"search-input-wrapper",children:[E.jsx(px,{size:18,className:"search-icon"}),E.jsx("input",{ref:p,type:"text",value:i,onChange:P=>{r(P.target.value),h(!0)},onFocus:()=>h(!0),placeholder:"Zoek adres of plaats...",className:"search-input"}),E.jsx("button",{onClick:x,className:"search-clear",title:"Sluiten",children:E.jsx(Mo,{size:18})})]}),E.jsx(Sr,{children:u&&a.length>0&&E.jsx(Be.ul,{className:"search-results",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:a.map(P=>E.jsxs("li",{className:"search-result-item",children:[E.jsx("div",{className:"search-result-content",onClick:()=>w(P),children:E.jsx("span",{className:"search-result-text",children:P.weergavenaam})}),E.jsx("button",{className:"search-navigate-btn",onClick:I=>R(P,I),title:"Open in Google Maps",children:E.jsx(kE,{size:20})})]},P.id))})}),u&&d&&E.jsx("div",{className:"search-loading",children:"Zoeken..."})]}):E.jsx(Be.button,{className:"fixed right-14 z-[800] w-11 h-11 flex items-center justify-center bg-white/90 hover:bg-white rounded-xl shadow-sm border-0 outline-none transition-colors backdrop-blur-sm",style:T,onClick:()=>t(!0),whileHover:{scale:1.05},whileTap:{scale:.95},title:"Zoeken",children:E.jsx(px,{size:22,className:"text-gray-600"})})}function QO(){const[n,e]=G.useState(!1),{toggleInfoPanel:t,toggleSettingsPanel:i}=Un(),r={top:"max(0.5rem, env(safe-area-inset-top, 0.5rem))"},a=()=>e(!1),l=()=>{a(),t()},u=()=>{a(),i()};return E.jsxs(E.Fragment,{children:[E.jsx(Be.button,{className:`fixed right-2 z-[800] w-11 h-11 flex items-center justify-center rounded-xl shadow-sm border-0 outline-none transition-colors backdrop-blur-sm ${n?"bg-blue-500 hover:bg-blue-600":"bg-white/90 hover:bg-white"}`,style:r,onClick:()=>e(!n),whileHover:{scale:1.05},whileTap:{scale:.95},title:"Menu",children:n?E.jsx(Mo,{size:22,className:"text-white"}):E.jsx(pO,{size:22,className:"text-gray-600"})}),E.jsx(Sr,{children:n&&E.jsxs(E.Fragment,{children:[E.jsx(Be.div,{className:"fixed inset-0 z-[799]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a}),E.jsxs(Be.div,{initial:{opacity:0,y:-8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.95},transition:{duration:.15},className:"fixed right-2 z-[801] w-56 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col",style:{top:"calc(max(0.5rem, env(safe-area-inset-top, 0.5rem)) + 52px)"},children:[E.jsx("div",{className:"flex items-center justify-between gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600",children:E.jsx("span",{className:"font-medium text-white text-sm",children:"Menu"})}),E.jsx("div",{className:"py-1",children:E.jsxs("button",{onClick:l,className:"w-full px-3 py-2.5 text-left flex items-center gap-3 border-0 outline-none bg-transparent transition-colors text-gray-700 hover:bg-blue-50 text-sm",children:[E.jsx(LE,{size:18,className:"text-blue-500"}),E.jsx("span",{children:"Info & handleiding"})]})}),E.jsx("div",{className:"mt-auto border-t border-gray-100",children:E.jsxs("button",{onClick:u,className:"w-full px-3 py-2.5 text-left flex items-center gap-3 border-0 outline-none bg-transparent transition-colors text-gray-700 hover:bg-gray-50 text-sm",children:[E.jsx(OO,{size:18,className:"text-gray-500"}),E.jsx("span",{children:"Instellingen"})]})}),E.jsx("div",{className:"px-3 py-1.5 bg-gray-50 text-center text-gray-400 text-xs",children:"VisApp NL v1.0.0"})]})]})})]})}function JO(){const{infoPanelOpen:n,toggleInfoPanel:e}=Un(),[t,i]=G.useState("info"),r=[{id:"info",label:"Info",icon:E.jsx(LE,{size:14})},{id:"functies",label:"Functies",icon:E.jsx(sO,{size:14})},{id:"handleiding",label:"Handleiding",icon:E.jsx(YD,{size:14})}];return E.jsx(Sr,{children:n&&E.jsxs(E.Fragment,{children:[E.jsx(Be.div,{className:"fixed inset-0 z-[1600] bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),E.jsxs(Be.div,{className:"fixed inset-4 z-[1601] bg-white rounded-xl shadow-2xl overflow-hidden flex flex-col max-w-lg mx-auto my-auto max-h-[90vh]",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600",children:[E.jsx("span",{className:"font-medium text-white",children:"VisApp NL v1.0.0"}),E.jsx("button",{onClick:e,className:"p-1 rounded bg-blue-400/50 hover:bg-blue-400 transition-colors border-0 outline-none",children:E.jsx(Mo,{size:18,className:"text-white",strokeWidth:2.5})})]}),E.jsx("div",{className:"flex border-b border-gray-200",children:r.map(a=>E.jsxs("button",{onClick:()=>i(a.id),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 text-sm font-medium transition-colors border-0 outline-none ${t===a.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.icon,a.label]},a.id))}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 text-sm",children:[t==="info"&&E.jsx(eb,{}),t==="functies"&&E.jsx(tb,{}),t==="handleiding"&&E.jsx(nb,{}),E.jsx("section",{className:"pt-2 border-t border-gray-200 space-y-2",children:E.jsx("p",{className:"text-xs text-gray-400 text-center",children:"VisApp NL v1.0.0 - Voor jou en je vismaat"})})]})]})]})})}function eb(){return E.jsxs(E.Fragment,{children:[E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Over deze app"}),E.jsx("p",{className:"text-gray-600",children:"VisApp NL is d gratis kaartapplicatie voor sportvissers in Nederland. Met aanlegsteigers, boothellingen, dieptekaarten en viswater grenzen. Registreer je vangsten, markeer favoriete plekken en deel met je vismaat."})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Databronnen"}),E.jsxs("ul",{className:"space-y-2 text-gray-600",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"OpenStreetMap"})," (ODbL)",E.jsx("br",{}),E.jsx("span",{className:"text-xs",children:"Aanlegsteigers, boothellingen, viswater gebieden"})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"PDOK / Rijkswaterstaat"})," (CC0/CC-BY)",E.jsx("br",{}),E.jsx("span",{className:"text-xs",children:"Dieptekaarten, locatieserver"})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Open-Meteo"})," (CC-BY)",E.jsx("br",{}),E.jsx("span",{className:"text-xs",children:"Weergegevens en windinfo"})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Privacy"}),E.jsxs("div",{className:"text-gray-600 space-y-2",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Lokale opslag:"})," Je vangsten en favoriete plekken worden lokaal op je apparaat opgeslagen."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"GPS:"})," Je locatie wordt alleen gebruikt om je positie op de kaart te tonen en wordt niet gedeeld."]})]})]})]})}function tb(){return E.jsxs(E.Fragment,{children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[E.jsx(ME,{size:16,className:"text-blue-600"}),"Kaartlagen"]}),E.jsxs("ul",{className:"text-gray-600 space-y-1 text-xs",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Achtergrond:"})," CartoDB, OpenStreetMap, Luchtfoto"]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Aanlegsteigers:"})," Marina's en aanmeerplekken"]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Boothellingen:"})," Plekken om je boot te water te laten"]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Dieptekaart:"})," Waterdiepte informatie"]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Viswater:"})," Grenzen van viswater gebieden"]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[E.jsx(ms,{size:16,className:"text-green-600"}),"Vangst Registratie"]}),E.jsxs("ul",{className:"text-gray-600 space-y-1 text-xs",children:[E.jsx("li",{children:"Registreer soort, gewicht en lengte"}),E.jsx("li",{children:"Vismethode en aas bijhouden"}),E.jsx("li",{children:"Weergegevens automatisch opgeslagen"}),E.jsx("li",{children:"GPS locatie per vangst"})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[E.jsx(Cl,{size:16,className:"text-orange-600"}),"Favoriete Plekken"]}),E.jsxs("ul",{className:"text-gray-600 space-y-1 text-xs",children:[E.jsx("li",{children:"Markeer je beste visplekken"}),E.jsx("li",{children:"Voeg notities en ratings toe"}),E.jsx("li",{children:"Welke vis zit waar?"})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[E.jsx(IE,{size:16,className:"text-cyan-600"}),"Weer & Wind"]}),E.jsxs("ul",{className:"text-gray-600 space-y-1 text-xs",children:[E.jsx("li",{children:"Live weergegevens op je locatie"}),E.jsx("li",{children:"Windsnelheid en richting"}),E.jsx("li",{children:"Luchtdruk"}),E.jsx("li",{children:"Visvriendelijkheid indicator"})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[E.jsx(xO,{size:16,className:"text-blue-600"}),"GPS & Navigatie"]}),E.jsxs("ul",{className:"text-gray-600 space-y-1 text-xs",children:[E.jsx("li",{children:"Live GPS tracking"}),E.jsx("li",{children:"Zoek adressen en plaatsen"}),E.jsx("li",{children:"Open locatie in Google Maps"})]})]})]})}function nb(){return E.jsxs(E.Fragment,{children:[E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Eerste stappen"}),E.jsxs("ol",{className:"text-gray-600 space-y-2 text-xs list-decimal list-inside",children:[E.jsxs("li",{children:["Tik op de ",E.jsx("strong",{children:"GPS knop"})," (rechtsonder, blauw) om je locatie te zien"]}),E.jsxs("li",{children:["Gebruik het ",E.jsx("strong",{children:"lagen paneel"})," (linksonder) om kaartlagen aan te zetten"]}),E.jsxs("li",{children:["Tik op de ",E.jsx("strong",{children:"groene vis knop"})," om een vangst te registreren"]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Vangst registreren"}),E.jsxs("div",{className:"text-gray-600 space-y-2 text-xs",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Via GPS:"})," Tik op de groene vis knop. Je locatie wordt automatisch ingevuld."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Vul in:"})," Vissoort (verplicht), gewicht, lengte, methode en aas."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Weer:"})," Weergegevens worden automatisch toegevoegd als GPS actief is."]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Kaartlagen gebruiken"}),E.jsxs("div",{className:"text-gray-600 space-y-2 text-xs",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Lagen paneel:"})," Linksonder op de kaart."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Achtergrond:"})," Kies tussen kaart, OSM of satelliet."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Overlays:"})," Zet aanlegsteigers, boothellingen, diepte of viswater aan."]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Zoeken"}),E.jsxs("div",{className:"text-gray-600 space-y-2 text-xs",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Zoekknop:"})," Rechtsboven naast het menu."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Zoek:"})," Type een adres of plaatsnaam."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Navigeer:"})," Tik op het pijltje om in Google Maps te openen."]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Tips voor vissen"}),E.jsxs("ul",{className:"text-gray-600 space-y-1 text-xs list-disc list-inside",children:[E.jsxs("li",{children:["Gebruik de ",E.jsx("strong",{children:"dieptekaart"})," om diepe plekken te vinden"]}),E.jsxs("li",{children:["Check de ",E.jsx("strong",{children:"weer widget"})," voor visvriendelijke omstandigheden"]}),E.jsx("li",{children:"Lage luchtdruk en bewolkt weer = vaak beter bijten!"}),E.jsxs("li",{children:["Markeer succesvolle plekken als ",E.jsx("strong",{children:"favoriet"})]})]})]})]})}const ib=ss([5.1214,52.0907]),rb=8;function sb(){const n=ci(r=>r.map),e=vr(r=>r.setLayerVisibility),t=Cn(r=>r.stopTracking),i=()=>{t(),e("CartoDB (licht)",!0),e("OpenStreetMap",!1),e("Luchtfoto",!1),e("Aanlegsteigers",!1),e("Boothellingen",!1),e("Dieptekaart",!1),e("Viswater",!1),n&&n.getView().animate({center:ib,zoom:rb,rotation:0,duration:500})};return E.jsx(Be.button,{onClick:i,className:"fixed bottom-2 left-2 z-[800] w-11 h-11 flex items-center justify-center bg-white/80 hover:bg-white/90 rounded-xl shadow-sm border-0 outline-none transition-colors backdrop-blur-sm",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Reset - Standaard kaart, alle lagen uit, GPS uit",children:E.jsx(TO,{size:18,className:"text-gray-600"})})}const ob={Map:ME,Fish:ms,Anchor:PE,Layers:kc,Star:Lc},ab={Map:"text-gray-600",Fish:"text-green-600",Anchor:"text-blue-600",Layers:"text-purple-600",Star:"text-yellow-500"},lb={Map:"hover:bg-gray-50",Fish:"hover:bg-green-50",Anchor:"hover:bg-blue-50",Layers:"hover:bg-purple-50",Star:"hover:bg-yellow-50"};function ub(){const{presets:n,applyPreset:e,updatePreset:t,createPreset:i}=OD(),[r,a]=G.useState(!1),[l,u]=G.useState(null),[h,d]=G.useState(!1),[g,p]=G.useState(""),y=S=>{e(S),a(!1)},v=(S,w)=>{S.stopPropagation();const{useLayerStore:R}=require("../../store"),T=R.getState().visible,P=["Aanlegsteigers","Boothellingen","Dieptekaart","Viswater"].filter(I=>T[I]);t(w,{layers:P}),u(w),setTimeout(()=>u(null),2e3)},x=()=>{g.trim()&&(i(g.trim()),p(""),d(!1))};return E.jsxs(E.Fragment,{children:[E.jsx(Be.button,{onClick:()=>a(!r),className:"fixed bottom-[60px] left-2 z-[800] w-11 h-11 flex items-center justify-center bg-white/80 hover:bg-white/90 rounded-xl shadow-sm border-0 outline-none transition-colors backdrop-blur-sm",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Presets",children:r?E.jsx(qD,{size:20,className:"text-blue-600"}):E.jsx(kc,{size:20,className:"text-gray-600"})}),E.jsx(Sr,{children:r&&E.jsxs(E.Fragment,{children:[E.jsx(Be.div,{className:"fixed inset-0 z-[799]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1)}),E.jsxs(Be.div,{className:"fixed bottom-[116px] left-2 z-[801] bg-white rounded-xl shadow-lg overflow-hidden min-w-[180px]",initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},children:[E.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600",children:E.jsx("span",{className:"font-medium text-white text-sm",children:"Presets"})}),E.jsx("div",{className:"p-2 max-h-[250px] overflow-y-auto",children:n.map(S=>{const w=ob[S.icon]||kc,R=ab[S.icon]||"text-blue-600",T=lb[S.icon]||"hover:bg-blue-50",P=l===S.id;return E.jsxs("button",{onClick:()=>y(S.id),className:`w-full h-9 flex items-center gap-2 px-2 ${T} rounded text-left transition-colors border-0 outline-none bg-transparent ${P?"bg-green-50":""}`,children:[E.jsx(w,{size:16,className:`${R} flex-shrink-0`}),E.jsx("span",{className:"text-gray-700 text-sm truncate flex-1",children:S.name}),P?E.jsx("span",{className:"ml-auto p-1 flex-shrink-0",children:E.jsx($D,{size:14,className:"text-green-500"})}):E.jsx("span",{onClick:I=>v(I,S.id),className:"ml-auto p-1 hover:bg-gray-200 rounded transition-colors flex-shrink-0",title:"Huidige lagen opslaan",children:E.jsx(kO,{size:12,className:"text-gray-400 hover:text-blue-500"})})]},S.id)})}),E.jsx("div",{className:"border-t border-gray-200 p-2",children:h?E.jsxs("div",{className:"flex gap-1",children:[E.jsx("input",{type:"text",value:g,onChange:S=>p(S.target.value),onKeyDown:S=>{S.key==="Enter"&&x(),S.key==="Escape"&&d(!1)},placeholder:"Naam...",autoFocus:!0,className:"flex-1 px-2 py-1 text-sm rounded bg-gray-50 border-0 outline-none focus:ring-1 focus:ring-blue-400"}),E.jsx("button",{onClick:x,disabled:!g.trim(),className:"px-2 py-1 bg-blue-500 text-white rounded text-xs disabled:opacity-50 border-0 outline-none",children:"OK"})]}):E.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-center gap-1 px-2 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded transition-colors border-0 outline-none",children:[E.jsx(AE,{size:14}),E.jsx("span",{children:"Nieuwe preset"})]})})]})]})})]})}function cb(){const{current:n,loading:e,fetchWeather:t,getFishingCondition:i}=CE(),r=Cn(d=>d.position);if(G.useEffect(()=>{r&&t(r.lat,r.lng)},[r,t]),G.useEffect(()=>{if(!r)return;const d=setInterval(()=>{t(r.lat,r.lng)},600*1e3);return()=>clearInterval(d)},[r,t]),!n&&!e)return null;const a=i(),l={excellent:"text-green-500",good:"text-lime-500",moderate:"text-amber-500",poor:"text-red-500"},u={excellent:"Uitstekend",good:"Goed",moderate:"Matig",poor:"Slecht"},h=d=>["N","NO","O","ZO","Z","ZW","W","NW"][Math.round(d/45)%8];return E.jsx(Be.div,{className:"fixed top-24 left-2 z-[700] bg-white/90 backdrop-blur-sm rounded-xl shadow-sm p-3 min-w-[130px]",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e?E.jsx("div",{className:"text-sm text-gray-500",children:"Laden..."}):n?E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-1",children:[E.jsx(ms,{size:18,className:l[a]}),E.jsx("span",{className:`text-sm font-medium ${l[a]}`,children:u[a]})]}),E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsx(zO,{size:16,className:"text-gray-400"}),E.jsxs("span",{children:[Math.round(n.temperature),"C"]})]}),E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsx(WO,{size:16,className:"text-gray-400"}),E.jsxs("span",{children:[Math.round(n.windSpeed)," km/u ",h(n.windDirection)]})]}),E.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[E.jsx(IE,{size:16,className:"text-gray-400"}),E.jsxs("span",{children:[Math.round(n.pressure)," hPa"]})]})]}):null})}const DE=[{name:"Snoek",category:"roofvis"},{name:"Snoekbaars",category:"roofvis"},{name:"Baars",category:"roofvis"},{name:"Meerval",category:"roofvis"},{name:"Karper",category:"karperachtig"},{name:"Brasem",category:"karperachtig"},{name:"Voorn",category:"karperachtig"},{name:"Zeelt",category:"karperachtig"},{name:"Kolblei",category:"karperachtig"},{name:"Winde",category:"karperachtig"},{name:"Blankvoorn",category:"karperachtig"},{name:"Ruisvoorn",category:"karperachtig"},{name:"Forel",category:"forel"},{name:"Regenboogforel",category:"forel"},{name:"Beekforel",category:"forel"},{name:"Paling",category:"aal"},{name:"Zeebaars",category:"zout"},{name:"Harder",category:"zout"},{name:"Makreel",category:"zout"},{name:"Horsmakreel",category:"zout"},{name:"Bot",category:"zout"},{name:"Tong",category:"zout"},{name:"Pos",category:"overig"},{name:"Spiering",category:"overig"},{name:"Anders",category:"overig"}],hb=["Spinfissen","Feedervissen","Karpervissen","Vliegvissen","Dropshot","Streetfishing","Sleepvissen","Kunstaas","Levend aas","Match vissen","Anders"],db=["Wobbler","Twister","Shad","Spinner","Lepel","Jerkbait","Crankbait","Worm","Made","Mais","Brood","Boilie","Pellet","Witvis","Garnaal","Droge vlieg","Natte vlieg","Nymf","Streamer","Anders"];function fb({onClose:n,initialLocation:e}){const t=SE(P=>P.addCatch),i=CE(P=>P.current),r=Cn(P=>P.position),a=e||(r?{lat:r.lat,lng:r.lng}:null),[l,u]=G.useState(""),[h,d]=G.useState(""),[g,p]=G.useState(""),[y,v]=G.useState(""),[x,S]=G.useState(""),[w,R]=G.useState(""),T=P=>{if(P.preventDefault(),!l||!a){alert("Selecteer een vissoort en zorg dat GPS actief is");return}t({location:a,species:l,weight:h?parseInt(h):void 0,length:g?parseInt(g):void 0,method:y||"Anders",bait:x||void 0,notes:w||void 0,weather:i?{temp:i.temperature,windSpeed:i.windSpeed,windDirection:i.windDirection,pressure:i.pressure}:void 0}),n()};return E.jsx(Be.div,{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:E.jsxs(Be.div,{className:"bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-md max-h-[90vh] overflow-y-auto",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:P=>P.stopPropagation(),children:[E.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-3 flex items-center justify-between rounded-t-2xl sm:rounded-t-2xl",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ms,{className:"text-white",size:24}),E.jsx("h2",{className:"text-lg font-semibold",children:"Vangst registreren"})]}),E.jsx("button",{onClick:n,className:"p-1.5 border-0 outline-none bg-transparent text-white/80 hover:text-white transition-colors",children:E.jsx(Mo,{size:20})})]}),E.jsxs("form",{onSubmit:T,className:"p-4 space-y-4",children:[a&&E.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 p-2 rounded-lg",children:[E.jsx(Cl,{size:16}),E.jsxs("span",{children:[a.lat.toFixed(5),", ",a.lng.toFixed(5)]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vissoort *"}),E.jsxs("select",{value:l,onChange:P=>u(P.target.value),className:"form-select",required:!0,children:[E.jsx("option",{value:"",children:"Selecteer vissoort..."}),DE.map(P=>E.jsx("option",{value:P.name,children:P.name},P.name))]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[E.jsx(MO,{size:14,className:"inline mr-1"}),"Gewicht (gram)"]}),E.jsx("input",{type:"number",value:h,onChange:P=>d(P.target.value),placeholder:"bijv. 1500",className:"form-input"})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[E.jsx(PO,{size:14,className:"inline mr-1"}),"Lengte (cm)"]}),E.jsx("input",{type:"number",value:g,onChange:P=>p(P.target.value),placeholder:"bijv. 45",className:"form-input"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vismethode"}),E.jsxs("select",{value:y,onChange:P=>v(P.target.value),className:"form-select",children:[E.jsx("option",{value:"",children:"Selecteer methode..."}),hb.map(P=>E.jsx("option",{value:P,children:P},P))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aas"}),E.jsxs("select",{value:x,onChange:P=>S(P.target.value),className:"form-select",children:[E.jsx("option",{value:"",children:"Selecteer aas..."}),db.map(P=>E.jsx("option",{value:P,children:P},P))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notities"}),E.jsx("textarea",{value:w,onChange:P=>R(P.target.value),placeholder:"Extra opmerkingen...",className:"form-input resize-none",rows:2})]}),E.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-xl transition-colors",children:"Vangst opslaan"})]})]})})}function gb(){const n=Un(l=>l.catchFormOpen),e=Un(l=>l.catchFormLocation),t=Un(l=>l.openCatchForm),i=Un(l=>l.closeCatchForm),r=Cn(l=>l.position),a=()=>{r?t({lat:r.lat,lng:r.lng}):t()};return E.jsxs(E.Fragment,{children:[E.jsx(Be.button,{className:"fixed bottom-2 right-[60px] z-[1000] w-11 h-11 bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-sm flex items-center justify-center cursor-pointer border-0 outline-none backdrop-blur-sm",onClick:a,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Vangst toevoegen",title:"Vangst toevoegen",children:E.jsx(ms,{size:22,strokeWidth:2})}),E.jsx(Sr,{children:n&&E.jsx(fb,{onClose:i,initialLocation:e||void 0})})]})}function mb(){const n=ci(r=>r.map),e=SE(r=>r.catches),t=G.useRef(null),i=G.useRef(null);return G.useEffect(()=>{if(n)return i.current=new Im,t.current=new Fm({source:i.current,zIndex:500}),n.addLayer(t.current),()=>{t.current&&n&&n.removeLayer(t.current)}},[n]),G.useEffect(()=>{i.current&&(i.current.clear(),e.forEach(r=>{const a=ss([r.location.lng,r.location.lat]),l=new _o({geometry:new os(a),catchData:r}),u=r.species.charAt(0).toUpperCase();l.setStyle(new kn({image:new fs({radius:14,fill:new Xn({color:"#22c55e"}),stroke:new Io({color:"#fff",width:2})}),text:new yl({text:u,font:"bold 12px sans-serif",fill:new Xn({color:"#fff"}),offsetY:1})})),i.current.addFeature(l)}))},[e]),null}function pb(){const n=ci(r=>r.map),e=TE(r=>r.spots),t=G.useRef(null),i=G.useRef(null);return G.useEffect(()=>{if(n)return i.current=new Im,t.current=new Fm({source:i.current,zIndex:450}),n.addLayer(t.current),()=>{t.current&&n&&n.removeLayer(t.current)}},[n]),G.useEffect(()=>{i.current&&(i.current.clear(),e.forEach(r=>{const a=ss([r.location.lng,r.location.lat]),l=new _o({geometry:new os(a),spotData:r}),u=r.rating>=4?"#f59e0b":r.rating>=2?"#fbbf24":"#d1d5db";l.setStyle(new kn({image:new fs({radius:12,fill:new Xn({color:u}),stroke:new Io({color:"#fff",width:2})}),text:new yl({text:"",font:"bold 14px sans-serif",fill:new Xn({color:"#fff"}),offsetY:1})})),i.current.addFeature(l)}))},[e]),null}function yb({onClose:n,initialLocation:e}){const t=TE(w=>w.addSpot),[i,r]=G.useState(""),[a,l]=G.useState(""),[u,h]=G.useState([]),[d,g]=G.useState(""),[p,y]=G.useState(3),v=e,x=w=>{h(R=>R.includes(w)?R.filter(T=>T!==w):[...R,w])},S=w=>{if(w.preventDefault(),!i||!v){alert("Geef een naam op voor deze locatie");return}t({name:i,location:v,waterBody:a||void 0,fishTypes:u,notes:d||void 0,rating:p}),n()};return E.jsx(Be.div,{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:E.jsxs(Be.div,{className:"bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-md max-h-[90vh] overflow-y-auto",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:w=>w.stopPropagation(),children:[E.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-orange-600 text-white px-4 py-3 flex items-center justify-between rounded-t-2xl sm:rounded-t-2xl",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Lc,{className:"text-white",size:24}),E.jsx("h2",{className:"text-lg font-semibold",children:"Locatie vastleggen"})]}),E.jsx("button",{onClick:n,className:"p-1.5 border-0 outline-none bg-transparent text-white/80 hover:text-white transition-colors",children:E.jsx(Mo,{size:20})})]}),E.jsxs("form",{onSubmit:S,className:"p-4 space-y-4",children:[v&&E.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 p-2 rounded-lg",children:[E.jsx(Cl,{size:16}),E.jsxs("span",{children:[v.lat.toFixed(5),", ",v.lng.toFixed(5)]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam *"}),E.jsx("input",{type:"text",value:i,onChange:w=>r(w.target.value),placeholder:"bijv. Mijn favoriete stek",className:"form-input",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Water"}),E.jsx("input",{type:"text",value:a,onChange:w=>l(w.target.value),placeholder:"bijv. IJsselmeer, Waal, etc.",className:"form-input"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beoordeling"}),E.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(w=>E.jsx("button",{type:"button",onClick:()=>y(w),className:"p-1 border-0 outline-none bg-transparent",children:E.jsx(Lc,{size:28,className:w<=p?"text-yellow-400 fill-yellow-400":"text-gray-300"})},w))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welke vis zit hier?"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:DE.slice(0,12).map(w=>E.jsx("button",{type:"button",onClick:()=>x(w.name),className:`px-3 py-1.5 text-sm rounded-full border-0 outline-none transition-colors ${u.includes(w.name)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w.name},w.name))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notities"}),E.jsx("textarea",{value:d,onChange:w=>g(w.target.value),placeholder:"Tips, omstandigheden, etc.",className:"form-input resize-none",rows:2})]}),E.jsx("button",{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 rounded-xl transition-colors",children:"Locatie opslaan"})]})]})})}const _b=[{name:"Aanlegsteigers",icon:PE,color:"#2196F3"},{name:"Boothellingen",icon:NO,color:"#4CAF50"},{name:"Dieptekaart",icon:BO,color:"#00BCD4"},{name:"Viswater",icon:Cl,color:"#9C27B0"}],yx=[{name:"CartoDB (licht)",label:"Kaart"},{name:"OpenStreetMap",label:"OSM"},{name:"Luchtfoto",label:"Satelliet"}];function vb(){const[n,e]=G.useState(!1),t=vr(l=>l.visible),i=vr(l=>l.toggleLayer),r=vr(l=>l.setLayerVisibility),a=l=>{yx.forEach(u=>{r(u.name,u.name===l)})};return E.jsxs("div",{className:"fixed bottom-[60px] right-2 z-[900]",children:[E.jsx(Be.button,{className:"w-11 h-11 bg-white/80 hover:bg-white/90 backdrop-blur-sm rounded-xl shadow-sm flex items-center justify-center text-gray-600 border-0 outline-none transition-colors",onClick:()=>e(!n),whileHover:{scale:1.05},whileTap:{scale:.95},title:"Kaartlagen",children:E.jsx(kc,{size:22})}),E.jsx(Sr,{children:n&&E.jsxs(Be.div,{className:"absolute bottom-12 right-0 bg-white rounded-xl shadow-lg p-3 min-w-[200px]",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},children:[E.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-100",children:[E.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Achtergrond"}),E.jsx("div",{className:"flex gap-1",children:yx.map(l=>E.jsx("button",{className:`px-2 py-1 text-xs rounded-md transition-colors ${t[l.name]?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>a(l.name),children:l.label},l.name))})]}),E.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Kaartlagen"}),E.jsx("div",{className:"space-y-1",children:_b.map(l=>{const u=l.icon,h=t[l.name];return E.jsxs("button",{className:`w-full flex items-center gap-2 px-2 py-2 rounded-lg transition-colors ${h?"bg-blue-50 text-blue-700":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>i(l.name),children:[E.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center",style:{backgroundColor:h?l.color:"#e5e7eb"},children:E.jsx(u,{size:14,className:"text-white"})}),E.jsx("span",{className:"text-sm",children:l.name}),h&&E.jsx("div",{className:"ml-auto w-2 h-2 bg-green-500 rounded-full"})]},l.name)})})]})})]})}function xb({children:n}){const{isAuthenticated:e,checkPassword:t}=ND(),[i,r]=G.useState(""),[a,l]=G.useState(!1),[u,h]=G.useState(!1);if(e)return E.jsx(E.Fragment,{children:n});const d=g=>{g.preventDefault(),t(i)||(l(!0),setTimeout(()=>l(!1),2e3))};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-blue-600 to-blue-800 flex items-center justify-center p-4",children:E.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-sm",children:[E.jsxs("div",{className:"flex flex-col items-center mb-8",children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:E.jsx(ms,{size:40,className:"text-white"})}),E.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"VisApp"}),E.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Voor jou en je vismaat"})]}),E.jsxs("form",{onSubmit:d,className:"space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:E.jsx(dO,{size:20})}),E.jsx("input",{type:u?"text":"password",value:i,onChange:g=>r(g.target.value),placeholder:"Wachtwoord",className:`w-full pl-10 pr-12 py-3 rounded-lg border-2 transition-colors outline-none ${a?"border-red-400 bg-red-50":"border-gray-200 focus:border-blue-400"}`,autoFocus:!0}),E.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?E.jsx(tO,{size:20}):E.jsx(iO,{size:20})})]}),a&&E.jsx(Be.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm text-center",children:"Onjuist wachtwoord"}),E.jsx(Be.button,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium shadow-md hover:shadow-lg transition-shadow",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Inloggen"})]}),E.jsx("p",{className:"text-center text-gray-400 text-xs mt-6",children:"Beschermd voor persoonlijk gebruik"})]})})}function wb(){const n=Un(i=>i.spotFormOpen),e=Un(i=>i.spotFormLocation),t=Un(i=>i.closeSpotForm);return E.jsx(xb,{children:E.jsxs("div",{className:"h-screen w-screen overflow-hidden",children:[E.jsx(zD,{}),E.jsx($O,{}),E.jsx(mb,{}),E.jsx(pb,{}),E.jsx(KO,{}),E.jsx(ZO,{}),E.jsx(qO,{}),E.jsx(QO,{}),E.jsx(ub,{}),E.jsx(sb,{}),E.jsx(vb,{}),E.jsx(gb,{}),E.jsx(YO,{}),E.jsx(cb,{}),E.jsx(JO,{}),E.jsx(Sr,{children:n&&E.jsx(yb,{onClose:t,initialLocation:e||void 0})})]})})}const Eb="0.1.0";console.log(`%c VisApp v${Eb}`,"background: #2196F3; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold;");NC.createRoot(document.getElementById("root")).render(E.jsx(wb,{}));export{bb as $,_w as A,He as B,fs as C,De as D,Ce as E,Xn as F,hk as G,Vc as H,_I as I,rs as J,mw as K,yw as L,kb as M,pc as N,_k as O,Mb as P,vw as Q,lo as R,kn as S,mA as T,os as U,Im as V,Z1 as W,Rb as X,Pb as Y,Lb as Z,Nb as _,Fm as a,cv as a0,lL as a1,uL as a2,Ob as a3,Db as a4,el as a5,Ab as a6,Ib as a7,Bn as a8,_o as a9,Ae as aa,tc as ab,mc as ac,bw as ad,dg as ae,yo as af,dk as ag,Io as b,jt as c,jb as d,Ln as e,Qt as f,ze as g,Hv as h,lm as i,HM as j,If as k,ym as l,is as m,am as n,$1 as o,gw as p,pw as q,Tb as r,pk as s,Yc as t,dv as u,ao as v,hv as w,yk as x,xm as y,vm as z};
//# sourceMappingURL=index-B2F4X4GY.js.map
